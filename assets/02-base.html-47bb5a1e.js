import{_ as p,M as o,p as c,q as i,R as s,t as n,N as e,a1 as t}from"./framework-7db056f4.js";const l={},u=t(`<h1 id="åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€" aria-hidden="true">#</a> åŸºç¡€</h1><h2 id="åŸå§‹æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#åŸå§‹æ•°æ®ç±»å‹" aria-hidden="true">#</a> åŸå§‹æ•°æ®ç±»å‹</h2><p>js çš„ç±»å‹åˆ†ä¸ºä¸¤ç§:</p><ol><li>åŸå§‹æ•°æ®ç±»å‹(Primitive data types)</li><li>å¯¹è±¡ç±»å‹(Object types)</li></ol><p>åŸå§‹æ•°æ®ç±»å‹ï¼š</p><ul><li>boolean</li><li>number</li><li>string</li><li>null</li><li>undefined</li><li>Symbol (ES6)</li><li>BigInt (ES10)</li></ul><p>åœ¨ ts ä¸­åœ¨å˜é‡ååä½¿ç”¨<code>:type</code> è¡¨ç¤ºé™å®šè¯¥å˜é‡çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼š<code>let num: number = 123;</code> <code>num</code> ä¸º <code>number</code> ç±»å‹</p><h3 id="boolean" tabindex="-1"><a class="header-anchor" href="#boolean" aria-hidden="true">#</a> boolean</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> isTrue<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> createdByNewBoolean<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Type &#39;Boolean&#39; is not assignable to type &#39;boolean&#39;.</span>
<span class="token comment">//   &#39;boolean&#39; is a primitive, but &#39;Boolean&#39; is a wrapper object. Prefer using &#39;boolean&#39; when possible.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>ä½¿ç”¨æ„é€ å‡½æ•° Boolean åˆ›é€ çš„å¯¹è±¡ä¸æ˜¯å¸ƒå°”å€¼, new Boolean() è¿”å›çš„æ˜¯ä¸€ä¸ª Boolean å¯¹è±¡ã€‚</p></div><p>ç›´æ¥è°ƒç”¨ <code>Boolean()</code> ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ª <code>boolean</code> ç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> createdByBoolean<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="number" tabindex="-1"><a class="header-anchor" href="#number" aria-hidden="true">#</a> number</h3><p>ä½¿ç”¨ <code>number</code> å®šä¹‰æ•°å€¼ç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> decLiteral<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> hexLiteral<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0xf00d</span><span class="token punctuation">;</span>
<span class="token comment">// ES6 ä¸­çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ³•</span>
<span class="token keyword">let</span> binaryLiteral<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0b1010</span><span class="token punctuation">;</span>
<span class="token comment">// ES6 ä¸­çš„å…«è¿›åˆ¶è¡¨ç¤ºæ³•</span>
<span class="token keyword">let</span> octalLiteral<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0o744</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> notANumber<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> infinityNumber<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">Infinity</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ <code>0b1010</code> å’Œ <code>0o744</code> æ˜¯ ES6 ä¸­çš„äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶è¡¨ç¤ºæ³•ï¼Œå®ƒä»¬ä¼šè¢«ç¼–è¯‘ä¸ºåè¿›åˆ¶æ•°å­—ã€‚</p><h3 id="string" tabindex="-1"><a class="header-anchor" href="#string" aria-hidden="true">#</a> string</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> me<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;mosquito&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> str<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>me<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, i&#39;m </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old.</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ²¡å•¥å¥½è¯´çš„</p><h3 id="void" tabindex="-1"><a class="header-anchor" href="#void" aria-hidden="true">#</a> void</h3><p>js æ²¡æœ‰ ç©ºå€¼(void)çš„æ¦‚å¿µ,ts ä¸­å¯ä»¥ç”¨<code>void</code> è¡¨ç¤ºæ²¡æœ‰ä»»ä½•è¿”å›å€¼çš„å‡½æ•°</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;emmm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å£°æ˜ä¸€ä¸ª <code>void</code> ç±»å‹æ²¡æœ‰ç”¨ï¼Œå®ƒåªèƒ½è¢«èµ‹å€¼ä¸º<code>undefined</code> æˆ– <code>null</code>(åªåœ¨ --strictNullChecks æœªæŒ‡å®šæ—¶)</p><h3 id="null-ä¸-undefined" tabindex="-1"><a class="header-anchor" href="#null-ä¸-undefined" aria-hidden="true">#</a> null ä¸ undefined</h3><p>åœ¨ ts ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>null</code> å’Œ <code>undefined</code> æ¥å®šä¹‰åŸå§‹æ•°æ®ç±»å‹</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> u<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ <code>void</code> çš„åŒºåˆ«æ˜¯ï¼Œ<code>undefined</code> å’Œ <code>null</code> æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ <code>undefined</code> å’Œ <code>null</code> ç±»å‹çš„å˜é‡ï¼Œå¯ä»¥èµ‹å€¼ç»™ <code>number</code> ç±»å‹çš„å˜é‡</p><p>è€Œ<code>void</code> åˆ™ä¸è¡Œ</p><h2 id="ä»»æ„å€¼-any" tabindex="-1"><a class="header-anchor" href="#ä»»æ„å€¼-any" aria-hidden="true">#</a> ä»»æ„å€¼(Any)</h2><p>Any è¡¨ç¤ºç”¨æ¥å…è®¸èµ‹å€¼ä¸ºä»»æ„ç±»å‹, å°±æ˜¯ç»å¸¸è¯´çš„<code>anyscript</code> å•¦ X)</p><h3 id="ä»€ä¹ˆæ˜¯ä»»æ„å€¼ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ä»»æ„å€¼ç±»å‹" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯ä»»æ„å€¼ç±»å‹</h3><p>å¦‚æœæ˜¯ä¸€ä¸ªæ™®é€šç±»å‹ï¼Œåœ¨èµ‹å€¼è¿‡ç¨‹ä¸­æ”¹å˜ç±»å‹æ˜¯ä¸è¢«å…è®¸çš„</p><p>ä½†å¦‚æœæ˜¯ <code>any</code> ç±»å‹ï¼Œåˆ™å…è®¸è¢«èµ‹å€¼ä¸ºä»»æ„ç±»å‹ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(2,1): error TS2322: Type &#39;number&#39; is not assignable to type &#39;string&#39;.</span>

<span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä»»æ„å€¼çš„å±æ€§å’Œæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ä»»æ„å€¼çš„å±æ€§å’Œæ–¹æ³•" aria-hidden="true">#</a> ä»»æ„å€¼çš„å±æ€§å’Œæ–¹æ³•</h3><p>åœ¨ä»»æ„å€¼ä¸Šè®¿é—®ä»»ä½•å±æ€§éƒ½æ˜¯å…è®¸çš„, ä¹Ÿå…è®¸è°ƒç”¨ä»»ä½•æ–¹æ³•</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> anyThing<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>anyThing<span class="token punctuation">.</span>myName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>anyThing<span class="token punctuation">.</span>myName<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> anyThing<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">;</span>
anyThing<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Jerry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
anyThing<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Jerry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
anyThing<span class="token punctuation">.</span>myName<span class="token punctuation">.</span><span class="token function">setFirstName</span><span class="token punctuation">(</span><span class="token string">&quot;Cat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥è®¤ä¸ºï¼Œå£°æ˜ä¸€ä¸ªå˜é‡ä¸ºä»»æ„å€¼ä¹‹åï¼Œå¯¹å®ƒçš„ä»»ä½•æ“ä½œï¼Œè¿”å›çš„å†…å®¹çš„ç±»å‹éƒ½æ˜¯ä»»æ„å€¼ã€‚</p><h3 id="æœªå£°æ˜ç±»å‹çš„å˜é‡" tabindex="-1"><a class="header-anchor" href="#æœªå£°æ˜ç±»å‹çš„å˜é‡" aria-hidden="true">#</a> æœªå£°æ˜ç±»å‹çš„å˜é‡</h3><p>å˜é‡å¦‚æœåœ¨å£°æ˜çš„æ—¶å€™ï¼ŒæœªæŒ‡å®šå…¶ç±»å‹ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«è¯†åˆ«ä¸ºä»»æ„å€¼ç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> something<span class="token punctuation">;</span>

<span class="token comment">// ç­‰ä»·äº</span>
<span class="token keyword">let</span> something<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç±»å‹æ¨è®º" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ¨è®º" aria-hidden="true">#</a> ç±»å‹æ¨è®º</h2><p>å¦‚æœæ²¡æœ‰æ˜ç¡®çš„æŒ‡å®šç±»å‹ï¼Œé‚£ä¹ˆ TypeScript ä¼šä¾ç…§ç±»å‹æ¨è®ºï¼ˆType Inferenceï¼‰çš„è§„åˆ™æ¨æ–­å‡ºä¸€ä¸ªç±»å‹ã€‚</p><p>å¦‚æœå®šä¹‰çš„æ—¶å€™æ²¡æœ‰èµ‹å€¼ï¼Œä¸ç®¡ä¹‹åæœ‰æ²¡æœ‰èµ‹å€¼ï¼Œéƒ½ä¼šè¢«æ¨æ–­æˆ any ç±»å‹è€Œå®Œå…¨ä¸è¢«ç±»å‹æ£€æŸ¥ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è”åˆç±»å‹" tabindex="-1"><a class="header-anchor" href="#è”åˆç±»å‹" aria-hidden="true">#</a> è”åˆç±»å‹</h2><p>è”åˆç±»å‹ï¼ˆUnion Typesï¼‰è¡¨ç¤ºå–å€¼å¯ä»¥ä¸ºå¤šç§ç±»å‹ä¸­çš„ä¸€ç§ã€‚</p><p>è”åˆç±»å‹ä½¿ç”¨ <code>|</code> åˆ†éš”æ¯ä¸ªç±»å‹ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">// index.ts(2,1): error TS2322: Type &#39;boolean&#39; is not assignable to type &#39;string | number&#39;.</span>
<span class="token comment">//   Type &#39;boolean&#39; is not assignable to type &#39;number&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è®¿é—®è”åˆç±»å‹çš„å±æ€§æˆ–æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#è®¿é—®è”åˆç±»å‹çš„å±æ€§æˆ–æ–¹æ³•" aria-hidden="true">#</a> è®¿é—®è”åˆç±»å‹çš„å±æ€§æˆ–æ–¹æ³•</h3><p>å½“ TypeScript ä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹é‡Œå…±æœ‰çš„å±æ€§æˆ–æ–¹æ³•ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span>something<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> something<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// index.ts(2,22): error TS2339: Property &#39;length&#39; does not exist on type &#39;string | number&#39;.</span>
<span class="token comment">//   Property &#39;length&#39; does not exist on type &#39;number&#39;.</span>

<span class="token keyword">function</span> <span class="token function">getString</span><span class="token punctuation">(</span>something<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> something<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// fine</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è”åˆç±»å‹çš„å˜é‡åœ¨è¢«èµ‹å€¼çš„æ—¶å€™ï¼Œä¼šæ ¹æ®ç±»å‹æ¨è®ºçš„è§„åˆ™æ¨æ–­å‡ºä¸€ä¸ªç±»å‹</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token string">&quot;seven&quot;</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myFavoriteNumber<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myFavoriteNumber<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¼–è¯‘æ—¶æŠ¥é”™</span>

<span class="token comment">// index.ts(5,30): error TS2339: Property &#39;length&#39; does not exist on type &#39;number&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å¯¹è±¡ç±»å‹-æ¥å£" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡ç±»å‹-æ¥å£" aria-hidden="true">#</a> å¯¹è±¡ç±»å‹--æ¥å£</h2><p>åœ¨ TypeScript ä¸­ï¼Œä½¿ç”¨æ¥å£ï¼ˆInterfacesï¼‰æ¥å®šä¹‰å¯¹è±¡çš„ç±»å‹ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯æ¥å£" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯æ¥å£" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯æ¥å£</h3><p>åœ¨é¢å‘å¯¹è±¡è¯­è¨€ä¸­ï¼Œæ¥å£ï¼ˆInterfacesï¼‰æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå®ƒæ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œè€Œå…·ä½“å¦‚ä½•è¡ŒåŠ¨éœ€è¦ç”±ç±»ï¼ˆclassesï¼‰å»å®ç°ï¼ˆimplementï¼‰ã€‚</p><p>TypeScript ä¸­çš„æ¥å£æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„æ¦‚å¿µï¼Œé™¤äº†å¯ç”¨äºå¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡ŒæŠ½è±¡ä»¥å¤–ï¼Œä¹Ÿå¸¸ç”¨äºå¯¹ã€Œå¯¹è±¡çš„å½¢çŠ¶ï¼ˆShapeï¼‰ã€è¿›è¡Œæè¿°ã€‚</p><p>æ¥å£ä¸€èˆ¬é¦–å­—æ¯å¤§å†™ã€‚æœ‰çš„ç¼–ç¨‹è¯­è¨€ä¸­ä¼šå»ºè®®æ¥å£çš„åç§°åŠ ä¸Š I å‰ç¼€ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// fine</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(6,5): error TS2322: Type &#39;{ name: string; }&#39; is not assignable to type &#39;Person&#39;.</span>
<span class="token comment">//   Property &#39;age&#39; is missing in type &#39;{ name: string; }&#39;.</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
  gender<span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(9,5): error TS2322: Type &#39;{ name: string; age: number; gender: string; }&#39; is not assignable to type &#39;Person&#39;.</span>
<span class="token comment">//   Object literal may only specify known properties, and &#39;gender&#39; does not exist in type &#39;Person&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ¥å£ Personï¼Œæ¥ç€å®šä¹‰äº†ä¸€ä¸ªå˜é‡ tomï¼Œå®ƒçš„ç±»å‹æ˜¯ Personã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±çº¦æŸäº† tom çš„å½¢çŠ¶å¿…é¡»å’Œæ¥å£ Person ä¸€è‡´, å®šä¹‰çš„å˜é‡æ¯”æ¥å£å°‘äº†ä¸€äº›æˆ–å¤šä¸€äº›å±æ€§æ˜¯ä¸å…è®¸çš„</p><h3 id="å¯é€‰å±æ€§" tabindex="-1"><a class="header-anchor" href="#å¯é€‰å±æ€§" aria-hidden="true">#</a> å¯é€‰å±æ€§</h3><p>å¸Œæœ›ä¸è¦å®Œå…¨åŒ¹é…ä¸€ä¸ªå½¢çŠ¶ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å¯é€‰å±æ€§<code>?</code></p><p>å¯é€‰å±æ€§çš„å«ä¹‰æ˜¯è¯¥å±æ€§å¯ä»¥ä¸å­˜åœ¨ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> Kitty<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Kitty&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä»»æ„å±æ€§" tabindex="-1"><a class="header-anchor" href="#ä»»æ„å±æ€§" aria-hidden="true">#</a> ä»»æ„å±æ€§</h3><p>å¸Œæœ›ä¸€ä¸ªæ¥å£å…è®¸æœ‰ä»»æ„çš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
  gender<span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><code>[propName: string]</code> è¡¨ç¤º key å–<code>string</code> ç±»å‹çš„ï¼Œæˆ‘å‘ç°æ”¹æˆå…¶ä»–çš„ç±»å‹ä¹Ÿæœªå¿…èƒ½æ­£ç¡®æ‰§è¡Œ ğŸ˜…</p></div><p>ä¸€æ—¦å®šä¹‰äº†ä»»æ„å±æ€§ï¼Œé‚£ä¹ˆç¡®å®šå±æ€§å’Œå¯é€‰å±æ€§çš„ç±»å‹éƒ½å¿…é¡»æ˜¯å®ƒçš„ç±»å‹çš„å­é›†</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
  gender<span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(3,5): error TS2411: Property &#39;age&#39; of type &#39;number&#39; is not assignable to string index type &#39;string&#39;.</span>
<span class="token comment">// index.ts(7,5): error TS2322: Type &#39;{ [x: string]: string | number; name: string; age: number; gender: string; }&#39; is not assignable to type &#39;Person&#39;.</span>
<span class="token comment">//   Index signatures are incompatible.</span>
<span class="token comment">//     Type &#39;string | number&#39; is not assignable to type &#39;string&#39;.</span>
<span class="token comment">//       Type &#39;number&#39; is not assignable to type &#39;string&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šä¾‹ä¸­ï¼Œä»»æ„å±æ€§çš„å€¼å…è®¸æ˜¯ stringï¼Œä½†æ˜¯å¯é€‰å±æ€§ age çš„å€¼å´æ˜¯ numberï¼Œnumber ä¸æ˜¯ string çš„å­å±æ€§ï¼Œæ‰€ä»¥æŠ¥é”™äº†</p><blockquote><p>åœ¨æŠ¥é”™ä¿¡æ¯ä¸­å¯ä»¥çœ‹å‡ºï¼Œæ­¤æ—¶ <code>{ name: &#39;Tom&#39;, age: 25, gender: &#39;male&#39; }</code>çš„ç±»å‹è¢«æ¨æ–­æˆäº† <code>{ [x: string]: string | number; name: string; age: number; gender: string; }</code>ï¼Œè¿™æ˜¯è”åˆç±»å‹å’Œæ¥å£çš„ç»“åˆ</p></blockquote><p>ä¸€ä¸ªæ¥å£ä¸­åªèƒ½å®šä¹‰ä¸€ä¸ªä»»æ„å±æ€§ã€‚å¦‚æœæ¥å£ä¸­æœ‰å¤šä¸ªç±»å‹çš„å±æ€§ï¼Œåˆ™å¯ä»¥åœ¨ä»»æ„å±æ€§ä¸­ä½¿ç”¨è”åˆç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
  gender<span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åªè¯»å±æ€§" tabindex="-1"><a class="header-anchor" href="#åªè¯»å±æ€§" aria-hidden="true">#</a> åªè¯»å±æ€§</h3><p>å¸Œæœ›å¯¹è±¡ä¸­çš„ä¸€äº›å­—æ®µåªèƒ½åœ¨åˆ›å»ºçš„æ—¶å€™è¢«èµ‹å€¼ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ readonly å®šä¹‰åªè¯»å±æ€§ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">89757</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
  gender<span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

tom<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">9527</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(14,5): error TS2540: Cannot assign to &#39;id&#39; because it is a constant or a read-only property.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>æ³¨æ„ï¼Œåªè¯»çš„çº¦æŸå­˜åœ¨äºç¬¬ä¸€æ¬¡ç»™å¯¹è±¡èµ‹å€¼çš„æ—¶å€™ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€æ¬¡ç»™åªè¯»å±æ€§èµ‹å€¼çš„æ—¶å€™ï¼š</p></div><h2 id="æ•°ç»„ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æ•°ç»„ç±»å‹" aria-hidden="true">#</a> æ•°ç»„ç±»å‹</h2><p>åœ¨ TypeScript ä¸­ï¼Œ æ•°ç»„ç±»å‹æœ‰å¤šç§å®šä¹‰æ–¹å¼ï¼Œæ¯”è¾ƒçµæ´»</p><h3 id="ç±»å‹-æ–¹æ‹¬å·è¡¨ç¤º" tabindex="-1"><a class="header-anchor" href="#ç±»å‹-æ–¹æ‹¬å·è¡¨ç¤º" aria-hidden="true">#</a> ç±»å‹ + æ–¹æ‹¬å·è¡¨ç¤º</h3><p>æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ã€Œç±»å‹ + æ–¹æ‹¬å·ã€æ¥è¡¨ç¤ºæ•°ç»„</p><p>æ•°ç»„çš„é¡¹ä¸­ä¸å…è®¸å‡ºç°å…¶ä»–çš„ç±»å‹</p><p>æ•°ç»„çš„ä¸€äº›æ–¹æ³•çš„å‚æ•°ä¹Ÿä¼šæ ¹æ®æ•°ç»„åœ¨å®šä¹‰æ—¶çº¦å®šçš„ç±»å‹è¿›è¡Œé™åˆ¶</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Type &#39;string&#39; is not assignable to type &#39;number&#39;.</span>

<span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
fibonacci<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Argument of type &#39;&quot;8&quot;&#39; is not assignable to parameter of type &#39;number&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ•°ç»„æ³›å‹" tabindex="-1"><a class="header-anchor" href="#æ•°ç»„æ³›å‹" aria-hidden="true">#</a> æ•°ç»„æ³›å‹</h3><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„æ³›å‹ï¼ˆArray Genericï¼‰ <code>Array&lt;elemType&gt;</code> æ¥è¡¨ç¤ºæ•°ç»„ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å‚è€ƒ<a href="">æ³›å‹</a></p><h3 id="ç”¨æ¥å£è¡¨ç¤ºæ•°ç»„" tabindex="-1"><a class="header-anchor" href="#ç”¨æ¥å£è¡¨ç¤ºæ•°ç»„" aria-hidden="true">#</a> ç”¨æ¥å£è¡¨ç¤ºæ•°ç»„</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">NumberArray</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> fibonacci<span class="token operator">:</span> NumberArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>NumberArray è¡¨ç¤ºï¼šåªè¦ç´¢å¼•çš„ç±»å‹æ˜¯æ•°å­—æ—¶ï¼Œé‚£ä¹ˆå€¼çš„ç±»å‹å¿…é¡»æ˜¯æ•°å­—ã€‚</p><p>è™½ç„¶æ¥å£ä¹Ÿå¯ä»¥ç”¨æ¥æè¿°æ•°ç»„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šè¿™ä¹ˆåšï¼Œå› ä¸ºè¿™ç§æ–¹å¼æ¯”å‰ä¸¤ç§æ–¹å¼å¤æ‚å¤šäº†ã€‚</p><p>ä¸è¿‡æœ‰ä¸€ç§æƒ…å†µä¾‹å¤–ï¼Œé‚£å°±æ˜¯å®ƒå¸¸ç”¨æ¥è¡¨ç¤ºç±»æ•°ç»„ã€‚</p><h3 id="ç±»æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#ç±»æ•°ç»„" aria-hidden="true">#</a> ç±»æ•°ç»„</h3><p>ç±»æ•°ç»„ï¼ˆArray-like Objectï¼‰ä¸æ˜¯æ•°ç»„ç±»å‹ï¼Œæ¯”å¦‚ <code>arguments</code>ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> args<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Type &#39;IArguments&#39; is missing the following properties from type &#39;number[]&#39;: pop, push, concat, join, and 24 more.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šä¾‹ä¸­ï¼Œ<code>arguments</code> å®é™…ä¸Šæ˜¯ä¸€ä¸ªç±»æ•°ç»„ï¼Œä¸èƒ½ç”¨æ™®é€šçš„æ•°ç»„çš„æ–¹å¼æ¥æè¿°ï¼Œè€Œåº”è¯¥ç”¨æ¥å£ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> args<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    callee<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é™¤äº†çº¦æŸå½“ç´¢å¼•çš„ç±»å‹æ˜¯æ•°å­—æ—¶ï¼Œå€¼çš„ç±»å‹å¿…é¡»æ˜¯æ•°å­—ä¹‹å¤–ï¼Œä¹Ÿçº¦æŸäº†å®ƒè¿˜æœ‰ length å’Œ callee ä¸¤ä¸ªå±æ€§ã€‚</p><p>äº‹å®ä¸Šå¸¸ç”¨çš„ç±»æ•°ç»„éƒ½æœ‰è‡ªå·±çš„æ¥å£å®šä¹‰ï¼Œå¦‚ <code>IArguments</code>, <code>NodeList</code>, <code>HTMLCollection</code> ç­‰ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> args<span class="token operator">:</span> IArguments <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ <code>IArguments</code> æ˜¯ TypeScript ä¸­å®šä¹‰å¥½äº†çš„ç±»å‹ï¼Œå®ƒå®é™…ä¸Šå°±æ˜¯ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">IArguments</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
  length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  callee<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‚è€ƒ<a href="#%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1">å†…ç½®å¯¹è±¡</a></p><h3 id="any-åœ¨æ•°ç»„ä¸­çš„åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#any-åœ¨æ•°ç»„ä¸­çš„åº”ç”¨" aria-hidden="true">#</a> any åœ¨æ•°ç»„ä¸­çš„åº”ç”¨</h3><p>ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„åšæ³•æ˜¯ï¼Œç”¨ any è¡¨ç¤ºæ•°ç»„ä¸­å…è®¸å‡ºç°ä»»æ„ç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> list<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;xcatliu&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> website<span class="token operator">:</span> <span class="token string">&quot;http://xcatliu.com&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å‡½æ•°ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°ç±»å‹" aria-hidden="true">#</a> å‡½æ•°ç±»å‹</h2><h3 id="å‡½æ•°å£°æ˜" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°å£°æ˜" aria-hidden="true">#</a> å‡½æ•°å£°æ˜</h3><p>åœ¨ JavaScript ä¸­ï¼Œæœ‰ä¸¤ç§å¸¸è§çš„å®šä¹‰å‡½æ•°çš„æ–¹å¼â€”â€”å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰å’Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰</span>
<span class="token keyword">let</span> <span class="token function-variable function">mySum</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ªå‡½æ•°æœ‰è¾“å…¥å’Œè¾“å‡ºï¼Œè¦åœ¨ TypeScript ä¸­å¯¹å…¶è¿›è¡Œçº¦æŸï¼Œéœ€è¦æŠŠè¾“å…¥å’Œè¾“å‡ºéƒ½è€ƒè™‘åˆ°ï¼Œå…¶ä¸­å‡½æ•°å£°æ˜çš„ç±»å‹å®šä¹‰è¾ƒç®€å•ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼Œè¾“å…¥å¤šä½™çš„ï¼ˆæˆ–è€…å°‘äºè¦æ±‚çš„ï¼‰å‚æ•°ï¼Œæ˜¯ä¸è¢«å…è®¸çš„ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(4,1): error TS2346: Supplied parameters do not match any signature of call target.</span>

<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(4,1): error TS2346: Supplied parameters do not match any signature of call target.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å‡½æ•°è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°è¡¨è¾¾å¼" aria-hidden="true">#</a> å‡½æ•°è¡¨è¾¾å¼</h3><p>å¦‚æœè¦æˆ‘ä»¬ç°åœ¨å†™ä¸€ä¸ªå¯¹å‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰çš„å®šä¹‰ï¼Œå¯èƒ½ä¼šå†™æˆè¿™æ ·ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> <span class="token function-variable function">mySum</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ˜¯å¯ä»¥é€šè¿‡ç¼–è¯‘çš„ï¼Œä¸è¿‡äº‹å®ä¸Šï¼Œä¸Šé¢çš„ä»£ç åªå¯¹ç­‰å·å³ä¾§çš„åŒ¿åå‡½æ•°è¿›è¡Œäº†ç±»å‹å®šä¹‰ï¼Œè€Œç­‰å·å·¦è¾¹çš„ mySumï¼Œæ˜¯é€šè¿‡èµ‹å€¼æ“ä½œè¿›è¡Œç±»å‹æ¨è®ºè€Œæ¨æ–­å‡ºæ¥çš„ã€‚å¦‚æœéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ç»™ mySum æ·»åŠ ç±»å‹ï¼Œåˆ™åº”è¯¥æ˜¯è¿™æ ·ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> <span class="token function-variable function">mySum</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>æ³¨æ„ä¸è¦æ··æ·†äº† TypeScript ä¸­çš„ <code>=&gt;</code> å’Œ ES6 ä¸­çš„ <code>=&gt;</code>ã€‚</p><p>åœ¨ ES6 ä¸­ï¼Œ<code>=&gt; </code>å«åšç®­å¤´å‡½æ•°ï¼Œåº”ç”¨ååˆ†å¹¿æ³›</p><p>åœ¨ TypeScript çš„ç±»å‹å®šä¹‰ä¸­ï¼Œ<code>=&gt;</code> ç”¨æ¥è¡¨ç¤ºå‡½æ•°çš„å®šä¹‰ï¼Œå·¦è¾¹æ˜¯è¾“å…¥ç±»å‹ï¼Œéœ€è¦ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œå³è¾¹æ˜¯è¾“å‡ºç±»å‹ã€‚</p></div><h3 id="ç”¨æ¥å£å®šä¹‰å‡½æ•°çš„å½¢çŠ¶" tabindex="-1"><a class="header-anchor" href="#ç”¨æ¥å£å®šä¹‰å‡½æ•°çš„å½¢çŠ¶" aria-hidden="true">#</a> ç”¨æ¥å£å®šä¹‰å‡½æ•°çš„å½¢çŠ¶</h3><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ¥å£çš„æ–¹å¼æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°éœ€è¦ç¬¦åˆçš„å½¢çŠ¶</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">SearchFunc</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>source<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> subString<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> mySearch<span class="token operator">:</span> SearchFunc<span class="token punctuation">;</span>
<span class="token function-variable function">mySearch</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>source<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> subString<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>subString<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡‡ç”¨å‡½æ•°è¡¨è¾¾å¼æ¥å£å®šä¹‰å‡½æ•°çš„æ–¹å¼æ—¶ï¼Œå¯¹ç­‰å·å·¦ä¾§è¿›è¡Œç±»å‹é™åˆ¶ï¼Œå¯ä»¥ä¿è¯ä»¥åå¯¹å‡½æ•°åèµ‹å€¼æ—¶ä¿è¯å‚æ•°ä¸ªæ•°ã€å‚æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹ä¸å˜ã€‚</p><h3 id="å¯é€‰å‚æ•°" tabindex="-1"><a class="header-anchor" href="#å¯é€‰å‚æ•°" aria-hidden="true">#</a> å¯é€‰å‚æ•°</h3><p>ä¸æ¥å£ä¸­çš„å¯é€‰å±æ€§ç±»ä¼¼ï¼Œç”¨ <code>?</code> è¡¨ç¤ºå¯é€‰çš„å‚æ•°ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">buildName</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lastName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>lastName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> firstName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tomcat <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tom <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯é€‰å‚æ•°å¿…é¡»æ¥åœ¨å¿…éœ€å‚æ•°åé¢ã€‚æ¢å¥è¯è¯´ï¼Œå¯é€‰å‚æ•°åé¢ä¸å…è®¸å†å‡ºç°å¿…éœ€å‚æ•°äº†, å¦åˆ™æŠ¥é”™</p><h3 id="å‚æ•°é»˜è®¤å€¼" tabindex="-1"><a class="header-anchor" href="#å‚æ•°é»˜è®¤å€¼" aria-hidden="true">#</a> å‚æ•°é»˜è®¤å€¼</h3><p>åœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬å…è®¸ç»™å‡½æ•°çš„å‚æ•°æ·»åŠ é»˜è®¤å€¼ï¼ŒTypeScript ä¼šå°†æ·»åŠ äº†é»˜è®¤å€¼çš„å‚æ•°è¯†åˆ«ä¸ºå¯é€‰å‚æ•°ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">buildName</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lastName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;Cat&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tomcat <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tom <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">buildName</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> lastName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tomcat <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">&quot;Cat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å‰©ä½™å‚æ•°" tabindex="-1"><a class="header-anchor" href="#å‰©ä½™å‚æ•°" aria-hidden="true">#</a> å‰©ä½™å‚æ•°</h3><p>ES6 ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>...rest</code> çš„æ–¹å¼è·å–å‡½æ•°ä¸­çš„å‰©ä½™å‚æ•°ï¼ˆrest å‚æ•°ï¼‰ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">push</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token operator">...</span>items<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">push</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>äº‹å®ä¸Šï¼Œitems æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨æ•°ç»„çš„ç±»å‹æ¥å®šä¹‰å®ƒï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">push</span><span class="token punctuation">(</span>array<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">...</span>items<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">push</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ³¨æ„ï¼Œrest å‚æ•°åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°</p></blockquote><h3 id="é‡è½½" tabindex="-1"><a class="header-anchor" href="#é‡è½½" aria-hidden="true">#</a> é‡è½½</h3><p>é‡è½½å…è®¸ä¸€ä¸ªå‡½æ•°æ¥å—ä¸åŒæ•°é‡æˆ–ç±»å‹çš„å‚æ•°æ—¶ï¼Œä½œå‡ºä¸åŒçš„å¤„ç†ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªå‡½æ•° <code>reverse</code>ï¼Œè¾“å…¥æ•°å­— <code>123</code> çš„æ—¶å€™ï¼Œè¾“å‡ºåè½¬çš„æ•°å­— <code>321</code>ï¼Œè¾“å…¥å­—ç¬¦ä¸² <code>&#39;hello&#39;</code> çš„æ—¶å€™ï¼Œè¾“å‡ºåè½¬çš„å­—ç¬¦ä¸² <code>&#39;olleh&#39;</code>ã€‚</p><p>åˆ©ç”¨è”åˆç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå®ç°ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">reverse</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶è€Œè¿™æ ·æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯ä¸èƒ½å¤Ÿç²¾ç¡®çš„è¡¨è¾¾ï¼Œè¾“å…¥ä¸ºæ•°å­—çš„æ—¶å€™ï¼Œè¾“å‡ºä¹Ÿåº”è¯¥ä¸ºæ•°å­—ï¼Œè¾“å…¥ä¸ºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œè¾“å‡ºä¹Ÿåº”è¯¥ä¸ºå­—ç¬¦ä¸²ã€‚</p><p>è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é‡è½½å®šä¹‰å¤šä¸ª <code>reverse</code> çš„å‡½æ•°ç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">reverse</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">reverse</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">reverse</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬é‡å¤å®šä¹‰äº†å¤šæ¬¡å‡½æ•° <code>reverse</code>ï¼Œå‰å‡ æ¬¡éƒ½æ˜¯å‡½æ•°å®šä¹‰ï¼Œæœ€åä¸€æ¬¡æ˜¯å‡½æ•°å®ç°ã€‚åœ¨ç¼–è¾‘å™¨çš„ä»£ç æç¤ºä¸­ï¼Œå¯ä»¥æ­£ç¡®çš„çœ‹åˆ°å‰ä¸¤ä¸ªæç¤ºã€‚</p><p>æ³¨æ„ï¼ŒTypeScript ä¼šä¼˜å…ˆä»æœ€å‰é¢çš„å‡½æ•°å®šä¹‰å¼€å§‹åŒ¹é…ï¼Œæ‰€ä»¥å¤šä¸ªå‡½æ•°å®šä¹‰å¦‚æœæœ‰åŒ…å«å…³ç³»ï¼Œéœ€è¦ä¼˜å…ˆæŠŠç²¾ç¡®çš„å®šä¹‰å†™åœ¨å‰é¢ã€‚</p><h2 id="ç±»å‹æ–­è¨€" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ–­è¨€" aria-hidden="true">#</a> ç±»å‹æ–­è¨€</h2><p>ç±»å‹æ–­è¨€ï¼ˆType Assertionï¼‰å¯ä»¥ç”¨æ¥æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªå€¼çš„ç±»å‹ã€‚</p><h3 id="è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#è¯­æ³•" aria-hidden="true">#</a> è¯­æ³•</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// å†™æ³•ä¸€</span>
å€¼ <span class="token keyword">as</span> ç±»å‹<span class="token punctuation">;</span>

<span class="token comment">// å†™æ³•äºŒ</span>
<span class="token operator">&lt;</span>ç±»å‹<span class="token operator">&gt;</span>å€¼<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ tsx è¯­æ³•ä¸­ï¼Œå¿…é¡»ä½¿ç”¨å†™æ³•ä¸€<code>å€¼ as ç±»å‹</code></p><p>ç”±äºå†™æ³•äºŒåƒæ˜¯è¡¨ç¤ºæ³›å‹ï¼Œæ•…æ¨èç»Ÿä¸€ä½¿ç”¨ç¬¬ä¸€ç§å†™æ³•</p><h3 id="ç±»å‹æ–­è¨€çš„ç”¨é€”" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ–­è¨€çš„ç”¨é€”" aria-hidden="true">#</a> ç±»å‹æ–­è¨€çš„ç”¨é€”</h3><p>ç±»å‹æ–­è¨€çš„å¸¸è§ç”¨é€”æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><h4 id="å°†ä¸€ä¸ªè”åˆç±»å‹æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹" tabindex="-1"><a class="header-anchor" href="#å°†ä¸€ä¸ªè”åˆç±»å‹æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹" aria-hidden="true">#</a> å°†ä¸€ä¸ªè”åˆç±»å‹æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹</h4><p>å½“ TypeScript ä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹ä¸­å…±æœ‰çš„å±æ€§æˆ–æ–¹æ³•</p><p>è€Œæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ç¡®å®éœ€è¦åœ¨è¿˜ä¸ç¡®å®šç±»å‹çš„æ—¶å€™å°±è®¿é—®å…¶ä¸­ä¸€ä¸ªç±»å‹ç‰¹æœ‰çš„å±æ€§æˆ–æ–¹æ³•ï¼Œæ¯”å¦‚</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Fish</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">isFish</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> Cat <span class="token operator">|</span> Fish<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> animal<span class="token punctuation">.</span>swim <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// index.ts:11:23 - error TS2339: Property &#39;swim&#39; does not exist on type &#39;Cat | Fish&#39;.</span>
<span class="token comment">//   Property &#39;swim&#39; does not exist on type &#39;Cat&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œè·å– <code>animal.swim</code> çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚</p><p>æ­¤æ—¶å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œå°† <code>animal</code> æ–­è¨€æˆ <code>Fish</code>ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Fish</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">isFish</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> Cat <span class="token operator">|</span> Fish<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>animal <span class="token keyword">as</span> Fish<span class="token punctuation">)</span><span class="token punctuation">.</span>swim <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·å°±å¯ä»¥è§£å†³è®¿é—® <code>animal.swim</code> æ—¶æŠ¥é”™çš„é—®é¢˜äº†ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç±»å‹æ–­è¨€åªèƒ½å¤Ÿã€Œæ¬ºéª—ã€TypeScript ç¼–è¯‘å™¨ï¼Œæ— æ³•é¿å…è¿è¡Œæ—¶çš„é”™è¯¯ï¼Œåè€Œæ»¥ç”¨ç±»å‹æ–­è¨€å¯èƒ½ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Fish</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">swim</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> Cat <span class="token operator">|</span> Fish<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>animal <span class="token keyword">as</span> Fish<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tom<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;run&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">swim</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Uncaught TypeError: animal.swim is not a function\`</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å°†ä¸€ä¸ªçˆ¶ç±»æ–­è¨€ä¸ºæ›´åŠ å…·ä½“çš„å­ç±»" tabindex="-1"><a class="header-anchor" href="#å°†ä¸€ä¸ªçˆ¶ç±»æ–­è¨€ä¸ºæ›´åŠ å…·ä½“çš„å­ç±»" aria-hidden="true">#</a> å°†ä¸€ä¸ªçˆ¶ç±»æ–­è¨€ä¸ºæ›´åŠ å…·ä½“çš„å­ç±»</h4><p>å½“ç±»ä¹‹é—´æœ‰ç»§æ‰¿å…³ç³»æ—¶ï¼Œç±»å‹æ–­è¨€ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">ApiError</span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>
  code<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">HttpError</span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>
  statusCode<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">isApiError</span><span class="token punctuation">(</span>error<span class="token operator">:</span> Error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>error <span class="token keyword">as</span> ApiError<span class="token punctuation">)</span><span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å£°æ˜äº†å‡½æ•° <code>isApiError</code>ï¼Œå®ƒç”¨æ¥åˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ˜¯ä¸æ˜¯ <code>ApiError</code> ç±»å‹ï¼Œä¸ºäº†å®ç°è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„å‚æ•°çš„ç±»å‹è‚¯å®šå¾—æ˜¯æ¯”è¾ƒæŠ½è±¡çš„çˆ¶ç±» <code>Error</code>ï¼Œè¿™æ ·çš„è¯è¿™ä¸ªå‡½æ•°å°±èƒ½æ¥å— <code>Error</code> æˆ–å®ƒçš„å­ç±»ä½œä¸ºå‚æ•°äº†</p><p>ä½†æ˜¯ç”±äºçˆ¶ç±» <code>Error</code> ä¸­æ²¡æœ‰ <code>code</code> å±æ€§ï¼Œæ•…ç›´æ¥è·å– <code>error.code</code> ä¼šæŠ¥é”™ï¼Œéœ€è¦ä½¿ç”¨ç±»å‹æ–­è¨€è·å– <code>(error as ApiError).code</code>ã€‚</p><p>å¤§å®¶å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­æœ‰ä¸€ä¸ªæ›´åˆé€‚çš„æ–¹å¼æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯ <code>ApiError</code>ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ <code>instanceof</code></p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">ApiError</span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>
  code<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">HttpError</span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>
  statusCode<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">isApiError</span><span class="token punctuation">(</span>error<span class="token operator">:</span> Error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">ApiError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç¡®å®ä½¿ç”¨ <code>instanceof</code> æ›´åŠ åˆé€‚ï¼Œå› ä¸º <code>ApiError</code> æ˜¯ä¸€ä¸ª <code>JavaScript</code> çš„ç±»ï¼Œèƒ½å¤Ÿé€šè¿‡ <code>instanceof</code> æ¥åˆ¤æ–­ error æ˜¯å¦æ˜¯å®ƒçš„å®ä¾‹ã€‚</p><p>ä½†æ˜¯æœ‰çš„æƒ…å†µä¸‹ <code>ApiError</code> å’Œ <code>HttpError</code> ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„ç±»ï¼Œè€Œåªæ˜¯ä¸€ä¸ª <code>TypeScript</code> çš„æ¥å£ï¼ˆinterfaceï¼‰ï¼Œæ¥å£æ˜¯ä¸€ä¸ªç±»å‹ï¼Œä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„å€¼ï¼Œå®ƒåœ¨ç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤ï¼Œå½“ç„¶å°±æ— æ³•ä½¿ç”¨ <code>instanceof</code> æ¥åšè¿è¡Œæ—¶åˆ¤æ–­äº†ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">ApiError</span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>
  code<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">HttpError</span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>
  statusCode<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">isApiError</span><span class="token punctuation">(</span>error<span class="token operator">:</span> Error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">ApiError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// index.ts:9:26 - error TS2693: &#39;ApiError&#39; only refers to a type, but is being used as a value here.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å°†ä»»ä½•ä¸€ä¸ªç±»å‹æ–­è¨€ä¸º-any" tabindex="-1"><a class="header-anchor" href="#å°†ä»»ä½•ä¸€ä¸ªç±»å‹æ–­è¨€ä¸º-any" aria-hidden="true">#</a> å°†ä»»ä½•ä¸€ä¸ªç±»å‹æ–­è¨€ä¸º any</h4><p>ç†æƒ³æƒ…å†µä¸‹ï¼ŒTypeScript çš„ç±»å‹ç³»ç»Ÿè¿è½¬è‰¯å¥½ï¼Œæ¯ä¸ªå€¼çš„ç±»å‹éƒ½å…·ä½“è€Œç²¾ç¡®ã€‚</p><p>å½“æˆ‘ä»¬å¼•ç”¨ä¸€ä¸ªåœ¨æ­¤ç±»å‹ä¸Šä¸å­˜åœ¨çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå°±ä¼šæŠ¥é”™, è¿™ç§é”™è¯¯æç¤ºæ˜¾ç„¶æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p><p>ä½†æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éå¸¸ç¡®å®šè¿™æ®µä»£ç ä¸ä¼šå‡ºé”™ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>window<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts:1:8 - error TS2339: Property &#39;foo&#39; does not exist on type &#39;Window &amp; typeof globalThis&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°† <code>window</code> ä¸Šæ·»åŠ ä¸€ä¸ªå±æ€§ <code>foo</code>ï¼Œä½† TypeScript ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ï¼Œæç¤ºæˆ‘ä»¬ <code>window</code> ä¸Šä¸å­˜åœ¨ <code>foo</code> å±æ€§ã€‚</p><p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>as any</code> ä¸´æ—¶å°† window æ–­è¨€ä¸º <code>any</code> ç±»å‹ï¼š</p><p>åœ¨ <code>any</code> ç±»å‹çš„å˜é‡ä¸Šï¼Œè®¿é—®ä»»ä½•å±æ€§éƒ½æ˜¯å…è®¸çš„ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°†ä¸€ä¸ªå˜é‡æ–­è¨€ä¸º <code>any</code> å¯ä»¥è¯´æ˜¯è§£å†³ TypeScript ä¸­ç±»å‹é—®é¢˜çš„æœ€åä¸€ä¸ªæ‰‹æ®µã€‚</p><p>å®ƒææœ‰å¯èƒ½æ©ç›–äº†çœŸæ­£çš„ç±»å‹é”™è¯¯ï¼Œæ‰€ä»¥å¦‚æœä¸æ˜¯éå¸¸ç¡®å®šï¼Œå°±ä¸è¦ä½¿ç”¨ <code>as any</code></p><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡<code>æ‰©å±• window çš„ç±»å‹</code>è§£å†³è¿™ä¸ªé”™è¯¯ï¼Œä¸è¿‡å¦‚æœåªæ˜¯ä¸´æ—¶çš„å¢åŠ  foo å±æ€§ï¼Œ<code>as any</code> ä¼šæ›´åŠ æ–¹ä¾¿ã€‚</p><h4 id="å°†-any-æ–­è¨€ä¸ºä¸€ä¸ªå…·ä½“çš„ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å°†-any-æ–­è¨€ä¸ºä¸€ä¸ªå…·ä½“çš„ç±»å‹" aria-hidden="true">#</a> å°† any æ–­è¨€ä¸ºä¸€ä¸ªå…·ä½“çš„ç±»å‹</h4><p>åœ¨æ—¥å¸¸çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸å¯é¿å…çš„éœ€è¦å¤„ç† <code>any</code> ç±»å‹çš„å˜é‡ï¼Œå®ƒä»¬å¯èƒ½æ˜¯ç”±äºç¬¬ä¸‰æ–¹åº“æœªèƒ½å®šä¹‰å¥½è‡ªå·±çš„ç±»å‹ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯å†å²é—ç•™çš„æˆ–å…¶ä»–äººç¼–å†™çš„çƒ‚ä»£ç ï¼Œè¿˜å¯èƒ½æ˜¯å—åˆ° TypeScript ç±»å‹ç³»ç»Ÿçš„é™åˆ¶è€Œæ— æ³•ç²¾ç¡®å®šä¹‰ç±»å‹çš„åœºæ™¯ã€‚</p><p>é‡åˆ° <code>any</code> ç±»å‹çš„å˜é‡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ— è§†å®ƒï¼Œä»»ç”±å®ƒæ»‹ç”Ÿæ›´å¤šçš„ <code>any</code>ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©æ”¹è¿›å®ƒï¼Œé€šè¿‡ç±»å‹æ–­è¨€åŠæ—¶çš„æŠŠ <code>any</code> æ–­è¨€ä¸ºç²¾ç¡®çš„ç±»å‹ï¼Œäº¡ç¾Šè¡¥ç‰¢ï¼Œä½¿æˆ‘ä»¬çš„ä»£ç å‘ç€é«˜å¯ç»´æŠ¤æ€§çš„ç›®æ ‡å‘å±•ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå†å²é—ç•™çš„ä»£ç ä¸­æœ‰ä¸ª <code>getCacheData</code>ï¼Œå®ƒçš„è¿”å›å€¼æ˜¯ <code>any</code></p><p>é‚£ä¹ˆæˆ‘ä»¬åœ¨ä½¿ç”¨å®ƒæ—¶ï¼Œæœ€å¥½èƒ½å¤Ÿå°†è°ƒç”¨äº†å®ƒä¹‹åçš„è¿”å›å€¼æ–­è¨€æˆä¸€ä¸ªç²¾ç¡®çš„ç±»å‹ï¼Œè¿™æ ·å°±æ–¹ä¾¿äº†åç»­çš„æ“ä½œï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>window <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tom <span class="token operator">=</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Cat<span class="token punctuation">;</span>
tom<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨å®Œ <code>getCacheData</code> ä¹‹åï¼Œç«‹å³å°†å®ƒæ–­è¨€ä¸º <code>Cat</code> ç±»å‹ã€‚è¿™æ ·çš„è¯æ˜ç¡®äº† <code>tom</code> çš„ç±»å‹ï¼Œåç»­å¯¹ <code>tom</code> çš„è®¿é—®æ—¶å°±æœ‰äº†ä»£ç è¡¥å…¨ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p><h3 id="ç±»å‹æ–­è¨€çš„é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ–­è¨€çš„é™åˆ¶" aria-hidden="true">#</a> ç±»å‹æ–­è¨€çš„é™åˆ¶</h3><p>ä»ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºï¼š</p><ul><li>è”åˆç±»å‹å¯ä»¥è¢«æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹</li><li>çˆ¶ç±»å¯ä»¥è¢«æ–­è¨€ä¸ºå­ç±»</li><li>ä»»ä½•ç±»å‹éƒ½å¯ä»¥è¢«æ–­è¨€ä¸º <code>any</code></li><li><code>any</code> å¯ä»¥è¢«æ–­è¨€ä¸ºä»»ä½•ç±»å‹</li></ul><p>é‚£ä¹ˆç±»å‹æ–­è¨€æœ‰æ²¡æœ‰ä»€ä¹ˆé™åˆ¶å‘¢ï¼Ÿæ˜¯ä¸æ˜¯ä»»ä½•ä¸€ä¸ªç±»å‹éƒ½å¯ä»¥è¢«æ–­è¨€ä¸ºä»»ä½•å¦ä¸€ä¸ªç±»å‹å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯å¦å®šçš„â€”â€”å¹¶ä¸æ˜¯ä»»ä½•ä¸€ä¸ªç±»å‹éƒ½å¯ä»¥è¢«æ–­è¨€ä¸ºä»»ä½•å¦ä¸€ä¸ªç±»å‹ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œè‹¥ <code>A</code> å…¼å®¹ <code>B</code>ï¼Œé‚£ä¹ˆ <code>A</code> èƒ½å¤Ÿè¢«æ–­è¨€ä¸º <code>B</code>ï¼Œ<code>B</code> ä¹Ÿèƒ½è¢«æ–­è¨€ä¸º <code>A</code>ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€åŒ–çš„ä¾‹å­ï¼Œæ¥ç†è§£ç±»å‹æ–­è¨€çš„é™åˆ¶ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">run</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;run&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> animal<span class="token operator">:</span> Animal <span class="token operator">=</span> tom<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬çŸ¥é“ï¼Œ<code>TypeScript</code> æ˜¯ç»“æ„ç±»å‹ç³»ç»Ÿï¼Œç±»å‹ä¹‹é—´çš„å¯¹æ¯”åªä¼šæ¯”è¾ƒå®ƒä»¬æœ€ç»ˆçš„ç»“æ„ï¼Œè€Œä¼šå¿½ç•¥å®ƒä»¬å®šä¹‰æ—¶çš„å…³ç³»ã€‚</p><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>Cat</code> åŒ…å«äº† <code>Animal</code> ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„æ–¹æ³• <code>run</code>ã€‚<code>TypeScript</code> å¹¶ä¸å…³å¿ƒ <code>Cat</code> å’Œ <code>Animal</code> ä¹‹é—´å®šä¹‰æ—¶æ˜¯ä»€ä¹ˆå…³ç³»ï¼Œè€Œåªä¼šçœ‹å®ƒä»¬æœ€ç»ˆçš„ç»“æ„æœ‰ä»€ä¹ˆå…³ç³»â€”â€”æ‰€ä»¥å®ƒä¸ <code>Cat extends Animal</code> æ˜¯ç­‰ä»·çš„ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¹ˆä¹Ÿä¸éš¾ç†è§£ä¸ºä»€ä¹ˆ <code>Cat</code> ç±»å‹çš„ <code>tom</code> å¯ä»¥èµ‹å€¼ç»™ <code>Animal</code> ç±»å‹çš„ <code>animal</code> äº†â€”â€”å°±åƒé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­æˆ‘ä»¬å¯ä»¥å°†å­ç±»çš„å®ä¾‹èµ‹å€¼ç»™ç±»å‹ä¸ºçˆ¶ç±»çš„å˜é‡ã€‚</p><p>æˆ‘ä»¬æŠŠå®ƒæ¢æˆ TypeScript ä¸­æ›´ä¸“ä¸šçš„è¯´æ³•ï¼Œå³ï¼š<code>Animal</code> å…¼å®¹ <code>Cat</code>ã€‚</p><p>å½“ <code>Animal</code> å…¼å®¹ <code>Cat</code> æ—¶ï¼Œå®ƒä»¬å°±å¯ä»¥äº’ç›¸è¿›è¡Œç±»å‹æ–­è¨€äº†ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">testAnimal</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> Animal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> animal <span class="token keyword">as</span> Cat<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">testCat</span><span class="token punctuation">(</span>cat<span class="token operator">:</span> Cat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> cat <span class="token keyword">as</span> Animal<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·çš„è®¾è®¡å…¶å®ä¹Ÿå¾ˆå®¹æ˜“å°±èƒ½ç†è§£ï¼š</p><ul><li>å…è®¸ <code>animal as Cat</code> æ˜¯å› ä¸ºã€Œçˆ¶ç±»å¯ä»¥è¢«æ–­è¨€ä¸ºå­ç±»ã€ï¼Œè¿™ä¸ªå‰é¢å·²ç»å­¦ä¹ è¿‡äº†</li><li>å…è®¸ <code>cat as Animal</code> æ˜¯å› ä¸ºæ—¢ç„¶å­ç±»æ‹¥æœ‰çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œé‚£ä¹ˆè¢«æ–­è¨€ä¸ºçˆ¶ç±»ï¼Œè·å–çˆ¶ç±»çš„å±æ€§ã€è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œå°±ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ï¼Œæ•…ã€Œå­ç±»å¯ä»¥è¢«æ–­è¨€ä¸ºçˆ¶ç±»ã€</li></ul><p>å› æ­¤ï¼Œè¦ä½¿å¾— A èƒ½å¤Ÿè¢«æ–­è¨€ä¸º Bï¼Œåªéœ€è¦ A å…¼å®¹ B æˆ– B å…¼å®¹ A å³å¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºäº†åœ¨ç±»å‹æ–­è¨€æ—¶çš„å®‰å…¨è€ƒè™‘ï¼Œæ¯•ç«Ÿæ¯«æ— æ ¹æ®çš„æ–­è¨€æ˜¯éå¸¸å±é™©çš„</p><p>ç»¼ä¸Šæ‰€è¿°ï¼š</p><ul><li>è”åˆç±»å‹å¯ä»¥è¢«æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹</li><li>çˆ¶ç±»å¯ä»¥è¢«æ–­è¨€ä¸ºå­ç±»</li><li>ä»»ä½•ç±»å‹éƒ½å¯ä»¥è¢«æ–­è¨€ä¸º any</li><li>any å¯ä»¥è¢«æ–­è¨€ä¸ºä»»ä½•ç±»å‹</li><li>è¦ä½¿å¾— A èƒ½å¤Ÿè¢«æ–­è¨€ä¸º Bï¼Œåªéœ€è¦ A å…¼å®¹ B æˆ– B å…¼å®¹ A å³å¯</li></ul><p>å…¶å®å‰å››ç§æƒ…å†µéƒ½æ˜¯æœ€åä¸€ä¸ªçš„ç‰¹ä¾‹ã€‚</p><h3 id="åŒé‡æ–­è¨€" tabindex="-1"><a class="header-anchor" href="#åŒé‡æ–­è¨€" aria-hidden="true">#</a> åŒé‡æ–­è¨€</h3><p>æ—¢ç„¶ï¼š</p><ul><li>ä»»ä½•ç±»å‹éƒ½å¯ä»¥è¢«æ–­è¨€ä¸º <code>any</code></li><li><code>any</code> å¯ä»¥è¢«æ–­è¨€ä¸ºä»»ä½•ç±»å‹</li></ul><p>é‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥ä½¿ç”¨åŒé‡æ–­è¨€ <code>as any as Foo</code> æ¥å°†ä»»ä½•ä¸€ä¸ªç±»å‹æ–­è¨€ä¸ºä»»ä½•å¦ä¸€ä¸ªç±»å‹å‘¢ï¼Ÿ</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Fish</span> <span class="token punctuation">{</span>
  <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">testCat</span><span class="token punctuation">(</span>cat<span class="token operator">:</span> Cat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> cat <span class="token keyword">as</span> <span class="token builtin">any</span> <span class="token keyword">as</span> Fish<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œè‹¥ç›´æ¥ä½¿ç”¨ <code>cat as Fish</code> è‚¯å®šä¼šæŠ¥é”™ï¼Œå› ä¸º <code>Cat</code> å’Œ <code>Fish</code> äº’ç›¸éƒ½ä¸å…¼å®¹ã€‚</p><p>ä½†æ˜¯è‹¥ä½¿ç”¨åŒé‡æ–­è¨€ï¼Œåˆ™å¯ä»¥æ‰“ç ´ã€Œè¦ä½¿å¾— <code>A</code> èƒ½å¤Ÿè¢«æ–­è¨€ä¸º <code>B</code>ï¼Œåªéœ€è¦ <code>A</code> å…¼å®¹ <code>B</code> æˆ– <code>B</code> å…¼å®¹ <code>A</code> å³å¯ã€çš„é™åˆ¶ï¼Œå°†ä»»ä½•ä¸€ä¸ªç±»å‹æ–­è¨€ä¸ºä»»ä½•å¦ä¸€ä¸ªç±»å‹ã€‚</p><p>è‹¥ä½ ä½¿ç”¨äº†è¿™ç§åŒé‡æ–­è¨€ï¼Œé‚£ä¹ˆåæœ‰å…«ä¹æ˜¯éå¸¸é”™è¯¯çš„ï¼Œå®ƒå¾ˆå¯èƒ½ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚</p><p>é™¤éè¿«ä¸å¾—å·²ï¼Œåƒä¸‡åˆ«ç”¨åŒé‡æ–­è¨€ã€‚</p><h3 id="ç±»å‹æ–­è¨€-vs-ç±»å‹è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ–­è¨€-vs-ç±»å‹è½¬æ¢" aria-hidden="true">#</a> ç±»å‹æ–­è¨€ vs ç±»å‹è½¬æ¢</h3><p>ç±»å‹æ–­è¨€åªä¼šå½±å“ TypeScript ç¼–è¯‘æ—¶çš„ç±»å‹ï¼Œç±»å‹æ–­è¨€è¯­å¥åœ¨ç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">toBoolean</span><span class="token punctuation">(</span>something<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> something <span class="token keyword">as</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">toBoolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¿”å›å€¼ä¸º 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå°† <code>something</code> æ–­è¨€ä¸º <code>boolean</code> è™½ç„¶å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œä»£ç åœ¨ç¼–è¯‘åä¼šå˜æˆï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">toBoolean</span><span class="token punctuation">(</span>something<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> something<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">toBoolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¿”å›å€¼ä¸º 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥ç±»å‹æ–­è¨€ä¸æ˜¯ç±»å‹è½¬æ¢ï¼Œå®ƒä¸ä¼šçœŸçš„å½±å“åˆ°å˜é‡çš„ç±»å‹ã€‚</p><p>è‹¥è¦è¿›è¡Œç±»å‹è½¬æ¢ï¼Œéœ€è¦ç›´æ¥è°ƒç”¨ç±»å‹è½¬æ¢çš„æ–¹æ³•ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">toBoolean</span><span class="token punctuation">(</span>something<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>something<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">toBoolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¿”å›å€¼ä¸º true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç±»å‹æ–­è¨€-vs-ç±»å‹å£°æ˜" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ–­è¨€-vs-ç±»å‹å£°æ˜" aria-hidden="true">#</a> ç±»å‹æ–­è¨€ vs ç±»å‹å£°æ˜</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>window <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tom <span class="token operator">=</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Cat<span class="token punctuation">;</span>
tom<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ä½¿ç”¨ <code>as Cat</code> å°† <code>any</code> ç±»å‹æ–­è¨€ä¸ºäº† <code>Cat</code> ç±»å‹ã€‚</p><p>ä½†å®é™…ä¸Šè¿˜æœ‰å…¶ä»–æ–¹å¼å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>window <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tom<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tom<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç±»å‹å£°æ˜çš„æ–¹å¼ï¼Œå°† <code>tom</code> å£°æ˜ä¸º <code>Cat</code>ï¼Œç„¶åå†å°† <code>any</code> ç±»å‹çš„ <code>getCacheData(&#39;tom&#39;)</code> èµ‹å€¼ç»™ <code>Cat</code> ç±»å‹çš„ <code>tom</code></p><p>è¿™å’Œç±»å‹æ–­è¨€æ˜¯éå¸¸ç›¸ä¼¼çš„ï¼Œè€Œä¸”äº§ç”Ÿçš„ç»“æœä¹Ÿå‡ ä¹æ˜¯ä¸€æ ·çš„â€”â€”<code>tom</code> åœ¨æ¥ä¸‹æ¥çš„ä»£ç ä¸­éƒ½å˜æˆäº† <code>Cat</code> ç±»å‹ã€‚</p><p>å®ƒä»¬çš„åŒºåˆ«ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªä¾‹å­æ¥ç†è§£ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> animal<span class="token operator">:</span> Animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tom <span class="token operator">=</span> animal <span class="token keyword">as</span> Cat<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç”±äº <code>Animal</code> å…¼å®¹ <code>Cat</code>ï¼Œæ•…å¯ä»¥å°† <code>animal</code> æ–­è¨€ä¸º <code>Cat</code> èµ‹å€¼ç»™ <code>tom</code>ã€‚</p><p>ä½†æ˜¯è‹¥ç›´æ¥å£°æ˜ <code>tom</code> ä¸º <code>Cat</code> ç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> animal<span class="token operator">:</span> Animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tom<span class="token operator">:</span> Cat <span class="token operator">=</span> animal<span class="token punctuation">;</span>

<span class="token comment">// index.ts:12:5 - error TS2741: Property &#39;run&#39; is missing in type &#39;Animal&#39; but required in type &#39;Cat&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ™ä¼šæŠ¥é”™ï¼Œä¸å…è®¸å°† <code>animal</code> èµ‹å€¼ä¸º <code>Cat</code> ç±»å‹çš„ <code>tom</code>ã€‚</p><p>è¿™å¾ˆå®¹æ˜“ç†è§£ï¼Œ<code>Animal</code> å¯ä»¥çœ‹ä½œæ˜¯ <code>Cat</code> çš„çˆ¶ç±»ï¼Œå½“ç„¶ä¸èƒ½å°†çˆ¶ç±»çš„å®ä¾‹èµ‹å€¼ç»™ç±»å‹ä¸ºå­ç±»çš„å˜é‡ã€‚</p><p>æ·±å…¥çš„è®²ï¼Œå®ƒä»¬çš„æ ¸å¿ƒåŒºåˆ«å°±åœ¨äºï¼š</p><ul><li><code>animal</code> æ–­è¨€ä¸º <code>Cat</code>ï¼Œåªéœ€è¦æ»¡è¶³ <code>Animal</code> å…¼å®¹ <code>Cat</code> æˆ– <code>Cat</code> å…¼å®¹ <code>Animal</code> å³å¯</li><li><code>animal</code> èµ‹å€¼ç»™ <code>tom</code>ï¼Œéœ€è¦æ»¡è¶³ <code>Cat</code> å…¼å®¹ <code>Animal</code> æ‰è¡Œ</li></ul><p>ä½†æ˜¯ <code>Cat</code> å¹¶ä¸å…¼å®¹ <code>Animal</code>ã€‚</p><p>çŸ¥é“äº†å®ƒä»¬çš„æ ¸å¿ƒåŒºåˆ«ï¼Œå°±çŸ¥é“äº†ç±»å‹å£°æ˜æ˜¯æ¯”ç±»å‹æ–­è¨€æ›´åŠ ä¸¥æ ¼çš„ã€‚</p><p>æ‰€ä»¥ä¸ºäº†å¢åŠ ä»£ç çš„è´¨é‡ï¼Œæˆ‘ä»¬æœ€å¥½ä¼˜å…ˆä½¿ç”¨ç±»å‹å£°æ˜ï¼Œè¿™ä¹Ÿæ¯”ç±»å‹æ–­è¨€çš„ <code>as</code> è¯­æ³•æ›´åŠ ä¼˜é›…ã€‚</p><h3 id="ç±»å‹æ–­è¨€-vs-æ³›å‹" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ–­è¨€-vs-æ³›å‹" aria-hidden="true">#</a> ç±»å‹æ–­è¨€ vs æ³›å‹</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>window <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tom <span class="token operator">=</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Cat<span class="token punctuation">;</span>
tom<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬è¿˜æœ‰ç¬¬ä¸‰ç§æ–¹å¼å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯æ³›å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getCacheData</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>window <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tom <span class="token operator">=</span> <span class="token generic-function"><span class="token function">getCacheData</span><span class="token generic class-name"><span class="token operator">&lt;</span>Cat<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tom<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ç»™ <code>getCacheData</code> å‡½æ•°æ·»åŠ äº†ä¸€ä¸ªæ³›å‹ <code>&lt;T&gt;</code>ï¼Œæˆ‘ä»¬å¯ä»¥æ›´åŠ è§„èŒƒçš„å®ç°å¯¹ <code>getCacheData</code> è¿”å›å€¼çš„çº¦æŸï¼Œè¿™ä¹ŸåŒæ—¶å»é™¤æ‰äº†ä»£ç ä¸­çš„ <code>any</code>ï¼Œæ˜¯æœ€ä¼˜çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚</p><h2 id="å£°æ˜æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#å£°æ˜æ–‡ä»¶" aria-hidden="true">#</a> å£°æ˜æ–‡ä»¶</h2><p>å½“ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å¼•ç”¨å®ƒçš„å£°æ˜æ–‡ä»¶ï¼Œæ‰èƒ½è·å¾—å¯¹åº”çš„ä»£ç è¡¥å…¨ã€æ¥å£æç¤ºç­‰åŠŸèƒ½ã€‚</p><ul><li><code>declare var</code> å£°æ˜å…¨å±€å˜é‡</li><li><code>declare function</code> å£°æ˜å…¨å±€æ–¹æ³•</li><li><code>declare class</code> å£°æ˜å…¨å±€ç±»</li><li><code>declare enum</code> å£°æ˜å…¨å±€æšä¸¾ç±»å‹</li><li><code>declare namespace</code> å£°æ˜ï¼ˆå«æœ‰å­å±æ€§çš„ï¼‰å…¨å±€å¯¹è±¡</li><li><code>interface</code> å’Œ type\` å£°æ˜å…¨å±€ç±»å‹</li><li><code>export</code> å¯¼å‡ºå˜é‡</li><li><code>export namespace</code> å¯¼å‡ºï¼ˆå«æœ‰å­å±æ€§çš„ï¼‰å¯¹è±¡</li><li><code>export default</code> ES6 é»˜è®¤å¯¼å‡º</li><li><code>export = commonjs</code> å¯¼å‡ºæ¨¡å—</li><li><code>export as namespace</code> UMD åº“å£°æ˜å…¨å±€å˜é‡</li><li><code>declare global</code> æ‰©å±•å…¨å±€å˜é‡</li><li><code>declare module</code> æ‰©å±•æ¨¡å—</li><li><code>/// &lt;reference /&gt;</code> ä¸‰æ–œçº¿æŒ‡ä»¤</li></ul><h3 id="ä»€ä¹ˆæ˜¯å£°æ˜è¯­å¥" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯å£°æ˜è¯­å¥" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯å£°æ˜è¯­å¥</h3><p>å‡å¦‚æˆ‘ä»¬æƒ³ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ <code>jQuery</code>ï¼Œä¸€ç§å¸¸è§çš„æ–¹å¼æ˜¯åœ¨ <code>html</code> ä¸­é€šè¿‡ <code>&lt;script&gt;</code> æ ‡ç­¾å¼•å…¥ <code>jQuery</code>ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡ <code>$</code> æˆ– <code>jQuery</code> äº†ã€‚</p><p>æˆ‘ä»¬é€šå¸¸è¿™æ ·è·å–ä¸€ä¸ª <code>id</code> æ˜¯ <code>foo</code> çš„å…ƒç´ ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token function">jQuery</span><span class="token punctuation">(</span><span class="token string">&quot;#foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯åœ¨ <code>ts</code> ä¸­ï¼Œç¼–è¯‘å™¨å¹¶ä¸çŸ¥é“ <code>$</code> æˆ– <code>jQuery</code> æ˜¯ä»€ä¹ˆä¸œè¥¿</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token function">jQuery</span><span class="token punctuation">(</span><span class="token string">&quot;#foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ERROR: Cannot find name &#39;jQuery&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>declare var</code> æ¥å®šä¹‰å®ƒçš„ç±»å‹</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">var</span> <span class="token function-variable function">jQuery</span><span class="token operator">:</span> <span class="token punctuation">(</span>selector<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>

<span class="token function">jQuery</span><span class="token punctuation">(</span><span class="token string">&quot;#foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šä¾‹ä¸­ï¼Œdeclare var å¹¶æ²¡æœ‰çœŸçš„å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œåªæ˜¯å®šä¹‰äº†å…¨å±€å˜é‡ <code>jQuery</code> çš„ç±»å‹ï¼Œä»…ä»…ä¼šç”¨äºç¼–è¯‘æ—¶çš„æ£€æŸ¥ï¼Œåœ¨ç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤ã€‚å®ƒç¼–è¯‘ç»“æœæ˜¯ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">jQuery</span><span class="token punctuation">(</span><span class="token string">&quot;#foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é™¤äº† <code>declare var</code> ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–å¾ˆå¤šç§å£°æ˜è¯­å¥ï¼Œå°†ä¼šåœ¨åé¢è¯¦ç»†ä»‹ç»ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯å£°æ˜æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯å£°æ˜æ–‡ä»¶" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯å£°æ˜æ–‡ä»¶</h3><p>é€šå¸¸æˆ‘ä»¬ä¼šæŠŠå£°æ˜è¯­å¥æ”¾åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼ˆ<code>jQuery.d.ts</code>ï¼‰ä¸­ï¼Œè¿™å°±æ˜¯å£°æ˜æ–‡ä»¶</p><p>å£°æ˜æ–‡ä»¶å¿…éœ€ä»¥ <code>.d.ts</code> ä¸ºåç¼€</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œts ä¼šè§£æé¡¹ç›®ä¸­æ‰€æœ‰çš„ <code>*.ts</code> æ–‡ä»¶ï¼Œå½“ç„¶ä¹ŸåŒ…å«ä»¥ <code>.d.ts</code> ç»“å°¾çš„æ–‡ä»¶ã€‚æ‰€ä»¥å½“æˆ‘ä»¬å°† <code>jQuery.d.ts</code> æ”¾åˆ°é¡¹ç›®ä¸­æ—¶ï¼Œå…¶ä»–æ‰€æœ‰ <code>*.ts</code> æ–‡ä»¶å°±éƒ½å¯ä»¥è·å¾— <code>jQuery</code> çš„ç±»å‹å®šä¹‰äº†</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/path/to/project
â”œâ”€â”€ src
<span class="token operator">|</span>  â”œâ”€â”€ index.ts
<span class="token operator">|</span>  â””â”€â”€ jQuery.d.ts
â””â”€â”€ tsconfig.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡å¦‚ä»ç„¶æ— æ³•è§£æï¼Œé‚£ä¹ˆå¯ä»¥æ£€æŸ¥ä¸‹ <code>tsconfig.json</code> ä¸­çš„ <code>files</code>ã€<code>include</code> å’Œ <code>exclude</code> é…ç½®ï¼Œç¡®ä¿å…¶åŒ…å«äº† <code>jQuery.d.ts</code> æ–‡ä»¶ã€‚</p><p>è¿™é‡Œåªæ¼”ç¤ºäº†å…¨å±€å˜é‡è¿™ç§æ¨¡å¼çš„å£°æ˜æ–‡ä»¶ï¼Œå‡å¦‚æ˜¯é€šè¿‡æ¨¡å—å¯¼å…¥çš„æ–¹å¼ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“çš„è¯ï¼Œé‚£ä¹ˆå¼•å…¥å£°æ˜æ–‡ä»¶åˆæ˜¯å¦ä¸€ç§æ–¹å¼äº†ï¼Œå°†ä¼šåœ¨åé¢è¯¦ç»†ä»‹ç»</p><h4 id="ç¬¬ä¸‰æ–¹å£°æ˜æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸‰æ–¹å£°æ˜æ–‡ä»¶" aria-hidden="true">#</a> ç¬¬ä¸‰æ–¹å£°æ˜æ–‡ä»¶</h4><p>å½“ç„¶ï¼ŒjQuery çš„å£°æ˜æ–‡ä»¶ä¸éœ€è¦æˆ‘ä»¬å®šä¹‰äº†ï¼Œç¤¾åŒºå·²ç»å¸®æˆ‘ä»¬å®šä¹‰å¥½äº†</p><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥ä¸‹è½½ä¸‹æ¥ä½¿ç”¨ï¼Œä½†æ˜¯æ›´æ¨èçš„æ˜¯ä½¿ç”¨ <code>@types</code> ç»Ÿä¸€ç®¡ç†ç¬¬ä¸‰æ–¹åº“çš„å£°æ˜æ–‡ä»¶ã€‚</p><p><code>@types</code> çš„ä½¿ç”¨æ–¹å¼å¾ˆç®€å•ï¼Œç›´æ¥ç”¨ <code>npm</code> å®‰è£…å¯¹åº”çš„å£°æ˜æ¨¡å—å³å¯ï¼Œä»¥ jQuery ä¸¾ä¾‹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @types/jquery --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,287),r={href:"https://microsoft.github.io/TypeSearch/",target:"_blank",rel:"noopener noreferrer"},d=t(`<h2 id="å†…ç½®å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#å†…ç½®å¯¹è±¡" aria-hidden="true">#</a> å†…ç½®å¯¹è±¡</h2><p>JavaScript ä¸­æœ‰å¾ˆå¤šå†…ç½®å¯¹è±¡ï¼Œå®ƒä»¬å¯ä»¥ç›´æ¥åœ¨ TypeScript ä¸­å½“åšå®šä¹‰å¥½äº†çš„ç±»å‹ã€‚</p><p>å†…ç½®å¯¹è±¡æ˜¯æŒ‡æ ¹æ®æ ‡å‡†åœ¨å…¨å±€ä½œç”¨åŸŸï¼ˆGlobalï¼‰ä¸Šå­˜åœ¨çš„å¯¹è±¡ã€‚è¿™é‡Œçš„æ ‡å‡†æ˜¯æŒ‡ <code>ECMAScript</code> å’Œå…¶ä»–ç¯å¢ƒï¼ˆæ¯”å¦‚ <code>DOM</code>ï¼‰çš„æ ‡å‡†ã€‚</p><h3 id="ecmascript-çš„å†…ç½®å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#ecmascript-çš„å†…ç½®å¯¹è±¡" aria-hidden="true">#</a> ECMAScript çš„å†…ç½®å¯¹è±¡</h3><p>ECMAScript æ ‡å‡†æä¾›çš„å†…ç½®å¯¹è±¡æœ‰ï¼š</p><p><code>Boolean</code>ã€<code>Error</code>ã€<code>Date</code>ã€<code>RegExp</code> ç­‰</p><p>æˆ‘ä»¬å¯ä»¥åœ¨ <code>TypeScript</code> ä¸­å°†å˜é‡å®šä¹‰ä¸ºè¿™äº›ç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> b<span class="token operator">:</span> Boolean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> e<span class="token operator">:</span> Error <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Error occurred&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> d<span class="token operator">:</span> Date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> r<span class="token operator">:</span> RegExp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-z]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8),k={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects",target:"_blank",rel:"noopener noreferrer"},v=s("code",null,"TypeScript",-1),m={href:"https://github.com/Microsoft/TypeScript/tree/master/src/lib",target:"_blank",rel:"noopener noreferrer"},b=t(`<h3 id="dom-å’Œ-bom-çš„å†…ç½®å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#dom-å’Œ-bom-çš„å†…ç½®å¯¹è±¡" aria-hidden="true">#</a> DOM å’Œ BOM çš„å†…ç½®å¯¹è±¡</h3><p>DOM å’Œ BOM æä¾›çš„å†…ç½®å¯¹è±¡æœ‰ï¼š</p><p><code>Document</code>ã€<code>HTMLElement</code>ã€<code>Event</code>ã€<code>NodeList</code> ç­‰ã€‚</p><p><code>TypeScript</code> ä¸­ä¼šç»å¸¸ç”¨åˆ°è¿™äº›ç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> body<span class="token operator">:</span> HTMLElement <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
<span class="token keyword">let</span> allDiv<span class="token operator">:</span> NodeList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> MouseEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),y={href:"https://github.com/Microsoft/TypeScript/tree/master/src/lib",target:"_blank",rel:"noopener noreferrer"},g=s("h3",{id:"typescript-æ ¸å¿ƒåº“çš„å®šä¹‰æ–‡ä»¶",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#typescript-æ ¸å¿ƒåº“çš„å®šä¹‰æ–‡ä»¶","aria-hidden":"true"},"#"),n(" TypeScript æ ¸å¿ƒåº“çš„å®šä¹‰æ–‡ä»¶")],-1),h={href:"https://github.com/Microsoft/TypeScript/tree/master/src/lib",target:"_blank",rel:"noopener noreferrer"},f=t(`<p>å½“ä½ åœ¨ä½¿ç”¨ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•çš„æ—¶å€™ï¼ŒTypeScript å®é™…ä¸Šå·²ç»å¸®ä½ åšäº†å¾ˆå¤šç±»å‹åˆ¤æ–­çš„å·¥ä½œäº†ï¼Œæ¯”å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(1,14): error TS2345: Argument of type &#39;string&#39; is not assignable to parameter of type &#39;number&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>Math.pow</code> å¿…é¡»æ¥å—ä¸¤ä¸ª <code>number</code> ç±»å‹çš„å‚æ•°ã€‚äº‹å®ä¸Š <code>Math.pow</code> çš„ç±»å‹å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Math</span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * Returns the value of a base expression taken to a specified power.
   * <span class="token keyword">@param</span> <span class="token parameter">x</span> The base value of the expression.
   * <span class="token keyword">@param</span> <span class="token parameter">y</span> The exponent value of the expression.
   */</span>
  <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†ä¸¾ä¸€ä¸ª DOM ä¸­çš„ä¾‹å­ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>targetCurrent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(2,17): error TS2339: Property &#39;targetCurrent&#39; does not exist on type &#39;MouseEvent&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒaddEventListener æ–¹æ³•æ˜¯åœ¨ TypeScript æ ¸å¿ƒåº“ä¸­å®šä¹‰çš„ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Document</span>
  <span class="token keyword">extends</span> <span class="token class-name">Node</span><span class="token punctuation">,</span>
    GlobalEventHandlers<span class="token punctuation">,</span>
    NodeSelector<span class="token punctuation">,</span>
    DocumentEvent <span class="token punctuation">{</span>
  <span class="token function">addEventListener</span><span class="token punctuation">(</span>
    type<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    <span class="token function-variable function">listener</span><span class="token operator">:</span> <span class="token punctuation">(</span>ev<span class="token operator">:</span> MouseEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
    useCapture<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥ e è¢«æ¨æ–­æˆäº† <code>MouseEvent</code>ï¼Œè€Œ <code>MouseEvent</code> æ˜¯æ²¡æœ‰ <code>targetCurrent</code> å±æ€§çš„ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚</p><p>æ³¨æ„ï¼Œ<code>TypeScript</code> æ ¸å¿ƒåº“çš„å®šä¹‰ä¸­ä¸åŒ…å« <code>Node.js</code> éƒ¨åˆ†ã€‚</p><h3 id="ç”¨-typescript-å†™-node-js" tabindex="-1"><a class="header-anchor" href="#ç”¨-typescript-å†™-node-js" aria-hidden="true">#</a> ç”¨ TypeScript å†™ Node.js</h3><p>Node.js ä¸æ˜¯å†…ç½®å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æœæƒ³ç”¨ TypeScript å†™ Node.jsï¼Œåˆ™éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹å£°æ˜æ–‡ä»¶ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>npm install <span class="token decorator"><span class="token at operator">@</span><span class="token function">types</span></span><span class="token operator">/</span>node <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,13);function w(x,q){const a=o("ExternalLinkIcon");return c(),i("div",null,[u,s("p",null,[n("å¯ä»¥åœ¨"),s("a",r,[n("è¿™ä¸ªé¡µé¢"),e(a)]),n("æœç´¢ä½ éœ€è¦çš„å£°æ˜æ–‡ä»¶ã€‚")]),d,s("p",null,[n("æ›´å¤šçš„å†…ç½®å¯¹è±¡ï¼Œå¯ä»¥æŸ¥çœ‹ "),s("a",k,[n("MDN çš„æ–‡æ¡£"),e(a)]),n("ã€‚")]),s("p",null,[n("è€Œä»–ä»¬çš„å®šä¹‰æ–‡ä»¶ï¼Œåˆ™åœ¨ "),v,n(),s("a",m,[n("æ ¸å¿ƒåº“çš„å®šä¹‰æ–‡ä»¶ä¸­"),e(a)]),n("ã€‚")]),b,s("p",null,[s("a",y,[n("TypeScript æ ¸å¿ƒåº“çš„å®šä¹‰æ–‡ä»¶"),e(a)])]),g,s("p",null,[s("a",h,[n("TypeScript æ ¸å¿ƒåº“çš„å®šä¹‰æ–‡ä»¶"),e(a)]),n("ä¸­å®šä¹‰äº†æ‰€æœ‰æµè§ˆå™¨ç¯å¢ƒéœ€è¦ç”¨åˆ°çš„ç±»å‹ï¼Œå¹¶ä¸”æ˜¯é¢„ç½®åœ¨ TypeScript ä¸­çš„ã€‚")]),f])}const S=p(l,[["render",w],["__file","02-base.html.vue"]]);export{S as default};
