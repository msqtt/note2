# ä¼ ç»Ÿçš„ Website

maybeï¼Œä¸€äº›ç®€çŸ­çš„å¸¸è§æ¦‚å¿µ â€¢ï¹â€¢

## Client/Server

å¸¸è¯´çš„ `C/S` å°±æ˜¯æŒ‡ client ä¸ server

Client ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºï¼š

1. Browser
2. Other Apps, eg: curl

Server ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºï¼š

1. Web Server
1. Application Server

### C/S ä¹‹é—´çš„è”ç³»

å®¢æˆ·ç«¯æ˜¯**ä½¿ç”¨/æ¶ˆè´¹**æœåŠ¡ç«¯å®ä½“

> A Client is an entity that **consumes** a Server.

æœåŠ¡ç«¯æ˜¯**æœåŠ¡**å®¢æˆ·ç«¯çš„å®ä½“

> A Server is an entity that **serves** a Client.

ä¸¤è€…çš„æ¦‚å¿µæ˜¯ç›¸å¯¹çš„ï¼Œç›¸è¾…ç›¸æˆï¼Œå¯ä»¥è¯´æ²¡æœ‰å®¢æˆ·ç«¯å°±æ²¡æœ‰æœåŠ¡ç«¯ï¼Œæ²¡æœ‰æœåŠ¡ç«¯å°±æ²¡æœ‰å®¢æˆ·ç«¯ã€‚

#### é€šè®¯

ä¸¾ä¸€ä¸ªå¸¸è§çš„ä¾‹å­æ¥è¯´ï¼š

å½“ä½¿ç”¨æµè§ˆå™¨ä¸Šç½‘æ—¶ï¼š

1. è¾“å…¥ urlï¼Œè®¿é—®ã€‚
2. æµè§ˆå™¨å‘è¯¥ url æŒ‡ä»£çš„ web æœåŠ¡ç«¯å‘é€ http è¯·æ±‚ã€‚
3. å¦‚æœè¯·æ±‚æ²¡æœ‰é”™è¯¯ï¼ŒæœåŠ¡ç«¯è¿”å›èµ„æºç»™æµè§ˆå™¨ã€‚
4. æµè§ˆå™¨å±•ç¤ºèµ„æºç»™ç”¨æˆ·ã€‚

![image](https://user-images.githubusercontent.com/94043894/233059003-b38c2904-4518-41e4-997a-edd7b972eeac.png)

è¿™é‡Œçš„ http æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„é€šè®¯åè®®ï¼Œä¸”æ˜¯ web æœ€å¸¸ç”¨çš„é€šè®¯åè®®ã€‚

::: tip
å¯ä»¥å‘ç°ï¼Œä¸Šä¸ªä¾‹å­ä¸­çš„ client å…·ä½“æŒ‡ä»£çš„å°±æ˜¯ browserï¼Œè€Œå®ƒè¯·æ±‚çš„èµ„æºæ˜¯ htmlï¼Œå“åº”å®ƒè¯·æ±‚çš„ server å°±æ˜¯ web serverã€‚
:::

##### HTTP

å…¶å® http ä¹Ÿæ˜¯å¹¿ä¹‰ä¸Šçš„ rpc åè®®ï¼Œå¤§å®¶ä¹ æƒ¯ä¸ŠæŠŠç‹­ä¹‰ä¸Šçš„ rpc åè®®ä¸ http åŒºåˆ†å¼€ã€‚

> Remote procedure call è¿œç¨‹è¿‡ç¨‹è°ƒç”¨

è¯¦ç»†çš„ http çŸ¥è¯†ä¸å±•å¼€ï¼Œä¸‹é¢æ˜¯ HTTP å¸¸ç”¨çš„è¯·æ±‚æ–¹å¼ï¼š

- `GET`ï¼šç”¨äºè¯·æ±‚é™æ€èµ„æºã€‚
- `POST`ï¼šç”¨äºä¸Šä¼ æ•°æ®æˆ–é™æ€èµ„æºï¼Œéå¹‚ç­‰çš„ã€‚
- `PUT`ï¼šç”¨äºæ›´æ–°èµ„æºæˆ–æ•°æ®ï¼Œæ˜¯å¹‚ç­‰çš„ã€‚
- `DELETE`ï¼šç”¨äºåˆ é™¤èµ„æºæˆ–æ•°æ®ã€‚

è¿™äº›è¯·æ±‚æ–¹å¼é€šå¸¸æ˜¯å¸¦æœ‰è¯­ä¹‰çš„ï¼Œä»–ä»¬è´Ÿè´£çš„èŒèƒ½å°±æ˜¯å¸¸è§çš„`CRUD`æ“ä½œã€‚

::: tip
å¹‚ç­‰æ˜¯æ•°å­¦çš„ä¸€ä¸ªç”¨è¯­ï¼Œå¯¹äºå•ä¸ªè¾“å…¥æˆ–è€…æ— è¾“å…¥çš„è¿ç®—æ–¹æ³•ï¼Œå¦‚æœæ¯æ¬¡éƒ½æ˜¯åŒæ ·çš„ç»“æœï¼Œåˆ™ç§°å…¶æ˜¯å¹‚ç­‰çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªç½‘ç»œé‡å¤æ‰§è¡Œå¤šæ¬¡ï¼Œäº§ç”Ÿçš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œé‚£å°±æ˜¯å¹‚ç­‰ï¼ˆidempotentï¼‰
:::

> æ˜¯ä¸æ˜¯å¹‚ç­‰å¾ˆé‡è¦å—ï¼Œæˆ‘æŸ¥åˆ°çš„æ¦‚å¿µï¼Œç¬¬ä¸€æ¬¡å¬è¯´ã€‚ğŸ’©

## Client

Client æŒ‡å®¢æˆ·ç«¯ï¼Œè¿è¡Œåœ¨ç”¨æˆ·ä¾§ï¼Œé€šè¿‡ç½‘ç»œè¯·æ±‚å‘æœåŠ¡ç«¯è·å–/æ›´æ”¹ä¿¡æ¯ï¼Œå¹¶æŠŠç»“æœå±•ç¤ºç»™ç”¨æˆ·ã€‚

Clientï¼Œå¯ä»¥æŒ‡ Browserã€curlã€wgetã€postmanã€å®‰å“ç¨‹åºä»¥åŠæ¡Œé¢ç¨‹åºï¼Œå®ƒæŒ‡ä»£ä¸€åˆ‡èƒ½å‘é€è¯·æ±‚ä¸æœåŠ¡ç«¯é€šä¿¡çš„åº”ç”¨ã€‚

åœ¨ Web é‡Œè¯´çš„ client å¾ˆå¤šæƒ…å†µä¸‹æŒ‡çš„å°±æ˜¯ browserï¼Œä½†æ˜¯ä¹Ÿä¸æ˜¯ç»å¯¹çš„ã€‚
æ¯”å¦‚è¯´ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé‡Œï¼Œä¸åŒçš„ server
éœ€è¦è°ƒç”¨å½¼æ­¤ä¹‹é—´çš„æ¥å£(å‡½æ•°)æ—¶ï¼Œéœ€è¦å‘å¯¹æ–¹å‘èµ·è¯·æ±‚ï¼Œé‚£ä¹ˆè¿™æ—¶çš„ server å……å½“äº† client çš„è§’è‰²ã€‚

## Server

### Web Server ä¸ Application Server çš„ä¸åŒ

#### Web Server

Web Server ä¸€èˆ¬ç”¨ä»¥å“åº” client è¯·æ±‚çš„é™æ€èµ„æº(eg: HTML, CSS, JS, etc)ï¼Œè¿™äº›èµ„æºå¯ä»¥è½»æ¾åœ°é€šè¿‡ Http åè®®ä¼ è¾“ã€‚é™æ€èµ„æºåœ¨ server ä¸Šæ˜¯ä»¥æ–‡ä»¶çš„æ–¹å¼å­˜åœ¨çš„ï¼Œè€Œä¼ è¾“åˆ° browser å¯ä»¥è¢«è¯†åˆ«æ¸²æŸ“æˆé¡µé¢å±•ç¤ºç»™ç”¨æˆ·ã€‚

å¸¸è§çš„ web server æœ‰ nginx, apacheï¼Œcaddy ç­‰ç­‰

#### Application Server

application server çš„æœåŠ¡è¿œè¶…å‡ºé™æ€æ–‡ä»¶ï¼Œæ¯”å¦‚ JSON æ ¼å¼çš„æ•°æ®ã€‚

ä½ ä¼šå‘ç° Http çš„
é€šä¿¡æ˜¯åŒæ­¥çš„ï¼Œå³ client å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œå¿…é¡»è¦ç­‰åˆ° server è¿”å›ä¿¡æ¯ï¼Œæ‰èƒ½å‘é€ä¸‹ä¸€æ¡ï¼Œé‚£ä¹ˆ application
server è¿˜èƒ½ä½¿ç”¨ WebSocket ç­‰åè®®æ¥è§£å†³åŒå‘é€šä¿¡çš„åŒæ­¥é—®é¢˜ï¼Œæ›´é‡è¦çš„æ˜¯ application server
å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç‰¹å®šè¯­è¨€æ¥ç¼–å†™ã€‚

### Other Server

è¿˜æœ‰ä¸€äº›æ—¶å€™ Server æŒ‡ä»£çš„ä¸æ˜¯è½¯ä»¶åº”ç”¨ï¼Œè€Œæ˜¯å®ä½“æˆ–äº‘ä¸Šçš„æœåŠ¡å™¨ã€‚

- deploy: éƒ¨ç½²ï¼Œæ„å‘³ç€æŠŠ server åº”ç”¨è¿è¡Œåœ¨å®ä½“æœåŠ¡å™¨ä¸Šã€‚
- hostï¼šæ‰˜ç®¡ï¼Œæ„å‘³ç€è®© server åº”ç”¨æŒç»­åœ°è¿è¡ŒæœåŠ¡ã€‚

ä¸ºä»€ä¹ˆ server åº”ç”¨éœ€è¦éƒ¨ç½²åˆ°æœåŠ¡å™¨å‘¢ï¼Ÿ

å› ä¸ºæœ¬åœ°ä¸Šè¿è¡Œçš„æœåŠ¡ç«¯ï¼Œåªèƒ½æœ¬åœ°ç”¨æˆ·é€šè¿‡æœ¬åœ° ip ç»„æˆçš„ url(eg:
localhost)è®¿é—®ï¼Œå¦‚æœæƒ³è¦è®©äº’è”ç½‘ä¸Šçš„æ‰€æœ‰äººéƒ½èƒ½è®¿é—®ä½ çš„ç½‘ç«™ï¼Œé‚£ä¹ˆéœ€è¦æŠŠ server
åº”ç”¨éƒ¨ç½²åˆ°å…¬ç½‘çš„æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·æ‰èƒ½è®©å…¶ä»–äººé€šè¿‡å…¬ç½‘çš„ ip ç»„æˆçš„ url è®¿é—®åˆ°ä½ çš„ç½‘ç«™ã€‚

> æˆ–è€…è®©æœ¬åœ°æˆä¸ºæœåŠ¡å™¨ï¼Œå³æŠŠæœ¬åœ°æœºå™¨æš´éœ²åˆ°å…¬ç½‘ã€‚

## URL

URL ä»£è¡¨ç€æ˜¯ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆUniform Resource Locatorï¼‰ï¼Œå®ƒæ˜¯æµè§ˆå™¨ç”¨æ¥æ£€ç´¢ web ä¸Šå…¬å¸ƒçš„ä»»ä½•èµ„æºçš„æœºåˆ¶ï¼Œå°±æ˜¯ä¸€ä¸ªç»™å®šçš„ç‹¬ç‰¹èµ„æºåœ¨ Web ä¸Šçš„åœ°å€ã€‚

### URL çš„è·¯å¾„

ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨æµè§ˆå™¨é‡Œï¼Œä¸åŒçš„ url path ä»£è¡¨äº†ä¸åŒçš„é¡µé¢(page)æˆ–è·¯ç”±(route)ã€‚

![image](https://user-images.githubusercontent.com/94043894/233075394-03cd44ab-db21-4668-9673-2e0f787ec49e.png)

å¦‚æœè®¿é—® `/about` é‚£ä¹ˆ about é¡µé¢ä¼šè¢« server å“åº”ç»™ browserï¼Œè®¿é—®`/home` server å°±ä¼šæŠŠ home
é¡µé¢å“åº”ç»™ browserï¼Œç”± server æ¥å†³å®šä¸åŒ url path å“åº”ä»€ä¹ˆèµ„æºçš„è¿‡ç¨‹å°±å«åš æœåŠ¡ç«¯æ¸²æŸ“
SSR(server-side-rendering)ï¼Œä¸ä¹‹å¯¹åº”çš„è¿˜æœ‰ CSR(client-side-rendering)

### HTML URL è¯·æ±‚å…¶ä»–èµ„æº

ç°ä»£çš„ç½‘ç«™ç”± html(structure)ã€css(style)ã€javascript(logic)ç»„æˆï¼Œæ²¡æœ‰ cssï¼Œç½‘ç«™çš„é¡µé¢æˆ–è®¸æ— æ³•æ­£ç¡®è¢«æ˜¾ç¤ºï¼›æ²¡æœ‰ js ç½‘ç«™å°†å¤±å»åŠ¨æ€çš„äº¤äº’ï¼›css å’Œ js ä¸€èˆ¬è¢« linked åˆ° html æ–‡ä»¶ä¸­ã€‚

```html
<link href="/media/examples/link-element-example.css" rel="stylesheet" />

<h1>Home at /home route</h1>

<p class="danger">Red text as defined in the external CSS file.</p>
```

å½“ç”¨æˆ·å‘ server è¯·æ±‚ html çš„ url æ—¶ï¼Œserver ä¼šè¿”å›å¯¹åº”çš„ html æ–‡ä»¶ï¼Œå¦‚æœè¯¥æ–‡ä»¶ä¸­ linked äº† css å’Œ js
ç­‰é™æ€èµ„æºï¼Œé‚£ä¹ˆæµè§ˆå™¨å°†å†æ¬¡å‘é€è¯·æ±‚å»è·å–è¿™äº›æ–‡ä»¶ã€‚

![image](https://user-images.githubusercontent.com/94043894/233091573-c65b2e97-3948-4bd3-84f4-686c069c2705.png)

æœ‰ä¸€ä¸ªåè¯ç§°å‘¼è¿™ä¸ªè¿‡ç¨‹ï¼šè¯·æ±‚ç€‘å¸ƒ( waterfall requests )ï¼Œå› ä¸ºæ¯ä¸€ä¸ªè¯·æ±‚å¿…é¡»ç­‰å¾…å‰ä¸€ä¸ªå®Œæˆæ‰èƒ½å‘é€ã€‚

åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæµè§ˆå™¨ä¸çŸ¥é“è¦åœ¨ html æ–‡ä»¶å®ŒæˆåŠ è½½ä¹‹å‰è¯·æ±‚ cssï¼Œå¦‚æœ html ä¸­ linked äº†
cssï¼Œè€Œ css ä¸­åˆåŒ…å«äº† jpg å›¾ç‰‡(ç”¨ä½œèƒŒæ™¯å›¾ç‰‡)ï¼Œé‚£ä¹ˆè¯·æ±‚åº”è¯¥ä¼šå˜æˆä»¥ä¸‹çš„æ ·å­ï¼š

![image](https://user-images.githubusercontent.com/94043894/233108932-2dda84f6-69bb-43de-b32f-e0f463340b21.png)

å¹¸å¥½ï¼Œå¦‚æœå¾ˆå¤šä¸ªæ–‡ä»¶å¼•ç”¨åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­è¢«å®šä¹‰çš„è¯ï¼Œé‚£ä¹ˆè¿™äº›è¯·æ±‚ä¼šè¢«å¹³è¡Œå‘é€ã€‚

![image](https://user-images.githubusercontent.com/94043894/233110952-35e66c91-e32d-4af9-836c-75278372de30.png)

æœ€ç»ˆï¼Œæµè§ˆå™¨è·å¾—äº†æ‰€æœ‰çš„èµ„æºï¼Œå¹¶æŠŠåŸæ¥ url å¯¹åº”çš„ html å†…å®¹
ä¸å®ƒæ‰€åŒ…å«çš„æ–‡ä»¶ä¸€å¹¶æ¸²æŸ“å‡ºæ¥ï¼Œç”¨æˆ·å°±å¯ä»¥çœ‹åˆ°ç½‘é¡µäº†ã€‚
