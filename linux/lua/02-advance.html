<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="https://avatars.githubusercontent.com/u/94043894"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css"><title>è¿›é˜¶å†…å®¹ | ğŸ“–Mosquito's NoteğŸ“–</title><meta name="description" content="æ˜¯æ°´å±æ€§çš„ç­”è¾©">
    <link rel="preload" href="/assets/style-60c868d5.css" as="style"><link rel="stylesheet" href="/assets/style-60c868d5.css">
    <link rel="modulepreload" href="/assets/app-59ccc503.js"><link rel="modulepreload" href="/assets/framework-7db056f4.js"><link rel="modulepreload" href="/assets/02-advance.html-a7fd126b.js"><link rel="modulepreload" href="/assets/02-advance.html-be6b3ac2.js"><link rel="prefetch" href="/assets/index.html-cdbcd1c4.js" as="script"><link rel="prefetch" href="/assets/01-æšä¸¾.html-e5fd9658.js" as="script"><link rel="prefetch" href="/assets/02-æ’åº.html-4a1ee9a0.js" as="script"><link rel="prefetch" href="/assets/03-è´ªå¿ƒ.html-3de3c1a8.js" as="script"><link rel="prefetch" href="/assets/04-æœç´¢.html-3f78a195.js" as="script"><link rel="prefetch" href="/assets/05-åŠ¨æ€è§„åˆ’.html-ab62ae4f.js" as="script"><link rel="prefetch" href="/assets/06-å…¶ä»–.html-21180a57.js" as="script"><link rel="prefetch" href="/assets/index.html-0156f895.js" as="script"><link rel="prefetch" href="/assets/01-word.html-72ffce8a.js" as="script"><link rel="prefetch" href="/assets/02-lyrics.html-cacd27aa.js" as="script"><link rel="prefetch" href="/assets/index.html-ff931331.js" as="script"><link rel="prefetch" href="/assets/01-çº¿æ€§è¡¨.html-34708e22.js" as="script"><link rel="prefetch" href="/assets/02-å“ˆå¸Œè¡¨.html-865e9114.js" as="script"><link rel="prefetch" href="/assets/03-æ ‘.html-e8cfe6de.js" as="script"><link rel="prefetch" href="/assets/04-å›¾.html-51e29241.js" as="script"><link rel="prefetch" href="/assets/01-ç®€å•æ•°å­¦.html-71ccad4a.js" as="script"><link rel="prefetch" href="/assets/02-ç»„åˆæ•°å­¦.html-62317c38.js" as="script"><link rel="prefetch" href="/assets/07-æ•°è®º.html-930eed84.js" as="script"><link rel="prefetch" href="/assets/index.html-2504e5ba.js" as="script"><link rel="prefetch" href="/assets/01-æ•°æ®åº“è®¾è®¡.html-983efe45.js" as="script"><link rel="prefetch" href="/assets/index.html-93728a94.js" as="script"><link rel="prefetch" href="/assets/01-å®‰è£….html-e3ed0443.js" as="script"><link rel="prefetch" href="/assets/02-ç»“æ„.html-05b1ccee.js" as="script"><link rel="prefetch" href="/assets/03-è¯»æ¡£.html-7150c47e.js" as="script"><link rel="prefetch" href="/assets/04-åˆ é™¤.html-342e4314.js" as="script"><link rel="prefetch" href="/assets/05-è¿œç¨‹.html-2cda9299.js" as="script"><link rel="prefetch" href="/assets/06-åˆ†æ”¯.html-a9cc4a37.js" as="script"><link rel="prefetch" href="/assets/07-æ ‡ç­¾.html-c662f630.js" as="script"><link rel="prefetch" href="/assets/08-å¿½ç•¥.html-5393e20a.js" as="script"><link rel="prefetch" href="/assets/09-é…ç½®.html-bc9eaafb.js" as="script"><link rel="prefetch" href="/assets/10-gitæœåŠ¡å™¨.html-ec1410ce.js" as="script"><link rel="prefetch" href="/assets/11-workflow.html-12109269.js" as="script"><link rel="prefetch" href="/assets/index.html-0740dbe9.js" as="script"><link rel="prefetch" href="/assets/01-base.html-d375be02.js" as="script"><link rel="prefetch" href="/assets/index.html-08dbaca1.js" as="script"><link rel="prefetch" href="/assets/01-ç™»å½•.html-f8b075bb.js" as="script"><link rel="prefetch" href="/assets/02-å®‰è£….html-e455c91d.js" as="script"><link rel="prefetch" href="/assets/03-éƒ¨ç½².html-c3482e31.js" as="script"><link rel="prefetch" href="/assets/index.html-518b7d25.js" as="script"><link rel="prefetch" href="/assets/01-æ ·å¼å®šä¹‰.html-3fe0215d.js" as="script"><link rel="prefetch" href="/assets/02-é€‰æ‹©å™¨.html-13335a98.js" as="script"><link rel="prefetch" href="/assets/03-é¢œè‰².html-bf172a25.js" as="script"><link rel="prefetch" href="/assets/04-æ–‡å­—.html-2b8faf79.js" as="script"><link rel="prefetch" href="/assets/05-å­—ä½“.html-65201a3f.js" as="script"><link rel="prefetch" href="/assets/06-èƒŒæ™¯.html-e5b8c130.js" as="script"><link rel="prefetch" href="/assets/07-è¾¹æ¡†.html-6e2d7440.js" as="script"><link rel="prefetch" href="/assets/08-å…ƒç´ å±•ç¤º.html-c81a3855.js" as="script"><link rel="prefetch" href="/assets/09-å†…å¤–è¾¹è·.html-20f8dbf4.js" as="script"><link rel="prefetch" href="/assets/10-ç›’å­æ¨¡å‹.html-0c5d9eb9.js" as="script"><link rel="prefetch" href="/assets/11-ä½ç½®.html-7fae6fe9.js" as="script"><link rel="prefetch" href="/assets/12-æµ®åŠ¨.html-3a255937.js" as="script"><link rel="prefetch" href="/assets/13-flexå¸ƒå±€.html-dd2f0211.js" as="script"><link rel="prefetch" href="/assets/14-å“åº”å¸ƒå±€.html-8642af2f.js" as="script"><link rel="prefetch" href="/assets/index.html-b78d9bd3.js" as="script"><link rel="prefetch" href="/assets/01-åŒ…å˜é‡å‡½æ•°.html-3fc4baa7.js" as="script"><link rel="prefetch" href="/assets/02-æµç¨‹ä¸æ§åˆ¶.html-60f63775.js" as="script"><link rel="prefetch" href="/assets/03-æ›´å¤šç±»å‹.html-84ded195.js" as="script"><link rel="prefetch" href="/assets/04-æ–¹æ³•å’Œæ¥å£.html-54aef51c.js" as="script"><link rel="prefetch" href="/assets/05-å¹¶å‘.html-0ed17b6e.js" as="script"><link rel="prefetch" href="/assets/index.html-70dd95ec.js" as="script"><link rel="prefetch" href="/assets/01-htmlåŸºç¡€æ ‡ç­¾.html-11309971.js" as="script"><link rel="prefetch" href="/assets/02-æ–‡æœ¬æ ‡ç­¾.html-bbf6bad5.js" as="script"><link rel="prefetch" href="/assets/03-å›¾ç‰‡.html-f92b3660.js" as="script"><link rel="prefetch" href="/assets/04-éŸ³é¢‘ä¸è§†é¢‘.html-ae9a1159.js" as="script"><link rel="prefetch" href="/assets/05-è¶…é“¾æ¥.html-04088f81.js" as="script"><link rel="prefetch" href="/assets/06-è¡¨å•.html-a1b0cc9f.js" as="script"><link rel="prefetch" href="/assets/07-åˆ—è¡¨.html-9417d025.js" as="script"><link rel="prefetch" href="/assets/08-è¡¨æ ¼.html-083951a0.js" as="script"><link rel="prefetch" href="/assets/09-è¯­ä¹‰æ ‡ç­¾.html-396d378d.js" as="script"><link rel="prefetch" href="/assets/10-ç‰¹æ®Šç¬¦å·.html-2d1368b4.js" as="script"><link rel="prefetch" href="/assets/index.html-000a169d.js" as="script"><link rel="prefetch" href="/assets/è¡¨å•åŠhtml5.html-d01c105a.js" as="script"><link rel="prefetch" href="/assets/index.html-34d81047.js" as="script"><link rel="prefetch" href="/assets/01-jsçš„è°ƒç”¨æ–¹å¼ä¸æ‰§è¡Œé¡ºåº.html-c8efcaaa.js" as="script"><link rel="prefetch" href="/assets/02-å˜é‡ä¸è¿ç®—ç¬¦.html-d90c7252.js" as="script"><link rel="prefetch" href="/assets/03-è¾“å…¥ä¸è¾“å‡º.html-4c20cbab.js" as="script"><link rel="prefetch" href="/assets/04-åˆ¤æ–­è¯­å¥.html-d3d09a31.js" as="script"><link rel="prefetch" href="/assets/05-å¾ªç¯è¯­å¥.html-3c34de0e.js" as="script"><link rel="prefetch" href="/assets/06-å¯¹è±¡.html-0cb936c2.js" as="script"><link rel="prefetch" href="/assets/07-æ•°ç»„.html-3e6be019.js" as="script"><link rel="prefetch" href="/assets/08-å‡½æ•°.html-41dd1bf7.js" as="script"><link rel="prefetch" href="/assets/09-ç±».html-869ac2c2.js" as="script"><link rel="prefetch" href="/assets/10-äº‹ä»¶.html-93439802.js" as="script"><link rel="prefetch" href="/assets/11-å¸¸ç”¨åº“.html-69fc63cd.js" as="script"><link rel="prefetch" href="/assets/12-å¼‚æ­¥.html-73365c5b.js" as="script"><link rel="prefetch" href="/assets/index.html-c909febc.js" as="script"><link rel="prefetch" href="/assets/javascriptä¸€å‘¨ç›®ç¬”è®°.html-2d1d5023.js" as="script"><link rel="prefetch" href="/assets/01-æ¶æ„.html-d10e00e2.js" as="script"><link rel="prefetch" href="/assets/01-sql.html-3cd27c49.js" as="script"><link rel="prefetch" href="/assets/02-DDL.html-1be35d61.js" as="script"><link rel="prefetch" href="/assets/03-DML.html-8f6d8463.js" as="script"><link rel="prefetch" href="/assets/04-DQL.html-da3dddc6.js" as="script"><link rel="prefetch" href="/assets/05-DCL.html-9a0e777b.js" as="script"><link rel="prefetch" href="/assets/06-å‡½æ•°.html-d9e4d0c9.js" as="script"><link rel="prefetch" href="/assets/07-çº¦æŸ.html-6e7ba2f3.js" as="script"><link rel="prefetch" href="/assets/08-å¤šè¡¨æŸ¥è¯¢.html-2597ac17.js" as="script"><link rel="prefetch" href="/assets/09-äº‹åŠ¡.html-efb1cf0a.js" as="script"><link rel="prefetch" href="/assets/10-å…¶ä»–.html-eb823347.js" as="script"><link rel="prefetch" href="/assets/index.html-698636ef.js" as="script"><link rel="prefetch" href="/assets/01-ç®€ä»‹.html-2aa88a0a.js" as="script"><link rel="prefetch" href="/assets/02-åŸºæœ¬è·¯ç”±.html-8cbb953b.js" as="script"><link rel="prefetch" href="/assets/03-Restful.html-23c96cf2.js" as="script"><link rel="prefetch" href="/assets/04-APIå‚æ•°.html-28dca721.js" as="script"><link rel="prefetch" href="/assets/05-URLå‚æ•°.html-eb3baf78.js" as="script"><link rel="prefetch" href="/assets/06-è¡¨å•å‚æ•°.html-ea739a8a.js" as="script"><link rel="prefetch" href="/assets/07-å•æ–‡ä»¶ä¸Šä¼ .html-6ec13c2e.js" as="script"><link rel="prefetch" href="/assets/08-å¤šæ–‡ä»¶ä¸Šä¼ .html-e8ed0bc1.js" as="script"><link rel="prefetch" href="/assets/09-routesGroup.html-989221e9.js" as="script"><link rel="prefetch" href="/assets/10-notFound.html-aaa773c1.js" as="script"><link rel="prefetch" href="/assets/11-Json.html-c523d8d2.js" as="script"><link rel="prefetch" href="/assets/12-è¡¨å•.html-2fa1946f.js" as="script"><link rel="prefetch" href="/assets/13-Uri.html-f283583d.js" as="script"><link rel="prefetch" href="/assets/14-æ•°æ®æ¸²æŸ“.html-d4e381a5.js" as="script"><link rel="prefetch" href="/assets/15-HTMLæ¨¡æ¿.html-8ee987aa.js" as="script"><link rel="prefetch" href="/assets/16-é‡å®šå‘.html-41874ccd.js" as="script"><link rel="prefetch" href="/assets/17-åŒæ­¥å¼‚æ­¥.html-793fd64f.js" as="script"><link rel="prefetch" href="/assets/18-å…¨å±€ä¸­é—´ä»¶.html-102fee60.js" as="script"><link rel="prefetch" href="/assets/19-Nextæ–¹æ³•.html-259e4cc6.js" as="script"><link rel="prefetch" href="/assets/20-å±€éƒ¨ä¸­é—´ä»¶.html-8be67a56.js" as="script"><link rel="prefetch" href="/assets/21-ä¸‰æ–¹ä¸­é—´ä»¶.html-44ad0f4d.js" as="script"><link rel="prefetch" href="/assets/22-Cookieä»‹ç».html-dca9c2cc.js" as="script"><link rel="prefetch" href="/assets/23-Cookieä½¿ç”¨.html-4a855263.js" as="script"><link rel="prefetch" href="/assets/24-session.html-50238523.js" as="script"><link rel="prefetch" href="/assets/25-log.html-1194dc6d.js" as="script"><link rel="prefetch" href="/assets/01-gorm.html-99bd4d00.js" as="script"><link rel="prefetch" href="/assets/02-æ¨¡å‹.html-277e7022.js" as="script"><link rel="prefetch" href="/assets/03-æƒ¯ä¾‹.html-6fe0bc5f.js" as="script"><link rel="prefetch" href="/assets/04-è¿æ¥æ•°æ®åº“.html-fce0a5b7.js" as="script"><link rel="prefetch" href="/assets/05-åˆ›å»º.html-56f733ef.js" as="script"><link rel="prefetch" href="/assets/06-æŸ¥è¯¢.html-d18d1a31.js" as="script"><link rel="prefetch" href="/assets/07-æ›´æ–°.html-1672eed7.js" as="script"><link rel="prefetch" href="/assets/08-åˆ é™¤.html-146cf69b.js" as="script"><link rel="prefetch" href="/assets/09-å±äº.html-c36628f6.js" as="script"><link rel="prefetch" href="/assets/10-ä¸€å¯¹ä¸€.html-298854cf.js" as="script"><link rel="prefetch" href="/assets/11-ä¸€å¯¹å¤š.html-75d10420.js" as="script"><link rel="prefetch" href="/assets/12-å¤šå¯¹å¤š.html-9f27b03b.js" as="script"><link rel="prefetch" href="/assets/13-å…³è”.html-27d2c26d.js" as="script"><link rel="prefetch" href="/assets/14-é¢„åŠ è½½.html-94ec5c7f.js" as="script"><link rel="prefetch" href="/assets/15-é“¾å¼æ“ä½œ.html-a4b2fa19.js" as="script"><link rel="prefetch" href="/assets/16-é”™è¯¯å¤„ç†.html-d0cc9a63.js" as="script"><link rel="prefetch" href="/assets/17-é’©å­.html-ae5ab9a3.js" as="script"><link rel="prefetch" href="/assets/18-äº‹åŠ¡.html-ab1044cd.js" as="script"><link rel="prefetch" href="/assets/19-sqlæ„é€ å™¨.html-707add3e.js" as="script"><link rel="prefetch" href="/assets/20-æ•°æ®åº“è¿ç§».html-a301c9b2.js" as="script"><link rel="prefetch" href="/assets/21-é€šç”¨æ•°æ®åº“æ¥å£.html-423bb8d8.js" as="script"><link rel="prefetch" href="/assets/01-ç¼–è¯‘.html-763e6d3d.js" as="script"><link rel="prefetch" href="/assets/02-module.html-2c5ffc86.js" as="script"><link rel="prefetch" href="/assets/01-é«˜è´¨é‡ç¼–ç¨‹.html-ce900c03.js" as="script"><link rel="prefetch" href="/assets/02-æ€§èƒ½ä¼˜åŒ–.html-85d49aaa.js" as="script"><link rel="prefetch" href="/assets/01-åŸºç¡€.html-b3df7503.js" as="script"><link rel="prefetch" href="/assets/02-æµç¨‹æ§åˆ¶.html-6839e22d.js" as="script"><link rel="prefetch" href="/assets/03-æ•°ç»„.html-97fe251c.js" as="script"><link rel="prefetch" href="/assets/04-ç±»å’Œå¯¹è±¡.html-48a8955b.js" as="script"><link rel="prefetch" href="/assets/05-æ¥å£å’Œç»§æ‰¿.html-eec731d6.js" as="script"><link rel="prefetch" href="/assets/06-å…¶ä»–.html-9be7b738.js" as="script"><link rel="prefetch" href="/assets/07-å¼‚å¸¸å¤„ç†.html-24741fb3.js" as="script"><link rel="prefetch" href="/assets/08-IO.html-4df10f64.js" as="script"><link rel="prefetch" href="/assets/09-æ³›å‹.html-794fe4e8.js" as="script"><link rel="prefetch" href="/assets/10-åå°„.html-cf202141.js" as="script"><link rel="prefetch" href="/assets/11-æ³¨è§£.html-ec7a6290.js" as="script"><link rel="prefetch" href="/assets/12-çº¿ç¨‹.html-8ed72df6.js" as="script"><link rel="prefetch" href="/assets/13-Jvm.html-cf1a4f88.js" as="script"><link rel="prefetch" href="/assets/01-ServletåŸºç¡€çŸ¥è¯†.html-2059c0e2.js" as="script"><link rel="prefetch" href="/assets/02-httpè¯·æ±‚å›åº”å¯¹è±¡.html-42d5b4c5.js" as="script"><link rel="prefetch" href="/assets/03-Cookieå¯¹è±¡.html-a912d055.js" as="script"><link rel="prefetch" href="/assets/04-HttpSessionå¯¹è±¡.html-67d82114.js" as="script"><link rel="prefetch" href="/assets/05-è¿”å›Json.html-52e6a423.js" as="script"><link rel="prefetch" href="/assets/06-æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½.html-1dddf459.js" as="script"><link rel="prefetch" href="/assets/01-ç¯å¢ƒ.html-9279f91d.js" as="script"><link rel="prefetch" href="/assets/02-ES6è¯­æ³•è¡¥å…….html-00ed2446.js" as="script"><link rel="prefetch" href="/assets/03-Components.html-2d9c666b.js" as="script"><link rel="prefetch" href="/assets/04-ç»„åˆComponents.html-d57c246f.js" as="script"><link rel="prefetch" href="/assets/05-è·¯ç”±.html-1fe184de.js" as="script"><link rel="prefetch" href="/assets/06-Redux.html-7b919a01.js" as="script"><link rel="prefetch" href="/assets/07-å‡½æ•°ç»„ä»¶ä¸Hooks.html-ebd985e7.js" as="script"><link rel="prefetch" href="/assets/01-what.html-e3f99b7d.js" as="script"><link rel="prefetch" href="/assets/02-base.html-8b9de671.js" as="script"><link rel="prefetch" href="/assets/03-advance.html-6f8daf90.js" as="script"><link rel="prefetch" href="/assets/04-others.html-306a108b.js" as="script"><link rel="prefetch" href="/assets/01-ç¯å¢ƒ.html-31e06c8d.js" as="script"><link rel="prefetch" href="/assets/02-åŸºæœ¬.html-5165f131.js" as="script"><link rel="prefetch" href="/assets/01-connect.html-7319a9f0.js" as="script"><link rel="prefetch" href="/assets/02-CRUD.html-4deafc28.js" as="script"><link rel="prefetch" href="/assets/01-web.html-1339ecba.js" as="script"><link rel="prefetch" href="/assets/02-handler.html-f058b385.js" as="script"><link rel="prefetch" href="/assets/03-request.html-5f27fae4.js" as="script"><link rel="prefetch" href="/assets/04-response.html-e78adccb.js" as="script"><link rel="prefetch" href="/assets/05-template.html-0fe15dbb.js" as="script"><link rel="prefetch" href="/assets/06-route.html-6a7c8f0e.js" as="script"><link rel="prefetch" href="/assets/07-json.html-5d654df7.js" as="script"><link rel="prefetch" href="/assets/08-middleware.html-88d4639e.js" as="script"><link rel="prefetch" href="/assets/09-context.html-39832d49.js" as="script"><link rel="prefetch" href="/assets/10-https.html-0f968e43.js" as="script"><link rel="prefetch" href="/assets/11-test.html-386db2a2.js" as="script"><link rel="prefetch" href="/assets/01-Giné¡¹ç›®æ¶æ„.html-a75c6681.js" as="script"><link rel="prefetch" href="/assets/02-Giné›†æˆGorm.html-609a7438.js" as="script"><link rel="prefetch" href="/assets/03-Ginå®ç°æ§åˆ¶å’Œè·¯ç”±.html-5ce5d086.js" as="script"><link rel="prefetch" href="/assets/01-Springä¸SpringBoot.html-d227990a.js" as="script"><link rel="prefetch" href="/assets/02-SpringBoot2å…¥é—¨.html-45c170c8.js" as="script"><link rel="prefetch" href="/assets/03-è‡ªåŠ¨é…ç½®åŸç†.html-d7b5455e.js" as="script"><link rel="prefetch" href="/assets/01-é…ç½®æ–‡ä»¶.html-79e04a6c.js" as="script"><link rel="prefetch" href="/assets/02-webå¼€å‘.html-9b937273.js" as="script"><link rel="prefetch" href="/assets/01-MyBatis.html-8064b39b.js" as="script"><link rel="prefetch" href="/assets/02-æ­å»ºMyBatis.html-4b023321.js" as="script"><link rel="prefetch" href="/assets/03-æ ¸å¿ƒé…ç½®æ–‡ä»¶.html-27e6469b.js" as="script"><link rel="prefetch" href="/assets/04-é»˜è®¤çš„ç±»å‹åˆ«å.html-6708ce60.js" as="script"><link rel="prefetch" href="/assets/05-å¢åˆ æ”¹æŸ¥.html-cdaa4d65.js" as="script"><link rel="prefetch" href="/assets/06-è·å–å‚æ•°å€¼.html-0a774486.js" as="script"><link rel="prefetch" href="/assets/07-å„ç§æŸ¥è¯¢åŠŸèƒ½.html-c53d48cc.js" as="script"><link rel="prefetch" href="/assets/08-ç‰¹æ®Šçš„SQLçš„æ‰§è¡Œ.html-5ecf10fc.js" as="script"><link rel="prefetch" href="/assets/09-resultMap.html-a7a184a5.js" as="script"><link rel="prefetch" href="/assets/10-åŠ¨æ€SQL.html-db9d27a5.js" as="script"><link rel="prefetch" href="/assets/11-MyBatisçš„ç¼“å­˜.html-db37f29e.js" as="script"><link rel="prefetch" href="/assets/12-é€†å‘å·¥ç¨‹.html-106e064a.js" as="script"><link rel="prefetch" href="/assets/13-åˆ†é¡µæ’ä»¶.html-b9838211.js" as="script"><link rel="prefetch" href="/assets/01-Springç®€ä»‹.html-9b26b494.js" as="script"><link rel="prefetch" href="/assets/02-IOC.html-aae45dc3.js" as="script"><link rel="prefetch" href="/assets/03-AOP.html-17fd3bfc.js" as="script"><link rel="prefetch" href="/assets/01-SpringMVCç®€ä»‹.html-8fb0b87b.js" as="script"><link rel="prefetch" href="/assets/02-HelloWorld.html-17e0eecd.js" as="script"><link rel="prefetch" href="/assets/03-RequestMapping.html-2c0dd78a.js" as="script"><link rel="prefetch" href="/assets/04-è·å–è¯·æ±‚å‚æ•°.html-c5c48860.js" as="script"><link rel="prefetch" href="/assets/05-åŸŸå¯¹è±¡å…±äº«æ•°æ®.html-77d359ef.js" as="script"><link rel="prefetch" href="/assets/06-SpringMVCè§†å›¾.html-670aaf81.js" as="script"><link rel="prefetch" href="/assets/07-RESTFul.html-8c4acca5.js" as="script"><link rel="prefetch" href="/assets/08-HttpMessageConverter.html-70690ae1.js" as="script"><link rel="prefetch" href="/assets/09-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½.html-a4d10b1b.js" as="script"><link rel="prefetch" href="/assets/10-æ‹¦æˆªå™¨.html-020748e9.js" as="script"><link rel="prefetch" href="/assets/11-å¼‚å¸¸å¤„ç†å™¨.html-6aa11bb2.js" as="script"><link rel="prefetch" href="/assets/12-æ³¨è§£é…ç½®SpringMVC.html-70d45132.js" as="script"><link rel="prefetch" href="/assets/13-SpringMVCæ‰§è¡Œæµç¨‹.html-6f864ad1.js" as="script"><link rel="prefetch" href="/assets/7.5-RESTFulæ¡ˆä¾‹.html-da6175cd.js" as="script"><link rel="prefetch" href="/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/assets/index.html-eed40025.js" as="script"><link rel="prefetch" href="/assets/01-æšä¸¾.html-e6765e16.js" as="script"><link rel="prefetch" href="/assets/02-æ’åº.html-6ccb2ce4.js" as="script"><link rel="prefetch" href="/assets/03-è´ªå¿ƒ.html-ccf51973.js" as="script"><link rel="prefetch" href="/assets/04-æœç´¢.html-4979d542.js" as="script"><link rel="prefetch" href="/assets/05-åŠ¨æ€è§„åˆ’.html-ece67678.js" as="script"><link rel="prefetch" href="/assets/06-å…¶ä»–.html-fca80360.js" as="script"><link rel="prefetch" href="/assets/index.html-ae8e3fca.js" as="script"><link rel="prefetch" href="/assets/01-word.html-e7b3211c.js" as="script"><link rel="prefetch" href="/assets/02-lyrics.html-54625a8a.js" as="script"><link rel="prefetch" href="/assets/index.html-a5d66310.js" as="script"><link rel="prefetch" href="/assets/01-çº¿æ€§è¡¨.html-57bdcf92.js" as="script"><link rel="prefetch" href="/assets/02-å“ˆå¸Œè¡¨.html-53ce7cdd.js" as="script"><link rel="prefetch" href="/assets/03-æ ‘.html-d33015ce.js" as="script"><link rel="prefetch" href="/assets/04-å›¾.html-344239e2.js" as="script"><link rel="prefetch" href="/assets/01-ç®€å•æ•°å­¦.html-4153c4a6.js" as="script"><link rel="prefetch" href="/assets/02-ç»„åˆæ•°å­¦.html-28a970e5.js" as="script"><link rel="prefetch" href="/assets/07-æ•°è®º.html-eb5e8ca7.js" as="script"><link rel="prefetch" href="/assets/index.html-2d9a7331.js" as="script"><link rel="prefetch" href="/assets/01-æ•°æ®åº“è®¾è®¡.html-f3fbb845.js" as="script"><link rel="prefetch" href="/assets/index.html-b70bf8ae.js" as="script"><link rel="prefetch" href="/assets/01-å®‰è£….html-e7bb5a22.js" as="script"><link rel="prefetch" href="/assets/02-ç»“æ„.html-bed7a786.js" as="script"><link rel="prefetch" href="/assets/03-è¯»æ¡£.html-c9347c12.js" as="script"><link rel="prefetch" href="/assets/04-åˆ é™¤.html-302a6baf.js" as="script"><link rel="prefetch" href="/assets/05-è¿œç¨‹.html-e53d9d88.js" as="script"><link rel="prefetch" href="/assets/06-åˆ†æ”¯.html-3fa636ec.js" as="script"><link rel="prefetch" href="/assets/07-æ ‡ç­¾.html-20d47d6e.js" as="script"><link rel="prefetch" href="/assets/08-å¿½ç•¥.html-073cca34.js" as="script"><link rel="prefetch" href="/assets/09-é…ç½®.html-4b0c04db.js" as="script"><link rel="prefetch" href="/assets/10-gitæœåŠ¡å™¨.html-382fcfd5.js" as="script"><link rel="prefetch" href="/assets/11-workflow.html-65362c9a.js" as="script"><link rel="prefetch" href="/assets/index.html-8fb79683.js" as="script"><link rel="prefetch" href="/assets/01-base.html-9bb28ff2.js" as="script"><link rel="prefetch" href="/assets/index.html-7168513e.js" as="script"><link rel="prefetch" href="/assets/01-ç™»å½•.html-3b840845.js" as="script"><link rel="prefetch" href="/assets/02-å®‰è£….html-529cbc4b.js" as="script"><link rel="prefetch" href="/assets/03-éƒ¨ç½².html-4f7fc9fe.js" as="script"><link rel="prefetch" href="/assets/index.html-e0bffda4.js" as="script"><link rel="prefetch" href="/assets/01-æ ·å¼å®šä¹‰.html-c85bbb22.js" as="script"><link rel="prefetch" href="/assets/02-é€‰æ‹©å™¨.html-ddb460ea.js" as="script"><link rel="prefetch" href="/assets/03-é¢œè‰².html-03f8a6ba.js" as="script"><link rel="prefetch" href="/assets/04-æ–‡å­—.html-54fd4556.js" as="script"><link rel="prefetch" href="/assets/05-å­—ä½“.html-d6b75318.js" as="script"><link rel="prefetch" href="/assets/06-èƒŒæ™¯.html-624f59b6.js" as="script"><link rel="prefetch" href="/assets/07-è¾¹æ¡†.html-79cad437.js" as="script"><link rel="prefetch" href="/assets/08-å…ƒç´ å±•ç¤º.html-b7d2d54d.js" as="script"><link rel="prefetch" href="/assets/09-å†…å¤–è¾¹è·.html-701a08bc.js" as="script"><link rel="prefetch" href="/assets/10-ç›’å­æ¨¡å‹.html-9cf2a646.js" as="script"><link rel="prefetch" href="/assets/11-ä½ç½®.html-82daece1.js" as="script"><link rel="prefetch" href="/assets/12-æµ®åŠ¨.html-6e2e91c4.js" as="script"><link rel="prefetch" href="/assets/13-flexå¸ƒå±€.html-ec71581a.js" as="script"><link rel="prefetch" href="/assets/14-å“åº”å¸ƒå±€.html-8e5cb92d.js" as="script"><link rel="prefetch" href="/assets/index.html-02541145.js" as="script"><link rel="prefetch" href="/assets/01-åŒ…å˜é‡å‡½æ•°.html-2c23282f.js" as="script"><link rel="prefetch" href="/assets/02-æµç¨‹ä¸æ§åˆ¶.html-2a53b2dc.js" as="script"><link rel="prefetch" href="/assets/03-æ›´å¤šç±»å‹.html-5b5924a8.js" as="script"><link rel="prefetch" href="/assets/04-æ–¹æ³•å’Œæ¥å£.html-f103ea79.js" as="script"><link rel="prefetch" href="/assets/05-å¹¶å‘.html-4f1403ff.js" as="script"><link rel="prefetch" href="/assets/index.html-1ddea091.js" as="script"><link rel="prefetch" href="/assets/01-htmlåŸºç¡€æ ‡ç­¾.html-8d296c52.js" as="script"><link rel="prefetch" href="/assets/02-æ–‡æœ¬æ ‡ç­¾.html-69fd2255.js" as="script"><link rel="prefetch" href="/assets/03-å›¾ç‰‡.html-4db582d3.js" as="script"><link rel="prefetch" href="/assets/04-éŸ³é¢‘ä¸è§†é¢‘.html-fb5bb5bb.js" as="script"><link rel="prefetch" href="/assets/05-è¶…é“¾æ¥.html-96ea3e3b.js" as="script"><link rel="prefetch" href="/assets/06-è¡¨å•.html-8bc19f54.js" as="script"><link rel="prefetch" href="/assets/07-åˆ—è¡¨.html-c363c198.js" as="script"><link rel="prefetch" href="/assets/08-è¡¨æ ¼.html-d33247cf.js" as="script"><link rel="prefetch" href="/assets/09-è¯­ä¹‰æ ‡ç­¾.html-4db5c68d.js" as="script"><link rel="prefetch" href="/assets/10-ç‰¹æ®Šç¬¦å·.html-1da4c61c.js" as="script"><link rel="prefetch" href="/assets/index.html-f30c93ce.js" as="script"><link rel="prefetch" href="/assets/è¡¨å•åŠhtml5.html-155cdfbd.js" as="script"><link rel="prefetch" href="/assets/index.html-09597e17.js" as="script"><link rel="prefetch" href="/assets/01-jsçš„è°ƒç”¨æ–¹å¼ä¸æ‰§è¡Œé¡ºåº.html-fccac840.js" as="script"><link rel="prefetch" href="/assets/02-å˜é‡ä¸è¿ç®—ç¬¦.html-55109784.js" as="script"><link rel="prefetch" href="/assets/03-è¾“å…¥ä¸è¾“å‡º.html-2bb5ffd1.js" as="script"><link rel="prefetch" href="/assets/04-åˆ¤æ–­è¯­å¥.html-8eb669b1.js" as="script"><link rel="prefetch" href="/assets/05-å¾ªç¯è¯­å¥.html-92a0e2d0.js" as="script"><link rel="prefetch" href="/assets/06-å¯¹è±¡.html-525c63b6.js" as="script"><link rel="prefetch" href="/assets/07-æ•°ç»„.html-dc674f25.js" as="script"><link rel="prefetch" href="/assets/08-å‡½æ•°.html-308e4eeb.js" as="script"><link rel="prefetch" href="/assets/09-ç±».html-e1e26d66.js" as="script"><link rel="prefetch" href="/assets/10-äº‹ä»¶.html-e0fa8687.js" as="script"><link rel="prefetch" href="/assets/11-å¸¸ç”¨åº“.html-bfbc6714.js" as="script"><link rel="prefetch" href="/assets/12-å¼‚æ­¥.html-68d42494.js" as="script"><link rel="prefetch" href="/assets/index.html-f534162a.js" as="script"><link rel="prefetch" href="/assets/javascriptä¸€å‘¨ç›®ç¬”è®°.html-43fe9622.js" as="script"><link rel="prefetch" href="/assets/01-æ¶æ„.html-5b6eb138.js" as="script"><link rel="prefetch" href="/assets/01-sql.html-3864111f.js" as="script"><link rel="prefetch" href="/assets/02-DDL.html-6e1ed03d.js" as="script"><link rel="prefetch" href="/assets/03-DML.html-7e44a861.js" as="script"><link rel="prefetch" href="/assets/04-DQL.html-4ffe9d8c.js" as="script"><link rel="prefetch" href="/assets/05-DCL.html-187da245.js" as="script"><link rel="prefetch" href="/assets/06-å‡½æ•°.html-c0b4ccc8.js" as="script"><link rel="prefetch" href="/assets/07-çº¦æŸ.html-31ac81b8.js" as="script"><link rel="prefetch" href="/assets/08-å¤šè¡¨æŸ¥è¯¢.html-f62c4954.js" as="script"><link rel="prefetch" href="/assets/09-äº‹åŠ¡.html-de022709.js" as="script"><link rel="prefetch" href="/assets/10-å…¶ä»–.html-0c43873b.js" as="script"><link rel="prefetch" href="/assets/index.html-e0c8954f.js" as="script"><link rel="prefetch" href="/assets/01-ç®€ä»‹.html-e0220e8c.js" as="script"><link rel="prefetch" href="/assets/02-åŸºæœ¬è·¯ç”±.html-c1a74ec5.js" as="script"><link rel="prefetch" href="/assets/03-Restful.html-f4506d1d.js" as="script"><link rel="prefetch" href="/assets/04-APIå‚æ•°.html-2db1237c.js" as="script"><link rel="prefetch" href="/assets/05-URLå‚æ•°.html-ef16f280.js" as="script"><link rel="prefetch" href="/assets/06-è¡¨å•å‚æ•°.html-8d4b21ba.js" as="script"><link rel="prefetch" href="/assets/07-å•æ–‡ä»¶ä¸Šä¼ .html-db22a6a7.js" as="script"><link rel="prefetch" href="/assets/08-å¤šæ–‡ä»¶ä¸Šä¼ .html-60293982.js" as="script"><link rel="prefetch" href="/assets/09-routesGroup.html-48f90d6e.js" as="script"><link rel="prefetch" href="/assets/10-notFound.html-f43691d1.js" as="script"><link rel="prefetch" href="/assets/11-Json.html-e06c9690.js" as="script"><link rel="prefetch" href="/assets/12-è¡¨å•.html-42dc7af6.js" as="script"><link rel="prefetch" href="/assets/13-Uri.html-d1958db5.js" as="script"><link rel="prefetch" href="/assets/14-æ•°æ®æ¸²æŸ“.html-fb709fe3.js" as="script"><link rel="prefetch" href="/assets/15-HTMLæ¨¡æ¿.html-772abffd.js" as="script"><link rel="prefetch" href="/assets/16-é‡å®šå‘.html-d2c6beff.js" as="script"><link rel="prefetch" href="/assets/17-åŒæ­¥å¼‚æ­¥.html-7597d82a.js" as="script"><link rel="prefetch" href="/assets/18-å…¨å±€ä¸­é—´ä»¶.html-be049eec.js" as="script"><link rel="prefetch" href="/assets/19-Nextæ–¹æ³•.html-12cd32d3.js" as="script"><link rel="prefetch" href="/assets/20-å±€éƒ¨ä¸­é—´ä»¶.html-14f05259.js" as="script"><link rel="prefetch" href="/assets/21-ä¸‰æ–¹ä¸­é—´ä»¶.html-738edb31.js" as="script"><link rel="prefetch" href="/assets/22-Cookieä»‹ç».html-2f97f8f8.js" as="script"><link rel="prefetch" href="/assets/23-Cookieä½¿ç”¨.html-4f16839d.js" as="script"><link rel="prefetch" href="/assets/24-session.html-aa8a2aed.js" as="script"><link rel="prefetch" href="/assets/25-log.html-ffffe579.js" as="script"><link rel="prefetch" href="/assets/01-gorm.html-8de894cc.js" as="script"><link rel="prefetch" href="/assets/02-æ¨¡å‹.html-b63f25b3.js" as="script"><link rel="prefetch" href="/assets/03-æƒ¯ä¾‹.html-758ae1d0.js" as="script"><link rel="prefetch" href="/assets/04-è¿æ¥æ•°æ®åº“.html-49278046.js" as="script"><link rel="prefetch" href="/assets/05-åˆ›å»º.html-d15c4e3a.js" as="script"><link rel="prefetch" href="/assets/06-æŸ¥è¯¢.html-8da7a364.js" as="script"><link rel="prefetch" href="/assets/07-æ›´æ–°.html-6bac9574.js" as="script"><link rel="prefetch" href="/assets/08-åˆ é™¤.html-e34f4cf0.js" as="script"><link rel="prefetch" href="/assets/09-å±äº.html-ab3dec6e.js" as="script"><link rel="prefetch" href="/assets/10-ä¸€å¯¹ä¸€.html-65abb3ad.js" as="script"><link rel="prefetch" href="/assets/11-ä¸€å¯¹å¤š.html-25cdf106.js" as="script"><link rel="prefetch" href="/assets/12-å¤šå¯¹å¤š.html-4ae82faa.js" as="script"><link rel="prefetch" href="/assets/13-å…³è”.html-ad433b3d.js" as="script"><link rel="prefetch" href="/assets/14-é¢„åŠ è½½.html-b5d3aa5f.js" as="script"><link rel="prefetch" href="/assets/15-é“¾å¼æ“ä½œ.html-be6da817.js" as="script"><link rel="prefetch" href="/assets/16-é”™è¯¯å¤„ç†.html-d29d1871.js" as="script"><link rel="prefetch" href="/assets/17-é’©å­.html-31d1206e.js" as="script"><link rel="prefetch" href="/assets/18-äº‹åŠ¡.html-99ba2f21.js" as="script"><link rel="prefetch" href="/assets/19-sqlæ„é€ å™¨.html-de6891fc.js" as="script"><link rel="prefetch" href="/assets/20-æ•°æ®åº“è¿ç§».html-e6590b29.js" as="script"><link rel="prefetch" href="/assets/21-é€šç”¨æ•°æ®åº“æ¥å£.html-0ecd4bb2.js" as="script"><link rel="prefetch" href="/assets/01-ç¼–è¯‘.html-f18c3b2f.js" as="script"><link rel="prefetch" href="/assets/02-module.html-d51a83be.js" as="script"><link rel="prefetch" href="/assets/01-é«˜è´¨é‡ç¼–ç¨‹.html-417c72ad.js" as="script"><link rel="prefetch" href="/assets/02-æ€§èƒ½ä¼˜åŒ–.html-94a842d5.js" as="script"><link rel="prefetch" href="/assets/01-åŸºç¡€.html-de6acee6.js" as="script"><link rel="prefetch" href="/assets/02-æµç¨‹æ§åˆ¶.html-fc92ea90.js" as="script"><link rel="prefetch" href="/assets/03-æ•°ç»„.html-386268aa.js" as="script"><link rel="prefetch" href="/assets/04-ç±»å’Œå¯¹è±¡.html-38d96deb.js" as="script"><link rel="prefetch" href="/assets/05-æ¥å£å’Œç»§æ‰¿.html-58c30a71.js" as="script"><link rel="prefetch" href="/assets/06-å…¶ä»–.html-e366d75b.js" as="script"><link rel="prefetch" href="/assets/07-å¼‚å¸¸å¤„ç†.html-827d3aff.js" as="script"><link rel="prefetch" href="/assets/08-IO.html-bc5011de.js" as="script"><link rel="prefetch" href="/assets/09-æ³›å‹.html-73f7bdbd.js" as="script"><link rel="prefetch" href="/assets/10-åå°„.html-2785224e.js" as="script"><link rel="prefetch" href="/assets/11-æ³¨è§£.html-1af8047d.js" as="script"><link rel="prefetch" href="/assets/12-çº¿ç¨‹.html-46b5f24a.js" as="script"><link rel="prefetch" href="/assets/13-Jvm.html-d8ff52ca.js" as="script"><link rel="prefetch" href="/assets/01-ServletåŸºç¡€çŸ¥è¯†.html-dccdb6c0.js" as="script"><link rel="prefetch" href="/assets/02-httpè¯·æ±‚å›åº”å¯¹è±¡.html-5eab1f0a.js" as="script"><link rel="prefetch" href="/assets/03-Cookieå¯¹è±¡.html-55a584ae.js" as="script"><link rel="prefetch" href="/assets/04-HttpSessionå¯¹è±¡.html-7046d05d.js" as="script"><link rel="prefetch" href="/assets/05-è¿”å›Json.html-10013d32.js" as="script"><link rel="prefetch" href="/assets/06-æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½.html-f4f47f61.js" as="script"><link rel="prefetch" href="/assets/01-ç¯å¢ƒ.html-36eff85f.js" as="script"><link rel="prefetch" href="/assets/02-ES6è¯­æ³•è¡¥å…….html-0754a22d.js" as="script"><link rel="prefetch" href="/assets/03-Components.html-a29bfd62.js" as="script"><link rel="prefetch" href="/assets/04-ç»„åˆComponents.html-e6e68ccc.js" as="script"><link rel="prefetch" href="/assets/05-è·¯ç”±.html-69ec1770.js" as="script"><link rel="prefetch" href="/assets/06-Redux.html-173d3b5b.js" as="script"><link rel="prefetch" href="/assets/07-å‡½æ•°ç»„ä»¶ä¸Hooks.html-509af374.js" as="script"><link rel="prefetch" href="/assets/01-what.html-afd30315.js" as="script"><link rel="prefetch" href="/assets/02-base.html-47bb5a1e.js" as="script"><link rel="prefetch" href="/assets/03-advance.html-591d8b52.js" as="script"><link rel="prefetch" href="/assets/04-others.html-e784d9dd.js" as="script"><link rel="prefetch" href="/assets/01-ç¯å¢ƒ.html-ae3fb175.js" as="script"><link rel="prefetch" href="/assets/02-åŸºæœ¬.html-78887f0b.js" as="script"><link rel="prefetch" href="/assets/01-connect.html-149c5d35.js" as="script"><link rel="prefetch" href="/assets/02-CRUD.html-85c85f77.js" as="script"><link rel="prefetch" href="/assets/01-web.html-7cd224ca.js" as="script"><link rel="prefetch" href="/assets/02-handler.html-443c2c91.js" as="script"><link rel="prefetch" href="/assets/03-request.html-d3c24e29.js" as="script"><link rel="prefetch" href="/assets/04-response.html-87c157e6.js" as="script"><link rel="prefetch" href="/assets/05-template.html-4cdaae54.js" as="script"><link rel="prefetch" href="/assets/06-route.html-a96693d0.js" as="script"><link rel="prefetch" href="/assets/07-json.html-4519ca09.js" as="script"><link rel="prefetch" href="/assets/08-middleware.html-b9335b7b.js" as="script"><link rel="prefetch" href="/assets/09-context.html-950fe1d7.js" as="script"><link rel="prefetch" href="/assets/10-https.html-e12ae983.js" as="script"><link rel="prefetch" href="/assets/11-test.html-47171b22.js" as="script"><link rel="prefetch" href="/assets/01-Giné¡¹ç›®æ¶æ„.html-32e4712f.js" as="script"><link rel="prefetch" href="/assets/02-Giné›†æˆGorm.html-cb7bce03.js" as="script"><link rel="prefetch" href="/assets/03-Ginå®ç°æ§åˆ¶å’Œè·¯ç”±.html-20c4ebdf.js" as="script"><link rel="prefetch" href="/assets/01-Springä¸SpringBoot.html-5b568b88.js" as="script"><link rel="prefetch" href="/assets/02-SpringBoot2å…¥é—¨.html-6036ccc2.js" as="script"><link rel="prefetch" href="/assets/03-è‡ªåŠ¨é…ç½®åŸç†.html-69978e79.js" as="script"><link rel="prefetch" href="/assets/01-é…ç½®æ–‡ä»¶.html-fe39f041.js" as="script"><link rel="prefetch" href="/assets/02-webå¼€å‘.html-76c5ff65.js" as="script"><link rel="prefetch" href="/assets/01-MyBatis.html-4e7d6f63.js" as="script"><link rel="prefetch" href="/assets/02-æ­å»ºMyBatis.html-387d45dc.js" as="script"><link rel="prefetch" href="/assets/03-æ ¸å¿ƒé…ç½®æ–‡ä»¶.html-7c152261.js" as="script"><link rel="prefetch" href="/assets/04-é»˜è®¤çš„ç±»å‹åˆ«å.html-a8890661.js" as="script"><link rel="prefetch" href="/assets/05-å¢åˆ æ”¹æŸ¥.html-ea9128ca.js" as="script"><link rel="prefetch" href="/assets/06-è·å–å‚æ•°å€¼.html-f293f43c.js" as="script"><link rel="prefetch" href="/assets/07-å„ç§æŸ¥è¯¢åŠŸèƒ½.html-ad2ba4c7.js" as="script"><link rel="prefetch" href="/assets/08-ç‰¹æ®Šçš„SQLçš„æ‰§è¡Œ.html-9f52a214.js" as="script"><link rel="prefetch" href="/assets/09-resultMap.html-4a20d141.js" as="script"><link rel="prefetch" href="/assets/10-åŠ¨æ€SQL.html-2040493c.js" as="script"><link rel="prefetch" href="/assets/11-MyBatisçš„ç¼“å­˜.html-70f2b6d1.js" as="script"><link rel="prefetch" href="/assets/12-é€†å‘å·¥ç¨‹.html-dfe1a46d.js" as="script"><link rel="prefetch" href="/assets/13-åˆ†é¡µæ’ä»¶.html-26e42002.js" as="script"><link rel="prefetch" href="/assets/01-Springç®€ä»‹.html-b5f7e719.js" as="script"><link rel="prefetch" href="/assets/02-IOC.html-128d2437.js" as="script"><link rel="prefetch" href="/assets/03-AOP.html-e30dc990.js" as="script"><link rel="prefetch" href="/assets/01-SpringMVCç®€ä»‹.html-aa0cfab3.js" as="script"><link rel="prefetch" href="/assets/02-HelloWorld.html-ae53ac34.js" as="script"><link rel="prefetch" href="/assets/03-RequestMapping.html-0a5d6eca.js" as="script"><link rel="prefetch" href="/assets/04-è·å–è¯·æ±‚å‚æ•°.html-d19132be.js" as="script"><link rel="prefetch" href="/assets/05-åŸŸå¯¹è±¡å…±äº«æ•°æ®.html-062ed79c.js" as="script"><link rel="prefetch" href="/assets/06-SpringMVCè§†å›¾.html-afc5d1cd.js" as="script"><link rel="prefetch" href="/assets/07-RESTFul.html-ad8ab43e.js" as="script"><link rel="prefetch" href="/assets/08-HttpMessageConverter.html-09ffb5d9.js" as="script"><link rel="prefetch" href="/assets/09-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½.html-87627d5f.js" as="script"><link rel="prefetch" href="/assets/10-æ‹¦æˆªå™¨.html-e8ecef53.js" as="script"><link rel="prefetch" href="/assets/11-å¼‚å¸¸å¤„ç†å™¨.html-8e98e0b4.js" as="script"><link rel="prefetch" href="/assets/12-æ³¨è§£é…ç½®SpringMVC.html-8f3399b9.js" as="script"><link rel="prefetch" href="/assets/13-SpringMVCæ‰§è¡Œæµç¨‹.html-65bb421b.js" as="script"><link rel="prefetch" href="/assets/7.5-RESTFulæ¡ˆä¾‹.html-06a4f9ce.js" as="script"><link rel="prefetch" href="/assets/404.html-deccaefe.js" as="script"><link rel="prefetch" href="/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/assets/docsearch-1d421ddb.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">ğŸ“–Mosquito&#39;s NoteğŸ“–</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/algorithm/" class="" aria-label="Algorithm"><!--[--><!--]--> Algorithm <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web"><span class="title">Web</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web"><span class="title">Web</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/web/html/" class="" aria-label="Html"><!--[--><!--]--> Html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/css/" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/js/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/go/" class="" aria-label="Go"><!--[--><!--]--> Go <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/java/" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/database/mysql/" class="" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linux/web/" class="" aria-label="Webéƒ¨ç½²"><!--[--><!--]--> Webéƒ¨ç½² <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/git/" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/lua/" class="router-link-active" aria-label="Lua"><!--[--><!--]--> Lua <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Cs"><span class="title">Cs</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Cs"><span class="title">Cs</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/cs/db/" class="" aria-label="æ•°æ®åº“ç†è®º"><!--[--><!--]--> æ•°æ®åº“ç†è®º <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/cs/app/" class="" aria-label="åº”ç”¨ç†è®º"><!--[--><!--]--> åº”ç”¨ç†è®º <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/others/" class="" aria-label="Others"><!--[--><!--]--> Others <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Bros"><span class="title">Bros</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Bros"><span class="title">Bros</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://lazyonion.github.io" rel="noopener noreferrer" target="_blank" aria-label="LazyOnion"><!--[--><!--]--> LazyOnion <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://43.139.191.213/" rel="noopener noreferrer" target="_blank" aria-label="Dr.M"><!--[--><!--]--> Dr.M <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.cnblogs.com/shadow-fy/" rel="noopener noreferrer" target="_blank" aria-label="Shadow-fy"><!--[--><!--]--> Shadow-fy <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/msqtt/msqtt.github.io" rel="noopener noreferrer" target="_blank" aria-label="Repo"><!--[--><!--]--> Repo <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/algorithm/" class="" aria-label="Algorithm"><!--[--><!--]--> Algorithm <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web"><span class="title">Web</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web"><span class="title">Web</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/web/html/" class="" aria-label="Html"><!--[--><!--]--> Html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/css/" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/js/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/go/" class="" aria-label="Go"><!--[--><!--]--> Go <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/java/" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/database/mysql/" class="" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linux/web/" class="" aria-label="Webéƒ¨ç½²"><!--[--><!--]--> Webéƒ¨ç½² <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/git/" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/lua/" class="router-link-active" aria-label="Lua"><!--[--><!--]--> Lua <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Cs"><span class="title">Cs</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Cs"><span class="title">Cs</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/cs/db/" class="" aria-label="æ•°æ®åº“ç†è®º"><!--[--><!--]--> æ•°æ®åº“ç†è®º <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/cs/app/" class="" aria-label="åº”ç”¨ç†è®º"><!--[--><!--]--> åº”ç”¨ç†è®º <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/others/" class="" aria-label="Others"><!--[--><!--]--> Others <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Bros"><span class="title">Bros</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Bros"><span class="title">Bros</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://lazyonion.github.io" rel="noopener noreferrer" target="_blank" aria-label="LazyOnion"><!--[--><!--]--> LazyOnion <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://43.139.191.213/" rel="noopener noreferrer" target="_blank" aria-label="Dr.M"><!--[--><!--]--> Dr.M <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.cnblogs.com/shadow-fy/" rel="noopener noreferrer" target="_blank" aria-label="Shadow-fy"><!--[--><!--]--> Shadow-fy <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/msqtt/msqtt.github.io" rel="noopener noreferrer" target="_blank" aria-label="Repo"><!--[--><!--]--> Repo <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/linux/lua/01-base.html" class="sidebar-item sidebar-heading" aria-label="åŸºç¡€å†…å®¹"><!--[--><!--]--> åŸºç¡€å†…å®¹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/linux/lua/02-advance.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="è¿›é˜¶å†…å®¹"><!--[--><!--]--> è¿›é˜¶å†…å®¹ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/linux/lua/02-advance.html#lua-å…ƒè¡¨-metatable" class="router-link-active router-link-exact-active sidebar-item" aria-label="Lua å…ƒè¡¨ metatable"><!--[--><!--]--> Lua å…ƒè¡¨ metatable <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/linux/lua/02-advance.html#å…ƒæ–¹æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="å…ƒæ–¹æ³•"><!--[--><!--]--> å…ƒæ–¹æ³• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/linux/lua/02-advance.html#å…ƒè¡¨æ¡ˆä¾‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="å…ƒè¡¨æ¡ˆä¾‹"><!--[--><!--]--> å…ƒè¡¨æ¡ˆä¾‹ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/linux/lua/02-advance.html#lua-ååŒç¨‹åº-coroutine" class="router-link-active router-link-exact-active sidebar-item" aria-label="Lua ååŒç¨‹åº(coroutine)"><!--[--><!--]--> Lua ååŒç¨‹åº(coroutine) <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/linux/lua/02-advance.html#ä»€ä¹ˆæ˜¯åç¨‹-coroutine" class="router-link-active router-link-exact-active sidebar-item" aria-label="ä»€ä¹ˆæ˜¯åç¨‹(coroutine)ï¼Ÿ"><!--[--><!--]--> ä»€ä¹ˆæ˜¯åç¨‹(coroutine)ï¼Ÿ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/linux/lua/02-advance.html#åŸºæœ¬è¯­æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="åŸºæœ¬è¯­æ³•"><!--[--><!--]--> åŸºæœ¬è¯­æ³• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/linux/lua/02-advance.html#coroutine-åº“è®²è§£" class="router-link-active router-link-exact-active sidebar-item" aria-label="coroutine åº“è®²è§£"><!--[--><!--]--> coroutine åº“è®²è§£ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/linux/lua/02-advance.html#ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†ä»¥ä¸Šå„ä¸ªæ–¹æ³•çš„ç”¨æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†ä»¥ä¸Šå„ä¸ªæ–¹æ³•çš„ç”¨æ³•"><!--[--><!--]--> ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†ä»¥ä¸Šå„ä¸ªæ–¹æ³•çš„ç”¨æ³• <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/linux/lua/02-advance.html#lua-æ–‡ä»¶-i-o" class="router-link-active router-link-exact-active sidebar-item" aria-label="Lua æ–‡ä»¶ I/O"><!--[--><!--]--> Lua æ–‡ä»¶ I/O <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/linux/lua/02-advance.html#ç®€å•æ¨¡å¼" class="router-link-active router-link-exact-active sidebar-item" aria-label="ç®€å•æ¨¡å¼"><!--[--><!--]--> ç®€å•æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/linux/lua/02-advance.html#å®Œå…¨æ¨¡å¼" class="router-link-active router-link-exact-active sidebar-item" aria-label="å®Œå…¨æ¨¡å¼"><!--[--><!--]--> å®Œå…¨æ¨¡å¼ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/linux/lua/02-advance.html#lua-é¢å‘å¯¹è±¡" class="router-link-active router-link-exact-active sidebar-item" aria-label="Lua é¢å‘å¯¹è±¡"><!--[--><!--]--> Lua é¢å‘å¯¹è±¡ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/linux/lua/02-advance.html#ç±»" class="router-link-active router-link-exact-active sidebar-item" aria-label="ç±»"><!--[--><!--]--> ç±» <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/linux/lua/02-advance.html#ç»§æ‰¿" class="router-link-active router-link-exact-active sidebar-item" aria-label="ç»§æ‰¿"><!--[--><!--]--> ç»§æ‰¿ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/linux/lua/02-advance.html#å°è£…" class="router-link-active router-link-exact-active sidebar-item" aria-label="å°è£…"><!--[--><!--]--> å°è£… <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="è¿›é˜¶å†…å®¹" tabindex="-1"><a class="header-anchor" href="#è¿›é˜¶å†…å®¹" aria-hidden="true">#</a> è¿›é˜¶å†…å®¹</h1><h2 id="lua-å…ƒè¡¨-metatable" tabindex="-1"><a class="header-anchor" href="#lua-å…ƒè¡¨-metatable" aria-hidden="true">#</a> Lua å…ƒè¡¨ metatable</h2><h3 id="å…ƒæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#å…ƒæ–¹æ³•" aria-hidden="true">#</a> å…ƒæ–¹æ³•</h3><p>åœ¨ Lua table ä¸­æˆ‘ä»¬å¯ä»¥è®¿é—®å¯¹åº”çš„ key æ¥å¾—åˆ° value å€¼ï¼Œä½†æ˜¯å´æ— æ³•å¯¹ä¸¤ä¸ª table è¿›è¡Œæ“ä½œã€‚</p><p>å› æ­¤ Lua æä¾›äº†å…ƒè¡¨(Metatable)ï¼Œå…è®¸æˆ‘ä»¬æ”¹å˜ table çš„è¡Œä¸ºï¼Œæ¯ä¸ªè¡Œä¸ºå…³è”äº†å¯¹åº”çš„å…ƒæ–¹æ³•ã€‚</p><p>å½“ Lua è¯•å›¾å¯¹ä¸¤ä¸ªè¡¨è¿›è¡Œç›¸åŠ æ—¶ï¼Œå…ˆæ£€æŸ¥ä¸¤è€…ä¹‹ä¸€æ˜¯å¦æœ‰å…ƒè¡¨ï¼Œä¹‹åæ£€æŸ¥æ˜¯å¦æœ‰ä¸€ä¸ªå«&quot;**add&quot;çš„å­—æ®µï¼Œè‹¥æ‰¾åˆ°ï¼Œåˆ™è°ƒç”¨å¯¹åº”çš„å€¼ã€‚&quot;**add&quot;ç­‰å³æ—¶å­—æ®µï¼Œå…¶å¯¹åº”çš„å€¼ï¼ˆå¾€å¾€æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–æ˜¯ tableï¼‰å°±æ˜¯&quot;å…ƒæ–¹æ³•&quot;ã€‚</p><p>æœ‰ä¸¤ä¸ªå¾ˆé‡è¦çš„å‡½æ•°æ¥å¤„ç†å…ƒè¡¨:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- å¯¹æŒ‡å®štableè®¾ç½®å…ƒè¡¨(metatable)ï¼Œå¦‚æœå…ƒè¡¨(metatable)ä¸­å­˜åœ¨__metatableé”®å€¼ï¼Œsetmetatableä¼šå¤±è´¥ ã€‚</span>
<span class="token function">setmetatable</span><span class="token punctuation">(</span>table<span class="token punctuation">,</span>metatable<span class="token punctuation">)</span>

<span class="token comment">-- è¿”å›å¯¹è±¡çš„å…ƒè¡¨(metatable)</span>
<span class="token function">getmetatable</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>mytable <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>                          <span class="token comment">-- æ™®é€šè¡¨</span>
mymetatable <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>                      <span class="token comment">-- å…ƒè¡¨</span>
<span class="token function">setmetatable</span><span class="token punctuation">(</span>mytable<span class="token punctuation">,</span>mymetatable<span class="token punctuation">)</span>     <span class="token comment">-- æŠŠ mymetatable è®¾ä¸º mytable çš„å…ƒè¡¨</span>

<span class="token comment">-- å¯ä»¥ç®€å†™ä¸º mytable = setmetatable({},{})</span>

<span class="token function">getmetatable</span><span class="token punctuation">(</span>mytable<span class="token punctuation">)</span>
<span class="token comment">-- è¿”å›mymetatable</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="index-å…ƒæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#index-å…ƒæ–¹æ³•" aria-hidden="true">#</a> <code>__index</code> å…ƒæ–¹æ³•</h4><p>è¿™æ˜¯ metatable æœ€å¸¸ç”¨çš„é”®ã€‚</p><p>å½“ä½ é€šè¿‡é”®æ¥è®¿é—® <code>table</code> çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªé”®æ²¡æœ‰å€¼ï¼Œé‚£ä¹ˆ Lua å°±ä¼šå¯»æ‰¾è¯¥<code>table</code>çš„<code>metatable</code>ï¼ˆå‡å®šæœ‰<code>metatable</code>ï¼‰ä¸­çš„<code>__index</code> é”®ã€‚å¦‚æœ<code>__index</code>åŒ…å«ä¸€ä¸ªè¡¨æ ¼ï¼ŒLua ä¼šåœ¨è¡¨æ ¼ä¸­æŸ¥æ‰¾ç›¸åº”çš„é”®ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨ä½¿ç”¨ lua å‘½ä»¤è¿›å…¥äº¤äº’æ¨¡å¼æŸ¥çœ‹:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token operator">&gt;</span> other <span class="token operator">=</span> <span class="token punctuation">{</span> foo <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> t <span class="token operator">=</span> <span class="token function">setmetatable</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> __index <span class="token operator">=</span> other <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> t<span class="token punctuation">.</span>foo
<span class="token number">3</span>
<span class="token operator">&gt;</span> t<span class="token punctuation">.</span>bar
<span class="token keyword">nil</span>
<span class="token comment">-- å¦‚æœ__indexåŒ…å«ä¸€ä¸ªå‡½æ•°çš„è¯ï¼ŒLuaå°±ä¼šè°ƒç”¨é‚£ä¸ªå‡½æ•°ï¼Œtableå’Œé”®ä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>__index</code> å…ƒæ–¹æ³•æŸ¥çœ‹è¡¨ä¸­å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›ç»“æœä¸º nilï¼›å¦‚æœå­˜åœ¨åˆ™ç”± <code>__index</code> è¿”å›ç»“æœã€‚</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>mytable <span class="token operator">=</span> <span class="token function">setmetatable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key1 <span class="token operator">=</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  __index <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>mytable<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
    <span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token string">&quot;key2&quot;</span> <span class="token keyword">then</span>
      <span class="token keyword">return</span> <span class="token string">&quot;metatablevalue&quot;</span>
    <span class="token keyword">else</span>
      <span class="token keyword">return</span> <span class="token keyword">nil</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>mytable<span class="token punctuation">.</span>key1<span class="token punctuation">,</span>mytable<span class="token punctuation">.</span>key2<span class="token punctuation">)</span>

<span class="token comment">-- value1    metatablevalue</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¯ä»¥å°†ä»¥ä¸Šä»£ç ç®€å•å†™æˆ</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>mytable <span class="token operator">=</span> <span class="token function">setmetatable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key1 <span class="token operator">=</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> __index <span class="token operator">=</span> <span class="token punctuation">{</span> key2 <span class="token operator">=</span> <span class="token string">&quot;metatablevalue&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>mytable<span class="token punctuation">.</span>key1<span class="token punctuation">,</span>mytable<span class="token punctuation">.</span>key2<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ€»ç»“:</p><p>Lua æŸ¥æ‰¾ä¸€ä¸ªè¡¨å…ƒç´ æ—¶çš„è§„åˆ™ï¼Œå…¶å®å°±æ˜¯å¦‚ä¸‹ 3 ä¸ªæ­¥éª¤</p><ol><li>åœ¨è¡¨ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œè¿”å›è¯¥å…ƒç´ ï¼Œæ‰¾ä¸åˆ°åˆ™ç»§ç»­</li><li>åˆ¤æ–­è¯¥è¡¨æ˜¯å¦æœ‰å…ƒè¡¨ï¼Œå¦‚æœæ²¡æœ‰å…ƒè¡¨ï¼Œè¿”å› nilï¼Œæœ‰å…ƒè¡¨åˆ™ç»§ç»­ã€‚</li><li>åˆ¤æ–­å…ƒè¡¨æœ‰æ²¡æœ‰<code>__index</code>æ–¹æ³•ï¼Œå¦‚æœ<code>__index</code>æ–¹æ³•ä¸º<code>nil</code>ï¼Œåˆ™è¿”å›<code>nil</code>ï¼›å¦‚æœ<code>__index</code>æ–¹æ³•æ˜¯ä¸€ä¸ªè¡¨ï¼Œåˆ™é‡å¤ 1ã€2ã€3ï¼›å¦‚æœ<code>__index</code>æ–¹æ³•æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™è¿”å›è¯¥å‡½æ•°çš„è¿”å›å€¼ã€‚</li></ol><h4 id="newindex-å…ƒæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#newindex-å…ƒæ–¹æ³•" aria-hidden="true">#</a> <code>__newindex</code> å…ƒæ–¹æ³•</h4><p><code>__newindex</code> å…ƒæ–¹æ³•ç”¨æ¥å¯¹è¡¨æ›´æ–°ï¼Œ<code>__index</code>åˆ™ç”¨æ¥å¯¹è¡¨è®¿é—®</p><p><mark>å½“ä½ ç»™è¡¨çš„ä¸€ä¸ªç¼ºå°‘çš„ç´¢å¼•èµ‹å€¼ï¼Œè§£é‡Šå™¨å°±ä¼šæŸ¥æ‰¾<code>__newindex</code> å…ƒæ–¹æ³•ï¼šå¦‚æœå­˜åœ¨åˆ™è°ƒç”¨è¿™ä¸ªå‡½æ•°è€Œä¸è¿›è¡Œèµ‹å€¼æ“ä½œ</mark></p><ol><li>Lua è§£é‡Šå™¨å…ˆåˆ¤æ–­è¿™ä¸ª table æ˜¯å¦æœ‰å…ƒè¡¨ï¼›</li><li>å¦‚æœæœ‰äº†å…ƒè¡¨ï¼Œå°±æŸ¥æ‰¾å…ƒè¡¨ä¸­æ˜¯å¦æœ‰<code>__newindex</code> å…ƒæ–¹æ³•ï¼›å¦‚æœæ²¡æœ‰å…ƒè¡¨ï¼Œå°±ç›´æ¥æ·»åŠ è¿™ä¸ªç´¢å¼•ï¼Œç„¶åå¯¹åº”çš„èµ‹å€¼ï¼›</li><li>å¦‚æœæœ‰è¿™ä¸ª<code>__newindex</code> å…ƒæ–¹æ³•ï¼ŒLua è§£é‡Šå™¨å°±æ‰§è¡Œå®ƒï¼Œè€Œä¸æ˜¯æ‰§è¡Œèµ‹å€¼ï¼›</li><li>å¦‚æœè¿™ä¸ª<code>__newindex</code> å¯¹åº”çš„ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ª table æ—¶ï¼ŒLua è§£é‡Šå™¨å°±åœ¨è¿™ä¸ª table ä¸­æ‰§è¡Œèµ‹å€¼ï¼Œè€Œä¸æ˜¯å¯¹åŸæ¥çš„ table</li></ol><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>mymetatable <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
mytable <span class="token operator">=</span> <span class="token function">setmetatable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key1 <span class="token operator">=</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> __newindex <span class="token operator">=</span> mymetatable <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>mytable<span class="token punctuation">.</span>key1<span class="token punctuation">)</span>

mytable<span class="token punctuation">.</span>newkey <span class="token operator">=</span> <span class="token string">&quot;æ–°å€¼2&quot;</span>
<span class="token function">print</span><span class="token punctuation">(</span>mytable<span class="token punctuation">.</span>newkey<span class="token punctuation">,</span>mymetatable<span class="token punctuation">.</span>newkey<span class="token punctuation">)</span>

mytable<span class="token punctuation">.</span>key1 <span class="token operator">=</span> <span class="token string">&quot;æ–°å€¼1&quot;</span>
<span class="token function">print</span><span class="token punctuation">(</span>mytable<span class="token punctuation">.</span>key1<span class="token punctuation">,</span>mymetatable<span class="token punctuation">.</span>key1<span class="token punctuation">)</span>

<span class="token comment">--[[
value1
nil    æ–°å€¼2
æ–°å€¼1    nil
]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸Šå®ä¾‹ä¸­è¡¨è®¾ç½®äº†å…ƒæ–¹æ³• <code>__newindex</code>ï¼Œåœ¨å¯¹æ–°ç´¢å¼•é”®<code>ï¼ˆnewkeyï¼‰</code>èµ‹å€¼æ—¶<code>ï¼ˆmytable.newkey = &quot;æ–°å€¼2&quot;ï¼‰</code>ï¼Œä¼šè°ƒç”¨å…ƒæ–¹æ³•ï¼Œè€Œä¸è¿›è¡Œèµ‹å€¼ã€‚è€Œå¦‚æœå¯¹å·²å­˜åœ¨çš„ç´¢å¼•é”®<code>ï¼ˆkey1ï¼‰</code>ï¼Œåˆ™ä¼šè¿›è¡Œèµ‹å€¼ï¼Œè€Œä¸è°ƒç”¨å…ƒæ–¹æ³• <code>__newindex</code></p><p>ä»¥ä¸‹å®ä¾‹ä½¿ç”¨äº† <code>rawset</code> å‡½æ•°æ¥æ›´æ–°è¡¨</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>mytable <span class="token operator">=</span> <span class="token function">setmetatable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key1 <span class="token operator">=</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  __newindex <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>mytable<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
        <span class="token function">rawset</span><span class="token punctuation">(</span>mytable<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token string">&quot;\&quot;&quot;</span><span class="token operator">..</span>value<span class="token operator">..</span><span class="token string">&quot;\&quot;&quot;</span><span class="token punctuation">)</span>

  <span class="token keyword">end</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

mytable<span class="token punctuation">.</span>key1 <span class="token operator">=</span> <span class="token string">&quot;new value&quot;</span>
mytable<span class="token punctuation">.</span>key2 <span class="token operator">=</span> <span class="token number">4</span>

<span class="token function">print</span><span class="token punctuation">(</span>mytable<span class="token punctuation">.</span>key1<span class="token punctuation">,</span>mytable<span class="token punctuation">.</span>key2<span class="token punctuation">)</span>

<span class="token comment">-- new value    &quot;4&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸ºè¡¨æ·»åŠ æ“ä½œç¬¦" tabindex="-1"><a class="header-anchor" href="#ä¸ºè¡¨æ·»åŠ æ“ä½œç¬¦" aria-hidden="true">#</a> ä¸ºè¡¨æ·»åŠ æ“ä½œç¬¦</h4><p>ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†ä¸¤è¡¨ç›¸åŠ æ“ä½œ</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- è®¡ç®—è¡¨ä¸­æœ€å¤§å€¼ï¼Œtable.maxnåœ¨Lua5.2ä»¥ä¸Šç‰ˆæœ¬ä¸­å·²æ— æ³•ä½¿ç”¨</span>
<span class="token comment">-- è‡ªå®šä¹‰è®¡ç®—è¡¨ä¸­æœ€å¤§å€¼å‡½æ•° table_maxn</span>
<span class="token keyword">function</span> <span class="token function">table_maxn</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
    <span class="token keyword">local</span> mn <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token keyword">do</span>
        <span class="token keyword">if</span> mn <span class="token operator">&lt;</span> k <span class="token keyword">then</span>
            mn <span class="token operator">=</span> k
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
    <span class="token keyword">return</span> mn
<span class="token keyword">end</span>

<span class="token comment">-- ä¸¤è¡¨ç›¸åŠ æ“ä½œ</span>
mytable <span class="token operator">=</span> <span class="token function">setmetatable</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  __add <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>mytable<span class="token punctuation">,</span> newtable<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">table_maxn</span><span class="token punctuation">(</span>newtable<span class="token punctuation">)</span> <span class="token keyword">do</span>
      table<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>mytable<span class="token punctuation">,</span> <span class="token function">table_maxn</span><span class="token punctuation">(</span>mytable<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>newtable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
    <span class="token keyword">return</span> mytable
  <span class="token keyword">end</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

secondtable <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span>

mytable <span class="token operator">=</span> mytable <span class="token operator">+</span> secondtable
    <span class="token keyword">for</span> k<span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>mytable<span class="token punctuation">)</span> <span class="token keyword">do</span>
<span class="token function">print</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>v<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment">--[[
    1
    2
    3
    4
    5
    6
]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹åº”çš„æ“ä½œåˆ—è¡¨å¦‚ä¸‹:</p><table><thead><tr><th>æ¨¡å¼</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>__add</code></td><td>å¯¹åº”çš„è¿ç®—ç¬¦ &#39;+&#39;</td></tr><tr><td><code>__sub</code></td><td>å¯¹åº”çš„è¿ç®—ç¬¦ &#39;-&#39;</td></tr><tr><td><code>__mul</code></td><td>å¯¹åº”çš„è¿ç®—ç¬¦ &#39;*&#39;</td></tr><tr><td><code>__div</code></td><td>å¯¹åº”çš„è¿ç®—ç¬¦ &#39;/&#39;</td></tr><tr><td><code>__mod</code></td><td>å¯¹åº”çš„è¿ç®—ç¬¦ &#39;%&#39;</td></tr><tr><td><code>__unm</code></td><td>å¯¹åº”çš„è¿ç®—ç¬¦ &#39;-&#39;</td></tr><tr><td><code>__concat</code></td><td>å¯¹åº”çš„è¿ç®—ç¬¦ &#39;..&#39;</td></tr><tr><td><code>__eq</code></td><td>å¯¹åº”çš„è¿ç®—ç¬¦ &#39;==&#39;</td></tr><tr><td><code>__lt</code></td><td>å¯¹åº”çš„è¿ç®—ç¬¦ &#39;&lt;&#39;</td></tr><tr><td><code>__le</code></td><td>å¯¹åº”çš„è¿ç®—ç¬¦ &#39;&lt;=&#39;</td></tr></tbody></table><h4 id="call-å…ƒæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#call-å…ƒæ–¹æ³•" aria-hidden="true">#</a> <code>__call</code> å…ƒæ–¹æ³•</h4><p><code>__call</code> å…ƒæ–¹æ³•åœ¨ <code>table</code> è¢«è°ƒç”¨æ—¶è°ƒç”¨ã€‚ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†è®¡ç®—è¡¨ä¸­å…ƒç´ çš„å’Œ</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- è®¡ç®—è¡¨ä¸­æœ€å¤§å€¼ï¼Œtable.maxnåœ¨Lua5.2ä»¥ä¸Šç‰ˆæœ¬ä¸­å·²æ— æ³•ä½¿ç”¨</span>
<span class="token comment">-- è‡ªå®šä¹‰è®¡ç®—è¡¨ä¸­æœ€å¤§å€¼å‡½æ•° table_maxn</span>
<span class="token keyword">function</span> <span class="token function">table_maxn</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
    <span class="token keyword">local</span> mn <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token keyword">do</span>
        <span class="token keyword">if</span> mn <span class="token operator">&lt;</span> k <span class="token keyword">then</span>
            mn <span class="token operator">=</span> k
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
    <span class="token keyword">return</span> mn
<span class="token keyword">end</span>

<span class="token comment">-- å®šä¹‰å…ƒæ–¹æ³•__call</span>
mytable <span class="token operator">=</span> <span class="token function">setmetatable</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  __call <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>mytable<span class="token punctuation">,</span> newtable<span class="token punctuation">)</span>
    sum <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">table_maxn</span><span class="token punctuation">(</span>mytable<span class="token punctuation">)</span> <span class="token keyword">do</span>
        sum <span class="token operator">=</span> sum <span class="token operator">+</span> mytable<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">end</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">table_maxn</span><span class="token punctuation">(</span>newtable<span class="token punctuation">)</span> <span class="token keyword">do</span>
        sum <span class="token operator">=</span> sum <span class="token operator">+</span> newtable<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">end</span>
    <span class="token keyword">return</span> sum
  <span class="token keyword">end</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
newtable <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">mytable</span><span class="token punctuation">(</span>newtable<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">-- 70</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="tostring-å…ƒæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#tostring-å…ƒæ–¹æ³•" aria-hidden="true">#</a> <code>__tostring</code> å…ƒæ–¹æ³•</h4><p><code>__tostring</code> å…ƒæ–¹æ³•ç”¨äºä¿®æ”¹è¡¨çš„è¾“å‡ºè¡Œä¸ºã€‚ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬è‡ªå®šä¹‰äº†è¡¨çš„è¾“å‡ºå†…å®¹</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>mytable <span class="token operator">=</span> <span class="token function">setmetatable</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  __tostring <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>mytable<span class="token punctuation">)</span>
    sum <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>mytable<span class="token punctuation">)</span> <span class="token keyword">do</span>
        sum <span class="token operator">=</span> sum <span class="token operator">+</span> v
    <span class="token keyword">end</span>
    <span class="token keyword">return</span> <span class="token string">&quot;è¡¨æ‰€æœ‰å…ƒç´ çš„å’Œä¸º &quot;</span> <span class="token operator">..</span> sum
  <span class="token keyword">end</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>mytable<span class="token punctuation">)</span>

<span class="token comment">-- è¡¨æ‰€æœ‰å…ƒç´ çš„å’Œä¸º 60</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»æœ¬æ–‡ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“å…ƒè¡¨å¯ä»¥å¾ˆå¥½çš„ç®€åŒ–æˆ‘ä»¬çš„ä»£ç åŠŸèƒ½ï¼Œæ‰€ä»¥äº†è§£ Lua çš„å…ƒè¡¨ï¼Œå¯ä»¥è®©æˆ‘ä»¬å†™å‡ºæ›´åŠ ç®€å•ä¼˜ç§€çš„ Lua ä»£ç </p><h3 id="å…ƒè¡¨æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#å…ƒè¡¨æ¡ˆä¾‹" aria-hidden="true">#</a> å…ƒè¡¨æ¡ˆä¾‹</h3><p>æ‰€æœ‰ç”¨äºè¡¨ç¤ºé›†åˆçš„ table å…±äº«ä¸€ä¸ªå…ƒè¡¨ï¼Œå¹¶ä¸”åœ¨è¯¥å…ƒè¡¨ä¸­å®šä¹‰å¦‚ä½•æ‰§è¡Œä¸€ä¸ªåŠ æ³•æ“ä½œã€‚é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¸¸è§„çš„ tableï¼Œå‡†å¤‡ç”¨ä½œé›†åˆçš„å…ƒè¡¨ï¼Œç„¶åä¿®æ”¹ Set.new å‡½æ•°ï¼Œåœ¨æ¯æ¬¡åˆ›å»ºé›†åˆçš„æ—¶å€™ï¼Œéƒ½ä¸ºæ–°çš„é›†åˆè®¾ç½®ä¸€ä¸ªå…ƒè¡¨</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>Set <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">local</span> mt <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">-- é›†åˆçš„å…ƒè¡¨</span>

<span class="token comment">-- æ ¹æ®å‚æ•°åˆ—è¡¨ä¸­çš„å€¼åˆ›å»ºä¸€ä¸ªæ–°çš„é›†åˆ</span>
<span class="token keyword">function</span> Set<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>
    <span class="token keyword">local</span> set <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
     <span class="token function">setmetatable</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> mt<span class="token punctuation">)</span>
    <span class="token keyword">for</span> _<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token keyword">do</span> set<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">true</span> <span class="token keyword">end</span>
     <span class="token keyword">return</span> set
<span class="token keyword">end</span>

<span class="token comment">-- å¹¶é›†æ“ä½œ</span>
<span class="token keyword">function</span> Set<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    <span class="token keyword">local</span> retSet <span class="token operator">=</span> Set<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">-- æ­¤å¤„ç›¸å½“äºSet.new({})</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token keyword">do</span> retSet<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">true</span> <span class="token keyword">end</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token keyword">do</span> retSet<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">true</span> <span class="token keyword">end</span>
    <span class="token keyword">return</span> retSet
<span class="token keyword">end</span>

<span class="token comment">-- äº¤é›†æ“ä½œ</span>
<span class="token keyword">function</span> Set<span class="token punctuation">.</span><span class="token function">intersection</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    <span class="token keyword">local</span> retSet <span class="token operator">=</span> Set<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token keyword">do</span> retSet<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token keyword">end</span>
    <span class="token keyword">return</span> retSet
<span class="token keyword">end</span>

<span class="token comment">-- æ‰“å°é›†åˆçš„æ“ä½œ</span>
<span class="token keyword">function</span> Set<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span>
     <span class="token keyword">local</span> tb <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
     <span class="token keyword">for</span> e <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span> <span class="token keyword">do</span>
          tb<span class="token punctuation">[</span><span class="token operator">#</span>tb <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> e
     <span class="token keyword">end</span>
     <span class="token keyword">return</span> <span class="token string">&quot;{&quot;</span> <span class="token operator">..</span> table<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>tb<span class="token punctuation">,</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span> <span class="token operator">..</span> <span class="token string">&quot;}&quot;</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> Set<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
     <span class="token function">print</span><span class="token punctuation">(</span>Set<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢åˆ—ä¸¾çš„é‚£äº›å¯ä»¥é‡å®šä¹‰çš„å…ƒæ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•è¿›è¡Œé‡å®šä¹‰ã€‚ç°åœ¨å°±å‡ºç°äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œset1 å’Œ set2 éƒ½æœ‰å…ƒè¡¨ï¼Œé‚£æˆ‘ä»¬è¦ç”¨è°çš„å…ƒè¡¨å•Šï¼Ÿè™½ç„¶æˆ‘ä»¬è¿™é‡Œçš„ç¤ºä¾‹ä»£ç ä½¿ç”¨çš„éƒ½æ˜¯ä¸€ä¸ªå…ƒè¡¨ï¼Œä½†æ˜¯å®é™… coding ä¸­ï¼Œä¼šé‡åˆ°æˆ‘è¿™é‡Œè¯´çš„é—®é¢˜ï¼Œå¯¹äºè¿™ç§é—®é¢˜ï¼ŒLua æ˜¯æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œè§£å†³çš„</p><ol><li>å¯¹äºäºŒå…ƒæ“ä½œç¬¦ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ•°æœ‰å…ƒè¡¨ï¼Œå¹¶ä¸”å…ƒè¡¨ä¸­æœ‰æ‰€éœ€è¦çš„å­—æ®µå®šä¹‰ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™é‡Œçš„<code>__add</code> å…ƒæ–¹æ³•å®šä¹‰ï¼Œé‚£ä¹ˆ Lua å°±ä»¥è¿™ä¸ªå­—æ®µä¸ºå…ƒæ–¹æ³•ï¼Œè€Œä¸ç¬¬äºŒä¸ªå€¼æ— å…³ï¼›</li><li>å¯¹äºäºŒå…ƒæ“ä½œç¬¦ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ•°æœ‰å…ƒè¡¨ï¼Œä½†æ˜¯å…ƒè¡¨ä¸­æ²¡æœ‰æ‰€éœ€è¦çš„å­—æ®µå®šä¹‰ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™é‡Œçš„<code>__add</code> å…ƒæ–¹æ³•å®šä¹‰ï¼Œé‚£ä¹ˆ Lua å°±å»æŸ¥æ‰¾ç¬¬äºŒä¸ªæ“ä½œæ•°çš„å…ƒè¡¨ï¼›</li><li>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ²¡æœ‰å…ƒè¡¨ï¼Œæˆ–è€…éƒ½æ²¡æœ‰å¯¹åº”çš„å…ƒæ–¹æ³•å®šä¹‰ï¼ŒLua å°±å¼•å‘ä¸€ä¸ªé”™è¯¯ã€‚</li></ol><p>ä»¥ä¸Šå°±æ˜¯ Lua å¤„ç†è¿™ä¸ªé—®é¢˜çš„è§„åˆ™ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨å®é™…ç¼–ç¨‹ä¸­è¯¥å¦‚ä½•åšå‘¢ï¼Ÿæ¯”å¦‚<code>set3 = set1 + 8</code>è¿™æ ·çš„ä»£ç ï¼Œå°±ä¼šæ‰“å°å‡ºä»¥ä¸‹çš„é”™è¯¯æç¤º</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">function</span> Set<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
     <span class="token keyword">if</span> <span class="token function">getmetatable</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">~=</span> mt <span class="token keyword">or</span> <span class="token function">getmetatable</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">~=</span> mt <span class="token keyword">then</span>
          <span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;metatable error.&quot;</span><span class="token punctuation">)</span>
     <span class="token keyword">end</span>

    <span class="token keyword">local</span> retSet <span class="token operator">=</span> Set<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">-- æ­¤å¤„ç›¸å½“äºSet.new({})</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token keyword">do</span> retSet<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">true</span> <span class="token keyword">end</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token keyword">do</span> retSet<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">true</span> <span class="token keyword">end</span>
    <span class="token keyword">return</span> retSet
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¦‚ä½•ä¿æŠ¤å…ƒè¡¨" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä¿æŠ¤å…ƒè¡¨" aria-hidden="true">#</a> å¦‚ä½•ä¿æŠ¤å…ƒè¡¨</h4><p>æˆ‘ä»¬ä¼šå‘ç°ï¼Œä½¿ç”¨<code>getmetatable</code>å°±å¯ä»¥å¾ˆè½»æ˜“çš„å¾—åˆ°å…ƒè¡¨ï¼Œä½¿ç”¨<code>setmetatable</code>å°±å¯ä»¥å¾ˆå®¹æ˜“çš„ä¿®æ”¹å…ƒè¡¨ï¼Œé‚£è¿™æ ·åšçš„é£é™©æ˜¯ä¸æ˜¯å¤ªå¤§äº†ï¼Œé‚£ä¹ˆå¦‚ä½•ä¿æŠ¤æˆ‘ä»¬çš„å…ƒè¡¨ä¸è¢«ç¯¡æ”¹å‘¢ï¼Ÿ</p><p>åœ¨ Lua ä¸­ï¼Œå‡½æ•°<code>setmetatable</code>å’Œ<code>getmetatable</code>å‡½æ•°ä¼šç”¨åˆ°å…ƒè¡¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œç”¨äºä¿æŠ¤å…ƒè¡¨ï¼Œè¯¥å­—æ®µæ˜¯<code>__metatable</code>ã€‚å½“æˆ‘ä»¬æƒ³è¦ä¿æŠ¤é›†åˆçš„å…ƒè¡¨ï¼Œæ˜¯ç”¨æˆ·æ—¢ä¸èƒ½çœ‹ä¹Ÿä¸èƒ½ä¿®æ”¹é›†åˆçš„å…ƒè¡¨ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨<code>__metatable</code>å­—æ®µäº†ï¼›å½“è®¾ç½®äº†è¯¥å­—æ®µæ—¶ï¼Œ<code>getmetatable</code>å°±ä¼šè¿”å›è¿™ä¸ªå­—æ®µçš„å€¼ï¼Œè€Œ<code>setmetatable</code>åˆ™ä¼šå¼•å‘ä¸€ä¸ªé”™è¯¯ï¼›å¦‚ä»¥ä¸‹æ¼”ç¤ºä»£ç ï¼š</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">function</span> Set<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>
    <span class="token keyword">local</span> set <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
     <span class="token function">setmetatable</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> mt<span class="token punctuation">)</span>
    <span class="token keyword">for</span> _<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token keyword">do</span> set<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">true</span> <span class="token keyword">end</span>
     mt<span class="token punctuation">.</span>__metatable <span class="token operator">=</span> <span class="token string">&quot;You cannot get the metatable&quot;</span> <span class="token comment">-- è®¾ç½®å®Œæˆ‘çš„å…ƒè¡¨ä»¥åï¼Œä¸è®©å…¶ä»–äººå†è®¾ç½®</span>
     <span class="token keyword">return</span> set
<span class="token keyword">end</span>

<span class="token keyword">local</span> tb <span class="token operator">=</span> Set<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>tb<span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">getmetatable</span><span class="token punctuation">(</span>tb<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">setmetatable</span><span class="token punctuation">(</span>tb<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">--[[
 {1, 2}
You cannot get the metatable
lua: test.lua:56: cannot change a protected metatable
]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="index" tabindex="-1"><a class="header-anchor" href="#index" aria-hidden="true">#</a> <code>__index</code></h4><p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªå®é™…çš„ä¾‹å­æ¥è¯´æ˜<code>__index</code>çš„ä½¿ç”¨ã€‚å‡è®¾è¦åˆ›å»ºä¸€äº›æè¿°çª—å£ï¼Œæ¯ä¸ª<code>table</code>ä¸­éƒ½å¿…é¡»æè¿°ä¸€äº›çª—å£å‚æ•°ï¼Œä¾‹å¦‚é¢œè‰²ï¼Œä½ç½®å’Œå¤§å°ç­‰ï¼Œè¿™äº›å‚æ•°éƒ½æ˜¯æœ‰é»˜è®¤å€¼å¾—ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºçª—å£å¯¹è±¡æ—¶å¯ä»¥æŒ‡å®šé‚£äº›ä¸åŒäºé»˜è®¤å€¼å¾—å‚æ•°</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>Windows <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">-- åˆ›å»ºä¸€ä¸ªå‘½åç©ºé—´</span>

<span class="token comment">-- åˆ›å»ºé»˜è®¤å€¼è¡¨</span>
Windows<span class="token punctuation">.</span>default <span class="token operator">=</span> <span class="token punctuation">{</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> width <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token punctuation">{</span>r <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">,</span> g <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

Windows<span class="token punctuation">.</span>mt <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">-- åˆ›å»ºå…ƒè¡¨</span>

<span class="token comment">-- å£°æ˜æ„é€ å‡½æ•°</span>
<span class="token keyword">function</span> Windows<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
     <span class="token function">setmetatable</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> Windows<span class="token punctuation">.</span>mt<span class="token punctuation">)</span>
     <span class="token keyword">return</span> o
<span class="token keyword">end</span>

<span class="token comment">-- å®šä¹‰__indexå…ƒæ–¹æ³•</span>
Windows<span class="token punctuation">.</span>mt<span class="token punctuation">.</span>__index <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>table<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
     <span class="token keyword">return</span> Windows<span class="token punctuation">.</span>default<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
<span class="token keyword">end</span>

<span class="token keyword">local</span> win <span class="token operator">=</span> Windows<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>win<span class="token punctuation">.</span>x<span class="token punctuation">)</span>               <span class="token comment">-- &gt;10 è®¿é—®è‡ªèº«å·²ç»æ‹¥æœ‰çš„å€¼</span>
<span class="token function">print</span><span class="token punctuation">(</span>win<span class="token punctuation">.</span>width<span class="token punctuation">)</span>          <span class="token comment">-- &gt;100 è®¿é—®defaultè¡¨ä¸­çš„å€¼</span>
<span class="token function">print</span><span class="token punctuation">(</span>win<span class="token punctuation">.</span>color<span class="token punctuation">.</span>r<span class="token punctuation">)</span>          <span class="token comment">-- &gt;255 è®¿é—®defaultè¡¨ä¸­çš„å€¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å®é™…ç¼–ç¨‹ä¸­ï¼Œ<code>__index</code>å…ƒæ–¹æ³•ä¸å¿…ä¸€å®šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¿˜å¯ä»¥æ˜¯ä¸€ä¸ª<code>table</code>ã€‚å½“å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°æ—¶ï¼ŒLua ä»¥<code>table</code>å’Œä¸å­˜åœ¨ key ä½œä¸ºå‚æ•°æ¥è°ƒç”¨è¯¥å‡½æ•°ï¼Œè¿™å°±å’Œä¸Šé¢çš„ä»£ç ä¸€æ ·ï¼›å½“å®ƒæ˜¯ä¸€ä¸ª<code>table</code>æ—¶ï¼ŒLua å°±ä»¥ç›¸åŒçš„æ–¹å¼æ¥é‡æ–°è®¿é—®è¿™ä¸ª<code>table</code>ï¼Œæ‰€ä»¥ä¸Šé¢çš„ä»£ç ä¹Ÿå¯ä»¥æ˜¯è¿™æ ·çš„</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- å®šä¹‰__indexå…ƒæ–¹æ³•</span>
Windows<span class="token punctuation">.</span>mt<span class="token punctuation">.</span>__index <span class="token operator">=</span> Windows<span class="token punctuation">.</span>default
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="newindex-å…ƒæ–¹æ³•-1" tabindex="-1"><a class="header-anchor" href="#newindex-å…ƒæ–¹æ³•-1" aria-hidden="true">#</a> <code>__newindex</code> å…ƒæ–¹æ³•</h4><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> tb1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">local</span> tb2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

tb1<span class="token punctuation">.</span>__newindex <span class="token operator">=</span> tb2
tb2<span class="token punctuation">.</span>__newindex <span class="token operator">=</span> tb1

<span class="token function">setmetatable</span><span class="token punctuation">(</span>tb1<span class="token punctuation">,</span> tb2<span class="token punctuation">)</span>
<span class="token function">setmetatable</span><span class="token punctuation">(</span>tb2<span class="token punctuation">,</span> tb1<span class="token punctuation">)</span>

tb1<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘ç°ä»€ä¹ˆé—®é¢˜äº†ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯å¾ªç¯äº†ï¼Œåœ¨ Lua è§£é‡Šå™¨ä¸­ï¼Œå¯¹è¿™ä¸ªé—®é¢˜ï¼Œå°±ä¼šå¼¹å‡ºé”™è¯¯æ¶ˆæ¯ï¼Œé”™è¯¯æ¶ˆæ¯<code>loop in settable</code></p><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¸æƒ³ä»<code>__index</code>å¯¹åº”çš„å…ƒæ–¹æ³•ä¸­æŸ¥è¯¢å€¼ï¼Œæˆ‘ä»¬ä¹Ÿä¸æƒ³æ›´æ–°<code>table</code>æ—¶ï¼Œä¹Ÿä¸æƒ³æ‰§è¡Œ<code>__newindex</code>å¯¹åº”çš„æ–¹æ³•ï¼Œæˆ–è€…<code>__newindex</code>å¯¹åº”çš„<code>table</code>ã€‚é‚£æ€ä¹ˆåŠï¼Ÿ</p><p>åœ¨ Lua ä¸­ï¼Œå½“æˆ‘ä»¬æŸ¥è¯¢<code>table</code>ä¸­çš„å€¼ï¼Œæˆ–è€…æ›´æ–°<code>table</code>ä¸­çš„å€¼æ—¶ï¼Œä¸æƒ³ç†é‚£è¯¥æ­»çš„å…ƒè¡¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>rawget</code>å‡½æ•°ï¼Œè°ƒç”¨<code>rawget(tb, i)</code>å°±æ˜¯å¯¹<code>table tb</code>è¿›è¡Œäº†ä¸€æ¬¡â€œåŸå§‹çš„ï¼ˆrawï¼‰â€è®¿é—®ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¬¡ä¸è€ƒè™‘å…ƒè¡¨çš„ç®€å•è®¿é—®ï¼›</p><p>ä½ å¯èƒ½ä¼šæƒ³ï¼Œä¸€æ¬¡åŸå§‹çš„è®¿é—®ï¼Œæ²¡æœ‰è®¿é—®<code>__index</code>å¯¹åº”çš„å…ƒæ–¹æ³•ï¼Œå¯èƒ½æœ‰æ€§èƒ½çš„æå‡ï¼Œå…¶å®ä¸€æ¬¡åŸå§‹è®¿é—®å¹¶ä¸ä¼šåŠ é€Ÿä»£ç æ‰§è¡Œçš„é€Ÿåº¦ã€‚å¯¹äº<code>__newindex</code>å…ƒæ–¹æ³•ï¼Œå¯ä»¥è°ƒç”¨<code>rawset(t, k, v)</code>å‡½æ•°ï¼Œå®ƒå¯ä»¥ä¸æ¶‰åŠä»»ä½•å…ƒæ–¹æ³•è€Œç›´æ¥è®¾ç½®<code>table t</code>ä¸­ä¸<code>key k</code>ç›¸å…³è”çš„<code>value v</code></p><h2 id="lua-ååŒç¨‹åº-coroutine" tabindex="-1"><a class="header-anchor" href="#lua-ååŒç¨‹åº-coroutine" aria-hidden="true">#</a> Lua ååŒç¨‹åº(coroutine)</h2><h3 id="ä»€ä¹ˆæ˜¯åç¨‹-coroutine" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯åç¨‹-coroutine" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯åç¨‹(coroutine)ï¼Ÿ</h3><h4 id="çº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#çº¿ç¨‹" aria-hidden="true">#</a> çº¿ç¨‹</h4><p>é¦–å…ˆå¤ä¹ ä¸€ä¸‹å¤šçº¿ç¨‹ã€‚æˆ‘ä»¬éƒ½çŸ¥é“çº¿ç¨‹â€”â€”Threadã€‚æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½ä»£è¡¨ä¸€ä¸ªæ‰§è¡Œåºåˆ—ã€‚</p><p>å½“æˆ‘ä»¬åœ¨ç¨‹åºä¸­åˆ›å»ºå¤šçº¿ç¨‹çš„æ—¶å€™ï¼Œçœ‹èµ·æ¥ï¼ŒåŒä¸€æ—¶åˆ»å¤šä¸ªçº¿ç¨‹æ˜¯åŒæ—¶æ‰§è¡Œçš„ï¼Œä¸è¿‡å®è´¨ä¸Šå¤šä¸ªçº¿ç¨‹æ˜¯å¹¶å‘çš„ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ª CPUï¼Œæ‰€ä»¥å®è´¨ä¸ŠåŒä¸€ä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œã€‚</p><p>åœ¨ä¸€ä¸ªæ—¶é—´ç‰‡å†…æ‰§è¡Œå“ªä¸ªçº¿ç¨‹æ˜¯ä¸ç¡®å®šçš„ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶çº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼Œä¸è¿‡çœŸæ­£çš„çº¿ç¨‹è°ƒåº¦ç”± CPU çš„è°ƒåº¦å†³å®šã€‚</p><h4 id="åç¨‹" tabindex="-1"><a class="header-anchor" href="#åç¨‹" aria-hidden="true">#</a> åç¨‹</h4><p>åç¨‹è·Ÿçº¿ç¨‹éƒ½ä»£è¡¨ä¸€ä¸ªæ‰§è¡Œåºåˆ—ã€‚ä¸åŒçš„æ˜¯ï¼Œåç¨‹æŠŠçº¿ç¨‹ä¸­ä¸ç¡®å®šçš„åœ°æ–¹å°½å¯èƒ½çš„å»æ‰ï¼Œæ‰§è¡Œåºåˆ—é—´çš„åˆ‡æ¢ä¸å†ç”± CPU éšè—çš„è¿›è¡Œï¼Œè€Œæ˜¯ç”±ç¨‹åºæ˜¾å¼çš„è¿›è¡Œã€‚</p><p>æ‰€ä»¥ï¼Œä½¿ç”¨åç¨‹å®ç°å¹¶å‘ï¼Œéœ€è¦å¤šä¸ªåç¨‹å½¼æ­¤åä½œã€‚</p><h3 id="åŸºæœ¬è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬è¯­æ³•" aria-hidden="true">#</a> åŸºæœ¬è¯­æ³•</h3><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>coroutine.create()</code></td><td>åˆ›å»º coroutineï¼Œè¿”å› coroutineï¼Œ å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå½“å’Œ resume é…åˆä½¿ç”¨çš„æ—¶å€™å°±å”¤é†’å‡½æ•°è°ƒç”¨</td></tr><tr><td><code>coroutine.resume()</code></td><td>é‡å¯ coroutineï¼Œå’Œ create é…åˆä½¿ç”¨</td></tr><tr><td><code>coroutine.yield()</code></td><td>æŒ‚èµ· coroutineï¼Œå°† coroutine è®¾ç½®ä¸ºæŒ‚èµ·çŠ¶æ€ï¼Œè¿™ä¸ªå’Œ resume é…åˆä½¿ç”¨èƒ½æœ‰å¾ˆå¤šæœ‰ç”¨çš„æ•ˆæœ</td></tr><tr><td><code>coroutine.status()</code></td><td>æŸ¥çœ‹ coroutine çš„çŠ¶æ€ æ³¨ï¼šcoroutine çš„çŠ¶æ€æœ‰ä¸‰ç§ï¼šdeadï¼Œsuspendï¼Œrunningï¼Œå…·ä½“ä»€ä¹ˆæ—¶å€™æœ‰è¿™æ ·çš„çŠ¶æ€è¯·å‚è€ƒä¸‹é¢çš„ç¨‹åº</td></tr><tr><td><code>coroutine.wrapï¼ˆï¼‰</code></td><td>åˆ›å»º coroutineï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œä¸€æ—¦ä½ è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå°±è¿›å…¥ coroutineï¼Œå’Œ create åŠŸèƒ½é‡å¤</td></tr><tr><td><code>coroutine.running()</code></td><td>è¿”å›æ­£åœ¨è·‘çš„ coroutineï¼Œä¸€ä¸ª coroutine å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œå½“ä½¿ç”¨ running çš„æ—¶å€™ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ª corouting çš„çº¿ç¨‹å·</td></tr></tbody></table><h3 id="coroutine-åº“è®²è§£" tabindex="-1"><a class="header-anchor" href="#coroutine-åº“è®²è§£" aria-hidden="true">#</a> coroutine åº“è®²è§£</h3><h4 id="coroutine-create-f" tabindex="-1"><a class="header-anchor" href="#coroutine-create-f" aria-hidden="true">#</a> coroutine.create(f)</h4><p>ä¼ ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ›å»ºåç¨‹ã€‚è¿”å›ä¸€ä¸ª<code>thread</code>å¯¹è±¡</p><h4 id="coroutine-isyieldable" tabindex="-1"><a class="header-anchor" href="#coroutine-isyieldable" aria-hidden="true">#</a> coroutine.isyieldable()</h4><p>å¦‚æœæ­£åœ¨è¿è¡Œçš„åç¨‹å¯ä»¥è®©å‡ºï¼Œåˆ™è¿”å›çœŸï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰ä¸»åç¨‹(çº¿ç¨‹)å’Œ c å‡½æ•°ä¸­æ˜¯æ— æ³•è®©å‡ºçš„ã€‚</p><h4 id="coroutine-resume-co-val1" tabindex="-1"><a class="header-anchor" href="#coroutine-resume-co-val1" aria-hidden="true">#</a> coroutine.resume(co, [,val1,...])</h4><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å‡½æ•°ï¼Œç”¨æ¥å¯åŠ¨æˆ–å†å¯åŠ¨ä¸€ä¸ªåç¨‹ï¼Œä½¿å…¶ç”±æŒ‚èµ·çŠ¶æ€å˜ä¸ºè¿è¡ŒçŠ¶æ€</p><p>resume å‡½æ•°ç›¸å½“ä¸åœ¨æ‰§è¡Œåç¨‹ä¸­çš„æ–¹æ³•ã€‚å‚æ•°<code>val1...</code>æ˜¯æ‰§è¡Œåç¨‹ co æ—¶ä¼ é€’ç»™åç¨‹çš„æ–¹æ³•ã€‚</p><p><b>é¦–æ¬¡æ‰§è¡Œåç¨‹ co æ—¶ï¼Œå‚æ•°<code>Val1...</code>ä¼šä¼ é€’ç»™åç¨‹ co çš„å‡½æ•°</b></p><p><b>å†æ¬¡æ‰§è¡Œåç¨‹ co æ—¶ï¼Œå‚æ•°<code>Val1...</code>ä¼šä½œä¸ºç»™åç¨‹ co ä¸­ä¸Šä¸€æ¬¡ yeild çš„è¿”å›å€¼ã€‚</b></p><p>resume å‡½æ•°è¿”å›ä»€ä¹ˆå‘¢ï¼Ÿæœ‰ 3 ç§æƒ…å†µ:</p><ol><li><p>å¦‚æœåç¨‹ co çš„å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œåç¨‹æ­£å¸¸ç»ˆæ­¢ï¼Œresume è¿”å› true å’Œå‡½æ•°çš„è¿”å›å€¼</p></li><li><p>å¦‚æœåç¨‹ co çš„å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåç¨‹è®©å‡ºäº†ï¼ˆè°ƒç”¨äº† yeild()æ–¹æ³•ï¼‰ï¼Œé‚£ä¹ˆ resume è¿”å› true å’Œåç¨‹ä¸­è°ƒç”¨ yeild ä¼ å…¥çš„å‚æ•°</p></li><li><p>å¦‚æœåç¨‹ co çš„å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œresume è¿”å› false ä¸é”™è¯¯æ¶ˆæ¯</p></li></ol><blockquote><p>ä»¥çœ‹åˆ° resume æ— è®ºå¦‚ä½•éƒ½ä¸ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚å®ƒæ˜¯åœ¨ä¿æŠ¤æ¨¡å¼ä¸‹æ‰§è¡Œçš„</p></blockquote><h4 id="coroutine-status-co" tabindex="-1"><a class="header-anchor" href="#coroutine-status-co" aria-hidden="true">#</a> coroutine.status(co)</h4><p>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºåç¨‹çš„çŠ¶æ€ã€‚æœ‰ 4 ç§çŠ¶æ€:</p><ol><li><p>runningã€‚å¦‚æœåœ¨åç¨‹çš„å‡½æ•°ä¸­è°ƒç”¨ statusï¼Œä¼ å…¥åç¨‹è‡ªèº«çš„å¥æŸ„ï¼Œé‚£ä¹ˆæ‰§è¡Œåˆ°è¿™é‡Œçš„æ—¶å€™ä¼šè¿”å› running çŠ¶æ€</p></li><li><p>suspendedã€‚å¦‚æœåç¨‹è¿˜æœªç»“æŸï¼Œå³è‡ªèº«è°ƒç”¨äº† yeild æˆ–è¿˜æ²¡å¼€å§‹è¿è¡Œï¼Œé‚£ä¹ˆå°±æ˜¯ suspended çŠ¶æ€</p></li><li><p>normalã€‚å¦‚æœåç¨‹ A resume åç¨‹ B æ—¶ï¼Œåç¨‹ A å¤„äºçš„çŠ¶æ€ä¸º normalã€‚åœ¨åç¨‹ B çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåç¨‹ A å°±ä¸€ç›´å¤„äº normal çŠ¶æ€ã€‚å› ä¸ºå®ƒè¿™æ—¶å€™æ—¢ä¸æ˜¯æŒ‚èµ·çŠ¶æ€ã€ä¹Ÿä¸æ˜¯è¿è¡ŒçŠ¶æ€</p></li></ol><h4 id="coroutine-wrap-f" tabindex="-1"><a class="header-anchor" href="#coroutine-wrap-f" aria-hidden="true">#</a> coroutine.wrap(f)</h4><p><code>wrap()</code>ä¹Ÿæ˜¯ç”¨æ¥åˆ›å»ºåç¨‹çš„ã€‚åªä¸è¿‡è¿™ä¸ªåç¨‹çš„å¥æŸ„æ˜¯éšè—çš„ã€‚è·Ÿ<code>create()</code>çš„åŒºåˆ«åœ¨äº</p><ol><li><p><code>wrap()</code>è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°ç›¸å½“äºè°ƒç”¨<code>coroutine.resume()</code>ã€‚</p></li><li><p>è°ƒç”¨è¿™ä¸ªå‡½æ•°ç›¸å½“äºåœ¨æ‰§è¡Œ<code>resume()</code>å‡½æ•°ã€‚</p></li><li><p>è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ä¼ å…¥çš„å‚æ•°ï¼Œå°±ç›¸å½“äºåœ¨è°ƒç”¨<code>resume</code>æ—¶ä¼ å…¥çš„é™¤åç¨‹çš„å¥æŸ„å¤–çš„å…¶ä»–å‚æ•°ã€‚</p></li><li><p>è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œè·Ÿ<code>resume</code>ä¸åŒçš„æ˜¯ï¼Œå®ƒå¹¶ä¸æ˜¯åœ¨ä¿æŠ¤æ¨¡å¼ä¸‹æ‰§è¡Œçš„ï¼Œè‹¥æ‰§è¡Œå´©æºƒä¼šç›´æ¥å‘å¤–æŠ›å‡ºã€‚</p></li></ol><h4 id="coroutine-yield-Â·Â·Â·" tabindex="-1"><a class="header-anchor" href="#coroutine-yield-Â·Â·Â·" aria-hidden="true">#</a> coroutine.yield(Â·Â·Â·)</h4><p>ä½¿æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°æŒ‚èµ·ã€‚</p><ul><li><p><code>yeild</code>çš„å‚æ•°ä¼šä½œä¸º<code>resume</code>çš„é¢å¤–è¿”å›å€¼ã€‚</p></li><li><p>åŒæ—¶ï¼Œå¦‚æœå¯¹è¯¥åç¨‹ä¸æ˜¯ç¬¬ä¸€æ¬¡æ‰§è¡Œ<code>resume</code>ï¼Œ<code>resume</code>å‡½æ•°ä¼ å…¥çš„å‚æ•°å°†ä¼šä½œä¸º<code>yield</code>çš„è¿”å›å€¼ã€‚</p></li></ul><h4 id="coroutine-running" tabindex="-1"><a class="header-anchor" href="#coroutine-running" aria-hidden="true">#</a> coroutine.running()</h4><p>è¿”å›å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ ID</p><h3 id="ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†ä»¥ä¸Šå„ä¸ªæ–¹æ³•çš„ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†ä»¥ä¸Šå„ä¸ªæ–¹æ³•çš„ç”¨æ³•" aria-hidden="true">#</a> ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†ä»¥ä¸Šå„ä¸ªæ–¹æ³•çš„ç”¨æ³•</h3><p>ç®€å•å®ç”¨<code>resumeã€yield</code>ï¼Œå¦‚ä¸‹</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">--åˆ›å»ºä¸€ä¸ªåç¨‹coco</span>
coco <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    <span class="token function">print</span> <span class="token punctuation">(</span><span class="token string">&quot;resume args:&quot;</span><span class="token operator">..</span>a<span class="token operator">..</span><span class="token string">&quot;,&quot;</span><span class="token operator">..</span>b<span class="token punctuation">)</span>
    <span class="token comment">--åç¨‹è¢«æŒ‚èµ·</span>
    yreturn <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">yield</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- yreturn åº”è¯¥æ˜¯ä¸‹æ¬¡resumeå”¤é†’ä¼ é€’è¿›æ¥çš„å‚æ•°</span>
    <span class="token function">print</span> <span class="token punctuation">(</span><span class="token string">&quot;yretur:&quot;</span><span class="token operator">..</span>yreturn<span class="token punctuation">)</span>

<span class="token keyword">end</span><span class="token punctuation">)</span>

<span class="token comment">--ç¬¬ä¸€æ¬¡å¯åŠ¨cocoåç¨‹</span>
<span class="token function">print</span> <span class="token punctuation">(</span>coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>coco<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">--ç¬¬äºŒæ¬¡å¯åŠ¨cocoåç¨‹</span>
<span class="token function">print</span> <span class="token punctuation">(</span>coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>coco<span class="token punctuation">,</span> <span class="token string">&quot;ç¬¬äºŒæ¬¡ä¼ é€’çš„å‚æ•°,ä½œä¸ºä¸Šä¸€æ¬¡yieldçš„è¿”å›å€¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">--[[
  resume args:0,1
  true
  yretur:ç¬¬äºŒæ¬¡ä¼ é€’çš„å‚æ•°,ä½œä¸ºä¸Šä¸€æ¬¡yieldçš„è¿”å›å€¼
  true
]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç®€å•ä½¿ç”¨ wrapï¼Œå¦‚ä¸‹:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>coco2 <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
            <span class="token function">print</span> <span class="token punctuation">(</span><span class="token string">&quot;warp resume args:&quot;</span><span class="token operator">..</span>a<span class="token operator">..</span><span class="token string">&quot;,&quot;</span><span class="token operator">..</span>b<span class="token punctuation">)</span>
            yreturn <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">yield</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token function">print</span> <span class="token punctuation">(</span><span class="token string">&quot;continue &quot;</span><span class="token operator">..</span>yreturn<span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>

<span class="token function">print</span> <span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>coco2<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token function">coco2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">coco2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment">--[[
  function
  warp resume args:0,1
  continue 3
]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¤šä¸ªåç¨‹é…åˆä½¿ç”¨</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">function</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Co1&#39;s status:&quot;</span><span class="token operator">..</span>coroutine<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>co1<span class="token punctuation">)</span><span class="token operator">..</span><span class="token string">&quot;,&quot;</span><span class="token operator">..</span><span class="token string">&quot;co2&#39;s status:&quot;</span><span class="token operator">..</span>coroutine<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>co2<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

co1 <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span>
        <span class="token function">print</span> <span class="token punctuation">(</span><span class="token string">&quot;arg is :&quot;</span><span class="token operator">..</span>a<span class="token punctuation">)</span>
        <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">local</span> stat<span class="token punctuation">,</span> rere <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>co2<span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span>
        <span class="token function">print</span> <span class="token punctuation">(</span><span class="token string">&quot;resume&#39;s return is &quot;</span><span class="token operator">..</span>rere<span class="token punctuation">)</span>
        <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">local</span> stat2<span class="token punctuation">,</span>rere2 <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>co2<span class="token punctuation">,</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span>
        <span class="token function">print</span> <span class="token punctuation">(</span><span class="token string">&quot;resume&#39;s return is&quot;</span><span class="token operator">..</span>rere2<span class="token punctuation">)</span>
        <span class="token keyword">local</span> arg <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">yield</span><span class="token punctuation">(</span><span class="token string">&quot;6&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>

co2 <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span>
        <span class="token function">print</span> <span class="token punctuation">(</span><span class="token string">&quot;arg is :&quot;</span><span class="token operator">..</span>a<span class="token punctuation">)</span>
        <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">local</span> rey <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">yield</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span>
        <span class="token function">print</span> <span class="token punctuation">(</span><span class="token string">&quot;yeild&#39;s return is &quot;</span><span class="token operator">..</span> rey<span class="token punctuation">)</span>
        <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        coroutine<span class="token punctuation">.</span><span class="token function">yield</span><span class="token punctuation">(</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>

stat<span class="token punctuation">,</span>main_ret <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>co1<span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span>
<span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span> <span class="token punctuation">(</span><span class="token string">&quot;last return is &quot;</span><span class="token operator">..</span>main_ret<span class="token punctuation">)</span>

<span class="token comment">--[[
  arg is :1
  Co1&#39;s status:running,co2&#39;s status:suspended
  arg is :2
  Co1&#39;s status:normal,co2&#39;s status:running
  resume&#39;s return is 3
  Co1&#39;s status:running,co2&#39;s status:suspended
  yeild&#39;s return is 4
  Co1&#39;s status:normal,co2&#39;s status:running
  resume&#39;s return is5
  Co1&#39;s status:suspended,co2&#39;s status:suspended
  last return is 6
]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ„Ÿè§‰ä¸Š lua çš„ coroutine æŒºéº»çƒ¦çš„, æ²¡æƒ³åˆ°æ€ä¹ˆå†™æ‰æ¯”è¾ƒä¼˜é›…, æˆ‘å¯èƒ½æ˜¯æ‡’å¾—åŠ¨è„‘å§ ğŸ’©</p></blockquote><h2 id="lua-æ–‡ä»¶-i-o" tabindex="-1"><a class="header-anchor" href="#lua-æ–‡ä»¶-i-o" aria-hidden="true">#</a> Lua æ–‡ä»¶ I/O</h2><p>Lua I/O åº“ç”¨äºè¯»å–å’Œå¤„ç†æ–‡ä»¶ã€‚åˆ†ä¸ºç®€å•æ¨¡å¼ï¼ˆå’Œ C ä¸€æ ·ï¼‰ã€å®Œå…¨æ¨¡å¼ã€‚</p><ul><li>ç®€å•æ¨¡å¼ï¼ˆsimple modelï¼‰æ‹¥æœ‰ä¸€ä¸ªå½“å‰è¾“å…¥æ–‡ä»¶å’Œä¸€ä¸ªå½“å‰è¾“å‡ºæ–‡ä»¶ï¼Œå¹¶ä¸”æä¾›é’ˆå¯¹è¿™äº›æ–‡ä»¶ç›¸å…³çš„æ“ä½œã€‚</li><li>å®Œå…¨æ¨¡å¼ï¼ˆcomplete modelï¼‰ ä½¿ç”¨å¤–éƒ¨çš„æ–‡ä»¶å¥æŸ„æ¥å®ç°ã€‚å®ƒä»¥ä¸€ç§é¢å¯¹å¯¹è±¡çš„å½¢å¼ï¼Œå°†æ‰€æœ‰çš„æ–‡ä»¶æ“ä½œå®šä¹‰ä¸ºæ–‡ä»¶å¥æŸ„çš„æ–¹æ³•</li></ul><p>ç®€å•æ¨¡å¼åœ¨åšä¸€äº›ç®€å•çš„æ–‡ä»¶æ“ä½œæ—¶è¾ƒä¸ºåˆé€‚ã€‚ä½†æ˜¯åœ¨è¿›è¡Œä¸€äº›é«˜çº§çš„æ–‡ä»¶æ“ä½œçš„æ—¶å€™ï¼Œç®€å•æ¨¡å¼å°±æ˜¾å¾—åŠ›ä¸ä»å¿ƒã€‚ä¾‹å¦‚åŒæ—¶è¯»å–å¤šä¸ªæ–‡ä»¶è¿™æ ·çš„æ“ä½œï¼Œä½¿ç”¨å®Œå…¨æ¨¡å¼åˆ™è¾ƒä¸ºåˆé€‚ã€‚</p><p>æ‰“å¼€æ–‡ä»¶æ“è¯­å¥å¦‚ä¸‹ï¼š</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code>file <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">open</span> <span class="token punctuation">(</span>filename <span class="token punctuation">[</span><span class="token punctuation">,</span> mode<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>æ¨¡å¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>r</td><td>ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¿…é¡»å­˜åœ¨ã€‚</td></tr><tr><td>w</td><td>æ‰“å¼€åªå†™æ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶å­˜åœ¨åˆ™æ–‡ä»¶é•¿åº¦æ¸…ä¸º 0ï¼Œå³è¯¥æ–‡ä»¶å†…å®¹ä¼šæ¶ˆå¤±ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™å»ºç«‹è¯¥æ–‡ä»¶ã€‚</td></tr><tr><td>a</td><td>ä»¥é™„åŠ çš„æ–¹å¼æ‰“å¼€åªå†™æ–‡ä»¶ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šå»ºç«‹è¯¥æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œå†™å…¥çš„æ•°æ®ä¼šè¢«åŠ åˆ°æ–‡ä»¶å°¾ï¼Œå³æ–‡ä»¶åŸå…ˆçš„å†…å®¹ä¼šè¢«ä¿ç•™ã€‚ï¼ˆEOF ç¬¦ä¿ç•™ï¼‰</td></tr><tr><td>r+</td><td>ä»¥å¯è¯»å†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¿…é¡»å­˜åœ¨ã€‚</td></tr><tr><td>w+</td><td>æ‰“å¼€å¯è¯»å†™æ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶å­˜åœ¨åˆ™æ–‡ä»¶é•¿åº¦æ¸…ä¸ºé›¶ï¼Œå³è¯¥æ–‡ä»¶å†…å®¹ä¼šæ¶ˆå¤±ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™å»ºç«‹è¯¥æ–‡ä»¶ã€‚</td></tr><tr><td>a+</td><td>ä¸ a ç±»ä¼¼ï¼Œä½†æ­¤æ–‡ä»¶å¯è¯»å¯å†™</td></tr><tr><td>b</td><td>äºŒè¿›åˆ¶æ¨¡å¼ï¼Œå¦‚æœæ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¯ä»¥åŠ ä¸Š b</td></tr><tr><td>+</td><td>å·è¡¨ç¤ºå¯¹æ–‡ä»¶æ—¢å¯ä»¥è¯»ä¹Ÿå¯ä»¥å†™</td></tr></tbody></table><h3 id="ç®€å•æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ç®€å•æ¨¡å¼" aria-hidden="true">#</a> ç®€å•æ¨¡å¼</h3><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶</span>
file <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;test.lua&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span>

<span class="token comment">-- è®¾ç½®é»˜è®¤è¾“å…¥æ–‡ä»¶ä¸º test.lua</span>
io<span class="token punctuation">.</span><span class="token function">input</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>

<span class="token comment">-- è¾“å‡ºæ–‡ä»¶ç¬¬ä¸€è¡Œ</span>
<span class="token function">print</span><span class="token punctuation">(</span>io<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">-- å…³é—­æ‰“å¼€çš„æ–‡ä»¶</span>
io<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>

<span class="token comment">-- ä»¥é™„åŠ çš„æ–¹å¼æ‰“å¼€åªå†™æ–‡ä»¶</span>
file <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;test.lua&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>

<span class="token comment">-- è®¾ç½®é»˜è®¤è¾“å‡ºæ–‡ä»¶ä¸º test.lua</span>
io<span class="token punctuation">.</span><span class="token function">output</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>

<span class="token comment">-- åœ¨æ–‡ä»¶æœ€åä¸€è¡Œæ·»åŠ  Lua æ³¨é‡Š</span>
io<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;--  test.lua æ–‡ä»¶æœ«å°¾æ³¨é‡Š&quot;</span><span class="token punctuation">)</span>

<span class="token comment">-- å…³é—­æ‰“å¼€çš„æ–‡ä»¶</span>
io<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>io.&quot;x&quot;</code> æ–¹æ³•ï¼Œå…¶ä¸­ <code>io.read()</code> ä¸­æˆ‘ä»¬æ²¡æœ‰å¸¦å‚æ•°ï¼Œå‚æ•°å¯ä»¥æ˜¯ä¸‹è¡¨ä¸­çš„ä¸€ä¸ª</p><table><thead><tr><th>æ¨¡å¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>&quot;*n&quot;</td><td>è¯»å–ä¸€ä¸ªæ•°å­—å¹¶è¿”å›å®ƒã€‚ä¾‹ï¼š<code>file.read(&quot;*n&quot;)</code></td></tr><tr><td>&quot;*a&quot;</td><td>ä»å½“å‰ä½ç½®è¯»å–æ•´ä¸ªæ–‡ä»¶ã€‚ä¾‹ï¼š<code>file.read(&quot;*a&quot;)</code></td></tr><tr><td>&quot;*l&quot;ï¼ˆé»˜è®¤ï¼‰</td><td>è¯»å–ä¸‹ä¸€è¡Œï¼Œåœ¨æ–‡ä»¶å°¾ (EOF) å¤„è¿”å› nilã€‚ä¾‹ï¼š<code>file.read(&quot;*l&quot;)</code></td></tr><tr><td>number</td><td>è¿”å›ä¸€ä¸ªæŒ‡å®šå­—ç¬¦ä¸ªæ•°çš„å­—ç¬¦ä¸²ï¼Œæˆ–åœ¨ EOF æ—¶è¿”å› nilã€‚ä¾‹ï¼š<code>file.read(5)</code></td></tr></tbody></table><p>å…¶ä»–çš„ io æ–¹æ³•æœ‰ï¼š</p><ul><li><code>io.tmpfile()</code>:è¿”å›ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¥æŸ„ï¼Œè¯¥æ–‡ä»¶ä»¥æ›´æ–°æ¨¡å¼æ‰“å¼€ï¼Œç¨‹åºç»“æŸæ—¶è‡ªåŠ¨åˆ é™¤</li><li><code>io.type(file)</code>:æ£€æµ‹ obj æ˜¯å¦ä¸€ä¸ªå¯ç”¨çš„æ–‡ä»¶å¥æŸ„</li><li><code>io.flush()</code>:å‘æ–‡ä»¶å†™å…¥ç¼“å†²ä¸­çš„æ‰€æœ‰æ•°æ®</li><li><code>io.lines(optional file name)</code>:è¿”å›ä¸€ä¸ªè¿­ä»£å‡½æ•°,æ¯æ¬¡è°ƒç”¨å°†è·å¾—æ–‡ä»¶ä¸­çš„ä¸€è¡Œå†…å®¹,å½“åˆ°æ–‡ä»¶å°¾æ—¶ï¼Œå°†è¿”å› nil,ä½†ä¸å…³é—­æ–‡ä»¶</li></ul><h3 id="å®Œå…¨æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#å®Œå…¨æ¨¡å¼" aria-hidden="true">#</a> å®Œå…¨æ¨¡å¼</h3><p>é€šå¸¸æˆ‘ä»¬éœ€è¦åœ¨åŒä¸€æ—¶é—´å¤„ç†å¤šä¸ªæ–‡ä»¶ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>file:function_name</code> æ¥ä»£æ›¿ <code>io.function_name</code> æ–¹æ³•ã€‚ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†å¦‚åŒåŒæ—¶å¤„ç†åŒä¸€ä¸ªæ–‡ä»¶</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶</span>
file <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;test.lua&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span>

<span class="token comment">-- è¾“å‡ºæ–‡ä»¶ç¬¬ä¸€è¡Œ</span>
<span class="token function">print</span><span class="token punctuation">(</span>file<span class="token punctuation">:</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">-- å…³é—­æ‰“å¼€çš„æ–‡ä»¶</span>
file<span class="token punctuation">:</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">-- ä»¥é™„åŠ çš„æ–¹å¼æ‰“å¼€åªå†™æ–‡ä»¶</span>
file <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;test.lua&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>

<span class="token comment">-- åœ¨æ–‡ä»¶æœ€åä¸€è¡Œæ·»åŠ  Lua æ³¨é‡Š</span>
file<span class="token punctuation">:</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;--test&quot;</span><span class="token punctuation">)</span>

<span class="token comment">-- å…³é—­æ‰“å¼€çš„æ–‡ä»¶</span>
file<span class="token punctuation">:</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>read çš„å‚æ•°ä¸ç®€å•æ¨¡å¼ä¸€è‡´ã€‚</p><p>å…¶ä»–æ–¹æ³•:</p><ul><li><code>file:seek(optional whence, optional offset)</code>:è®¾ç½®å’Œè·å–å½“å‰æ–‡ä»¶ä½ç½®,æˆåŠŸåˆ™è¿”å›æœ€ç»ˆçš„æ–‡ä»¶ä½ç½®(æŒ‰å­—èŠ‚),å¤±è´¥åˆ™è¿”å› nil åŠ é”™è¯¯ä¿¡æ¯ã€‚å‚æ•° whence å€¼å¯ä»¥æ˜¯: <ul><li><code>&quot;set&quot;</code>: ä»æ–‡ä»¶å¤´å¼€å§‹</li><li><code>&quot;cur&quot;</code>: ä»å½“å‰ä½ç½®å¼€å§‹[é»˜è®¤]</li><li><code>&quot;end&quot;</code>: ä»æ–‡ä»¶å°¾å¼€å§‹</li><li><code>offset</code>:é»˜è®¤ä¸º 0 ä¸å¸¦å‚æ•°<code>file:seek()</code>åˆ™è¿”å›å½“å‰ä½ç½®,<code>file:seek(&quot;set&quot;)</code>åˆ™å®šä½åˆ°æ–‡ä»¶å¤´,<code>file:seek(&quot;end&quot;)</code>åˆ™å®šä½åˆ°æ–‡ä»¶å°¾å¹¶è¿”å›æ–‡ä»¶å¤§å°</li></ul></li><li><code>file:flush()</code>:å‘æ–‡ä»¶å†™å…¥ç¼“å†²ä¸­çš„æ‰€æœ‰æ•°æ®</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">for</span> line <span class="token keyword">in</span> io<span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span><span class="token string">&quot;main.lua&quot;</span><span class="token punctuation">)</span> <span class="token keyword">do</span>

ã€€ã€€<span class="token function">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>

<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸‹å®ä¾‹ä½¿ç”¨äº† <code>seek</code> æ–¹æ³•ï¼Œå®šä½åˆ°æ–‡ä»¶å€’æ•°ç¬¬ 25 ä¸ªä½ç½®å¹¶ä½¿ç”¨ <code>read</code> æ–¹æ³•çš„ <code>*a</code> å‚æ•°ï¼Œå³ä»å½“æœŸä½ç½®(å€’æ•°ç¬¬ 25 ä¸ªä½ç½®)è¯»å–æ•´ä¸ªæ–‡ä»¶ã€‚</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶</span>
file <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;test.lua&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span>

file<span class="token punctuation">:</span><span class="token function">seek</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">25</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>file<span class="token punctuation">:</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token string">&quot;*a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">-- å…³é—­æ‰“å¼€çš„æ–‡ä»¶</span>
file<span class="token punctuation">:</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="lua-é¢å‘å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#lua-é¢å‘å¯¹è±¡" aria-hidden="true">#</a> Lua é¢å‘å¯¹è±¡</h2><h3 id="ç±»" tabindex="-1"><a class="header-anchor" href="#ç±»" aria-hidden="true">#</a> ç±»</h3><p>åœ¨ C ä¸­ï¼Œå¦‚æœä¸€ä¸ªç±»æ²¡æœ‰è¿›è¡Œå®ä¾‹åŒ–ï¼Œé‚£è¿™ä¸ªç±»ä¸­å¯¹åº”çš„æ“ä½œï¼ŒåŸºæœ¬å°±æ˜¯ä¸€å †â€œæ²¡æœ‰ç”¨â€çš„ä»£ç ï¼›è€Œ<b>Lua åˆ™ä¸ä¸€æ ·ï¼Œå³ä½¿ä½ ä¸å®ä¾‹åŒ–ä¸€ä¸ªâ€œç±»â€ï¼Œä½ ç…§æ ·ä¹Ÿå¯ä»¥ä½¿ç”¨â€œç±»â€åç›´æ¥è°ƒç”¨å®ƒçš„æ–¹æ³•</b>ï¼ˆå¯¹äº C++ï¼Œè¯·å¿½è§†é™æ€çš„æ–¹æ³•ï¼‰ï¼›</p><p>åœ¨ Lua ä¸­åˆ™æ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œè€Œæˆ‘ä»¬éƒ½æ˜¯é€šè¿‡ Lua ç°æœ‰çš„æ”¯æŒï¼Œå»æ¨¡æ‹Ÿç±»çš„æ¦‚å¿µã€‚<b>åœ¨ Lua ä¸­ï¼Œè¦è¡¨ç¤ºä¸€ä¸ªç±»ï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªä¸“ç”¨ä½œå…¶ä»–å¯¹è±¡çš„åŸå‹ï¼ˆprototypeï¼‰</b>ã€‚åŸå‹ä¹Ÿæ˜¯ä¸€ç§å¸¸è§„çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡åŸå‹å»è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ã€‚å½“å…¶å®ƒå¯¹è±¡ï¼ˆç±»çš„å®ä¾‹ï¼‰é‡åˆ°ä¸€ä¸ªæœªçŸ¥æ“ä½œæ—¶ï¼ŒåŸå‹ä¼šå…ˆæŸ¥æ‰¾å®ƒã€‚</p><p>åœ¨ Lua ä¸­å®ç°åŸå‹æ˜¯éå¸¸ç®€å•çš„ï¼Œæ¯”å¦‚æœ‰ä¸¤ä¸ªå¯¹è±¡ a å’Œ bï¼Œè¦è®© b ä½œä¸º a çš„åŸå‹ï¼Œåªéœ€è¦ä»¥ä¸‹ä»£ç å°±å¯ä»¥å®Œæˆ:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">setmetatable</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">{</span>__index <span class="token operator">=</span> b<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è®¾ç½®äº†è¿™æ®µä»£ç ä»¥åï¼Œa å°±ä¼šåœ¨ b ä¸­æŸ¥æ‰¾æ‰€æœ‰å®ƒæ²¡æœ‰çš„æ“ä½œã€‚è‹¥å°† b ç§°ä¸ºæ˜¯å¯¹è±¡ a çš„â€œç±»â€ï¼Œå°±ä»…ä»…æ˜¯æœ¯è¯­ä¸Šçš„å˜åŒ–ã€‚ç°åœ¨æˆ‘å°±ä»æœ€ç®€å•çš„å¼€å§‹ï¼Œè¦åˆ›å»ºä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œå¿…é¡»è¦æœ‰ä¸€ä¸ªåŸå‹ï¼Œå°±æ˜¯æ‰€è°“çš„â€œç±»â€ï¼Œçœ‹ä»¥ä¸‹ä»£ç </p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> Account <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">-- ä¸€ä¸ªåŸå‹</span>

<span class="token keyword">function</span> Account<span class="token punctuation">:</span><span class="token function">new</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>  <span class="token comment">-- è¿™é‡Œæ˜¯å†’å·å“¦</span>
     o <span class="token operator">=</span> o <span class="token keyword">or</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">-- å¦‚æœç”¨æˆ·æ²¡æœ‰æä¾›tableï¼Œåˆ™åˆ›å»ºä¸€ä¸ª</span>
     <span class="token function">setmetatable</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> self<span class="token punctuation">)</span>
     self<span class="token punctuation">.</span>__index <span class="token operator">=</span> self
     <span class="token keyword">return</span> o
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–å…ˆä½¿ç”¨<code>Account:new</code>åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å®ä¾‹å¯¹è±¡ï¼Œå¹¶å°†<code>Account</code>ä½œä¸ºæ–°çš„å®ä¾‹å¯¹è±¡ a çš„å…ƒè¡¨ã€‚å†å½“æˆ‘ä»¬è°ƒç”¨<code>a:display</code>å‡½æ•°æ—¶ï¼Œå°±ç›¸å½“äº<code>a.display(a)</code>ï¼Œå†’å·å°±åªæ˜¯ä¸€ä¸ªâ€œè¯­æ³•ç³–â€ï¼Œåªæ˜¯ä¸€ç§æ–¹ä¾¿çš„å†™æ³•ï¼Œè€Œ<code>å½¢å‚selfæ¥ä½äº†a</code>, æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹å¯¹è±¡ aï¼Œå½“è°ƒç”¨<code>display</code>æ—¶ï¼Œå°±ä¼šæŸ¥æ‰¾ a ä¸­æ˜¯å¦æœ‰<code>display</code>å­—æ®µï¼Œæ²¡æœ‰çš„è¯ï¼Œå°±å»æœç´¢å®ƒçš„å…ƒè¡¨ï¼Œæ‰€ä»¥ï¼Œæœ€ç»ˆçš„è°ƒç”¨æƒ…å†µå¦‚ä¸‹</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token function">getmetatable</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">__index</span><span class="token punctuation">(</span><span class="token function">display</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ‰€ä»¥ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥çœ‹åˆ°çš„æ˜¯ï¼Œå®ä¾‹å¯¹è±¡ a è¡¨ä¸­å¹¶æ²¡æœ‰ display æ–¹æ³•ï¼Œè€Œæ˜¯ç»§æ‰¿è‡ª<code>Account</code>æ–¹æ³•çš„ï¼Œä½†æ˜¯ä¼ å…¥<code>display</code>æ–¹æ³•ä¸­çš„<code>self</code>ç¡®æ˜¯ aã€‚è¿™æ ·å°±å¯ä»¥è®©<code>Account</code>ï¼ˆè¿™ä¸ªâ€œç±»â€ï¼‰å®šä¹‰æ“ä½œã€‚é™¤äº†æ–¹æ³•ï¼Œa è¿˜èƒ½ä»<code>Account</code>ç»§æ‰¿æ‰€æœ‰çš„å­—æ®µã€‚</p><p>ç»§æ‰¿ä¸ä»…å¯ä»¥ç”¨äºæ–¹æ³•ï¼Œè¿˜å¯ä»¥ä½œç”¨äºå­—æ®µã€‚å› æ­¤ï¼Œä¸€ä¸ªç±»ä¸ä»…å¯ä»¥æä¾›æ–¹æ³•ï¼Œè¿˜å¯ä»¥ä¸ºå®ä¾‹ä¸­çš„å­—æ®µæä¾›é»˜è®¤å€¼ã€‚çœ‹ä»¥ä¸‹ä»£ç ï¼š</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> Account <span class="token operator">=</span> <span class="token punctuation">{</span>value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> Account<span class="token punctuation">:</span><span class="token function">new</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>  <span class="token comment">-- è¿™é‡Œæ˜¯å†’å·å“¦</span>
     o <span class="token operator">=</span> o <span class="token keyword">or</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">-- å¦‚æœç”¨æˆ·æ²¡æœ‰æä¾›tableï¼Œåˆ™åˆ›å»ºä¸€ä¸ª</span>
     <span class="token function">setmetatable</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> self<span class="token punctuation">)</span>
     self<span class="token punctuation">.</span>__index <span class="token operator">=</span> self
     <span class="token keyword">return</span> o
<span class="token keyword">end</span>

<span class="token keyword">function</span> Account<span class="token punctuation">:</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     self<span class="token punctuation">.</span>value <span class="token operator">=</span> self<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">100</span>
     <span class="token function">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">local</span> a <span class="token operator">=</span> Account<span class="token punctuation">:</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- è¿™é‡Œä½¿ç”¨åŸå‹Accountåˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡a</span>
a<span class="token punctuation">:</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">--100</span>
a<span class="token punctuation">:</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">--200</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">-- self.value = self.value + 100</span>
a<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">getmetatable</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">__index</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">100</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬ä¸€æ¬¡è°ƒç”¨<code>display</code>æ—¶ï¼Œç­‰å·å·¦ä¾§çš„<code>self.value</code>å°±æ˜¯<code>a.value</code>ï¼Œå°±ç›¸å½“äºåœ¨ a ä¸­æ·»åŠ äº†ä¸€ä¸ªæ–°çš„å­—æ®µ<code>value</code>ï¼›å½“ç¬¬äºŒæ¬¡è°ƒç”¨<code>display</code>å‡½æ•°æ—¶ï¼Œç”±äº a ä¸­å·²ç»æœ‰äº†<code>value</code>å­—æ®µï¼Œæ‰€ä»¥å°±ä¸ä¼šå»<code>Account</code>ä¸­å¯»æ‰¾<code>value</code>å­—æ®µäº†</p><h3 id="ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#ç»§æ‰¿" aria-hidden="true">#</a> ç»§æ‰¿</h3><p>ç”±äºç±»ä¹Ÿæ˜¯å¯¹è±¡ï¼ˆå‡†ç¡®åœ°è¯´æ˜¯ä¸€ä¸ªåŸå‹ï¼‰ï¼Œå®ƒä»¬ä¹Ÿå¯ä»¥ä»å…¶å®ƒç±»ï¼ˆåŸå‹ï¼‰è·å¾—ï¼ˆç»§æ‰¿ï¼‰æ–¹æ³•ã€‚è¿™ç§è¡Œä¸ºå°±æ˜¯ç»§æ‰¿ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨ Lua ä¸­å®ç°ã€‚ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªç±»:</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> CA <span class="token operator">=</span> <span class="token punctuation">{</span>value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span>

<span class="token keyword">function</span> CA<span class="token punctuation">:</span><span class="token function">new</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
     o <span class="token operator">=</span> o <span class="token keyword">or</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
     <span class="token function">setmetatable</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> self<span class="token punctuation">)</span>
     self<span class="token punctuation">.</span>__index <span class="token operator">=</span> self
     <span class="token keyword">return</span> o
<span class="token keyword">end</span>

<span class="token keyword">function</span> CA<span class="token punctuation">:</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token function">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> CA<span class="token punctuation">:</span><span class="token function">addValue</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
     self<span class="token punctuation">.</span>value <span class="token operator">=</span> self<span class="token punctuation">.</span>value <span class="token operator">+</span> v
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨éœ€è¦ä»è¿™ä¸ª<code>CA</code>ç±»æ´¾ç”Ÿå‡ºä¸€ä¸ªå­ç±»<code>CLittleA</code>ï¼Œåˆ™éœ€è¦åˆ›å»ºä¸€ä¸ªç©ºçš„ç±»ï¼Œä»åŸºç±»ç»§æ‰¿æ‰€æœ‰çš„æ“ä½œ</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> CLittleA <span class="token operator">=</span> CA<span class="token punctuation">:</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ª<code>CA</code>ç±»çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œåœ¨ Lua ä¸­ï¼Œç°åœ¨<code>CLittleA</code>æ—¢æ˜¯<code>CA</code>ç±»çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåŸå‹ï¼Œå°±æ˜¯æ‰€è°“çš„ç±»ï¼Œå°±ç›¸å½“äº<code>CLittleA</code>ç±»ç»§æ‰¿è‡ª<code>CA</code>ç±»ã€‚å†å¦‚ä¸‹é¢çš„ä»£ç </p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> s <span class="token operator">=</span> CLittleA<span class="token punctuation">:</span><span class="token function">new</span><span class="token punctuation">{</span>value1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>CLittleA</code>ä»<code>CA</code>ç»§æ‰¿äº†<code>new</code>ï¼›ä¸è¿‡ï¼Œåœ¨æ‰§è¡Œ<code>CLittleA:new</code>æ—¶ï¼Œå®ƒçš„<code>self</code>å‚æ•°è¡¨ç¤ºä¸º<code>CLittleA</code>ï¼Œæ‰€ä»¥ s çš„å…ƒè¡¨ä¸º<code>CLittleA</code>ï¼Œ<code>CLittleA</code>ä¸­å­—æ®µ<code>__index</code>çš„å€¼ä¹Ÿæ˜¯<code>CLittleA</code>ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬å°±ä¼šçœ‹åˆ°ï¼Œs ç»§æ‰¿è‡ª<code>CLittleA</code>ï¼Œè€Œ<code>CLittleA</code>åˆç»§æ‰¿è‡ª<code>CA</code>ã€‚å½“æ‰§è¡Œ<code>s:display</code>æ—¶ï¼ŒLua åœ¨ s ä¸­æ‰¾ä¸åˆ°<code>display</code>å­—æ®µï¼Œå°±ä¼šæŸ¥æ‰¾<code>CLittleA</code>ï¼›</p><p>å¦‚æœä»ç„¶æ‰¾ä¸åˆ°<code>display</code>å­—æ®µï¼Œå°±æŸ¥æ‰¾<code>CA</code>ï¼Œæœ€ç»ˆä¼šåœ¨<code>CA</code>ä¸­æ‰¾åˆ°<code>display</code>å­—æ®µã€‚</p><p>å¯ä»¥è¿™æ ·æƒ³ä¸€ä¸‹ï¼Œå¦‚æœåœ¨<code>CLittleA</code>ä¸­å­˜åœ¨äº†<code>display</code>å­—æ®µï¼Œé‚£ä¹ˆå°±ä¸ä¼šå»<code>CA</code>ä¸­å†æ‰¾äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨<code>CLittleA</code>ä¸­é‡å®šä¹‰<code>display</code>å­—æ®µï¼Œä»è€Œå®ç°ç‰¹æ®Šç‰ˆæœ¬çš„<code>display</code>å‡½æ•°</p><h3 id="å°è£…" tabindex="-1"><a class="header-anchor" href="#å°è£…" aria-hidden="true">#</a> å°è£…</h3><p>æ€æƒ³å°±æ˜¯é€šè¿‡ä¸¤ä¸ª<code>table</code>æ¥è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡ã€‚ä¸€ä¸ª<code>table</code>ç”¨æ¥ä¿å­˜å¯¹è±¡çš„ç§æœ‰æ•°æ®ï¼›å¦ä¸€ä¸ªç”¨äºå¯¹è±¡çš„æ“ä½œã€‚å¯¹è±¡çš„å®é™…æ“ä½œæ—¶é€šè¿‡ç¬¬äºŒä¸ª<code>table</code>æ¥å®ç°çš„ã€‚ä¸ºäº†é¿å…æœªæˆæƒçš„è®¿é—®ï¼Œä¿å­˜å¯¹è±¡çš„ç§æœ‰æ•°æ®çš„è¡¨ä¸ä¿å­˜åœ¨å…¶å®ƒçš„<code>table</code>ä¸­ï¼Œè€Œåªæ˜¯ä¿å­˜åœ¨æ–¹æ³•çš„<code>closure</code>ä¸­ã€‚çœ‹ä¸€æ®µä»£ç :</p><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">function</span> <span class="token function">newObject</span><span class="token punctuation">(</span>defaultName<span class="token punctuation">)</span>
     <span class="token keyword">local</span> self <span class="token operator">=</span> <span class="token punctuation">{</span>name <span class="token operator">=</span> defaultName<span class="token punctuation">}</span>
     <span class="token keyword">local</span> setName <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> self<span class="token punctuation">.</span>name <span class="token operator">=</span> v <span class="token keyword">end</span>
     <span class="token keyword">local</span> getName <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">return</span> self<span class="token punctuation">.</span>name <span class="token keyword">end</span>
     <span class="token keyword">return</span> <span class="token punctuation">{</span>setName <span class="token operator">=</span> setName<span class="token punctuation">,</span> getName <span class="token operator">=</span> getName<span class="token punctuation">}</span>
<span class="token keyword">end</span>

<span class="token keyword">local</span> objectA <span class="token operator">=</span> <span class="token function">newObject</span><span class="token punctuation">(</span><span class="token string">&quot;Jelly&quot;</span><span class="token punctuation">)</span>
objectA<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;JellyThink&quot;</span><span class="token punctuation">)</span> <span class="token comment">-- è¿™é‡Œæ²¡æœ‰ä½¿ç”¨å†’å·è®¿é—®</span>
<span class="token function">print</span><span class="token punctuation">(</span>objectA<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§è®¾è®¡ç»™äºˆå­˜å‚¨åœ¨<code>self table</code>ä¸­æ‰€æœ‰ä¸œè¥¿å®Œå…¨çš„ç§å¯†æ€§ã€‚å½“è°ƒç”¨<code>newObject</code>è¿”å›ä»¥åï¼Œå°±æ— æ³•ç›´æ¥è®¿é—®è¿™ä¸ª<code>table</code>äº†ã€‚åªèƒ½é€šè¿‡<code>newObject</code>ä¸­åˆ›å»ºçš„å‡½æ•°æ¥è®¿é—®è¿™ä¸ª<code>self table</code>ï¼›</p><p>ä¹Ÿå°±ç›¸å½“äº<code>self table</code>ä¸­ä¿å­˜çš„éƒ½æ˜¯ç§æœ‰çš„ï¼Œå¤–éƒ¨æ˜¯æ— æ³•ç›´æ¥è®¿é—®çš„ã€‚å¤§å®¶å¯èƒ½ä¹Ÿæ³¨æ„åˆ°äº†ï¼Œæˆ‘åœ¨è®¿é—®å‡½æ•°æ—¶ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨å†’å·ï¼Œè¿™ä¸ªä¸»è¦æ˜¯å› ä¸ºï¼Œå¯ä»¥ç›´æ¥è®¿é—®çš„<code>self table</code>ä¸­çš„å­—æ®µï¼Œæ‰€ä»¥æ˜¯ä¸éœ€è¦å¤šä½™çš„<code>self</code>å­—æ®µçš„ï¼Œä¹Ÿå°±ä¸ç”¨å†’å·äº†ã€‚</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/msqtt/msqtt.github.io/edit/master/docs/linux/lua/02-advance.md" rel="noopener noreferrer" target="_blank" aria-label="Edit âœğŸ»ï¸"><!--[--><!--]--> Edit âœğŸ»ï¸ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last âŒšï¸: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: mosquito@email.cn">mosqu1t0</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/linux/lua/01-base.html" class="" aria-label="åŸºç¡€å†…å®¹"><!--[--><!--]--> åŸºç¡€å†…å®¹ <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-59ccc503.js" defer></script>
  </body>
</html>
